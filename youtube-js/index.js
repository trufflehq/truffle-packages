/* eslint-disable */
var __create = Object.create;
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key2, value) =>
  key2 in obj
    ? __defProp(obj, key2, {
      enumerable: true,
      configurable: true,
      writable: true,
      value,
    })
    : obj[key2] = value;
var __spreadValues = (a, b) => {
  for (var prop2 in b || (b = {})) {
    if (__hasOwnProp.call(b, prop2)) {
      __defNormalProp(a, prop2, b[prop2]);
    }
  }
  if (__getOwnPropSymbols) {
    for (var prop2 of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop2)) {
        __defNormalProp(a, prop2, b[prop2]);
      }
    }
  }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) =>
  __defProp(target, "name", { value, configurable: true });
var __require =
  /* @__PURE__ */ ((x) =>
    typeof require !== "undefined"
      ? require
      : typeof Proxy !== "undefined"
      ? new Proxy(x, {
        get: (a, b) => (typeof require !== "undefined" ? require : a)[b],
      })
      : x)(function (x) {
      if (typeof require !== "undefined") {
        return require.apply(this, arguments);
      }
      throw new Error('Dynamic require of "' + x + '" is not supported');
    });
var __commonJS = (cb, mod) =>
  function __require2() {
    return mod ||
      (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod),
      mod.exports;
  };
var __export = (target, all) => {
  for (var name in all) {
    __defProp(target, name, { get: all[name], enumerable: true });
  }
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key2 of __getOwnPropNames(from)) {
      if (!__hasOwnProp.call(to, key2) && key2 !== except) {
        __defProp(to, key2, {
          get: () => from[key2],
          enumerable: !(desc = __getOwnPropDesc(from, key2)) || desc.enumerable,
        });
      }
    }
  }
  return to;
};
var __toESM = (
  mod,
  isNodeMode,
  target,
) => (target = mod != null ? __create(__getProtoOf(mod)) : {},
  __copyProps(
    isNodeMode || !mod || !mod.__esModule
      ? __defProp(target, "default", { value: mod, enumerable: true })
      : target,
    mod,
  ));

// node_modules/flat/index.js
var require_flat = __commonJS({
  "node_modules/flat/index.js"(exports, module2) {
    module2.exports = flatten;
    flatten.flatten = flatten;
    flatten.unflatten = unflatten;
    function isBuffer(obj) {
      return obj && obj.constructor &&
        typeof obj.constructor.isBuffer === "function" &&
        obj.constructor.isBuffer(obj);
    }
    __name(isBuffer, "isBuffer");
    function keyIdentity(key2) {
      return key2;
    }
    __name(keyIdentity, "keyIdentity");
    function flatten(target, opts) {
      opts = opts || {};
      const delimiter = opts.delimiter || ".";
      const maxDepth = opts.maxDepth;
      const transformKey = opts.transformKey || keyIdentity;
      const output = {};
      function step(object, prev, currentDepth) {
        currentDepth = currentDepth || 1;
        Object.keys(object).forEach(function (key2) {
          const value = object[key2];
          const isarray = opts.safe && Array.isArray(value);
          const type = Object.prototype.toString.call(value);
          const isbuffer = isBuffer(value);
          const isobject = type === "[object Object]" ||
            type === "[object Array]";
          const newKey = prev
            ? prev + delimiter + transformKey(key2)
            : transformKey(key2);
          if (
            !isarray && !isbuffer && isobject && Object.keys(value).length &&
            (!opts.maxDepth || currentDepth < maxDepth)
          ) {
            return step(value, newKey, currentDepth + 1);
          }
          output[newKey] = value;
        });
      }
      __name(step, "step");
      step(target);
      return output;
    }
    __name(flatten, "flatten");
    function unflatten(target, opts) {
      opts = opts || {};
      const delimiter = opts.delimiter || ".";
      const overwrite = opts.overwrite || false;
      const transformKey = opts.transformKey || keyIdentity;
      const result = {};
      const isbuffer = isBuffer(target);
      if (
        isbuffer || Object.prototype.toString.call(target) !== "[object Object]"
      ) {
        return target;
      }
      function getkey(key2) {
        const parsedKey = Number(key2);
        return isNaN(parsedKey) || key2.indexOf(".") !== -1 || opts.object
          ? key2
          : parsedKey;
      }
      __name(getkey, "getkey");
      function addKeys(keyPrefix, recipient, target2) {
        return Object.keys(target2).reduce(function (result2, key2) {
          result2[keyPrefix + delimiter + key2] = target2[key2];
          return result2;
        }, recipient);
      }
      __name(addKeys, "addKeys");
      function isEmpty(val) {
        const type = Object.prototype.toString.call(val);
        const isArray2 = type === "[object Array]";
        const isObject = type === "[object Object]";
        if (!val) {
          return true;
        } else if (isArray2) {
          return !val.length;
        } else if (isObject) {
          return !Object.keys(val).length;
        }
      }
      __name(isEmpty, "isEmpty");
      target = Object.keys(target).reduce(function (result2, key2) {
        const type = Object.prototype.toString.call(target[key2]);
        const isObject = type === "[object Object]" ||
          type === "[object Array]";
        if (!isObject || isEmpty(target[key2])) {
          result2[key2] = target[key2];
          return result2;
        } else {
          return addKeys(key2, result2, flatten(target[key2], opts));
        }
      }, {});
      Object.keys(target).forEach(function (key2) {
        const split = key2.split(delimiter).map(transformKey);
        let key1 = getkey(split.shift());
        let key22 = getkey(split[0]);
        let recipient = result;
        while (key22 !== void 0) {
          if (key1 === "__proto__") {
            return;
          }
          const type = Object.prototype.toString.call(recipient[key1]);
          const isobject = type === "[object Object]" ||
            type === "[object Array]";
          if (
            !overwrite && !isobject && typeof recipient[key1] !== "undefined"
          ) {
            return;
          }
          if (overwrite && !isobject || !overwrite && recipient[key1] == null) {
            recipient[key1] = typeof key22 === "number" && !opts.object
              ? []
              : {};
          }
          recipient = recipient[key1];
          if (split.length > 0) {
            key1 = getkey(split.shift());
            key22 = getkey(split[0]);
          }
        }
        recipient[key1] = unflatten(target[key2], opts);
      });
      return result;
    }
    __name(unflatten, "unflatten");
  },
});

// node_modules/linkedom/commonjs/perf_hooks.cjs
var require_perf_hooks = __commonJS({
  "node_modules/linkedom/commonjs/perf_hooks.cjs"(exports) {
    try {
      const { performance: performance2 } = __require("perf_hooks");
      exports.performance = performance2;
    } catch (fallback) {
      exports.performance = {
        now() {
          return +new Date();
        },
      };
    }
  },
});

// node_modules/boolbase/index.js
var require_boolbase = __commonJS({
  "node_modules/boolbase/index.js"(exports, module2) {
    module2.exports = {
      trueFunc: /* @__PURE__ */ __name(function trueFunc() {
        return true;
      }, "trueFunc"),
      falseFunc: /* @__PURE__ */ __name(function falseFunc() {
        return false;
      }, "falseFunc"),
    };
  },
});

// node_modules/cssom/lib/StyleSheet.js
var require_StyleSheet = __commonJS({
  "node_modules/cssom/lib/StyleSheet.js"(exports) {
    var CSSOM = {};
    CSSOM.StyleSheet = /* @__PURE__ */ __name(function StyleSheet() {
      this.parentStyleSheet = null;
    }, "StyleSheet");
    exports.StyleSheet = CSSOM.StyleSheet;
  },
});

// node_modules/cssom/lib/CSSRule.js
var require_CSSRule = __commonJS({
  "node_modules/cssom/lib/CSSRule.js"(exports) {
    var CSSOM = {};
    CSSOM.CSSRule = /* @__PURE__ */ __name(function CSSRule() {
      this.parentRule = null;
      this.parentStyleSheet = null;
    }, "CSSRule");
    CSSOM.CSSRule.UNKNOWN_RULE = 0;
    CSSOM.CSSRule.STYLE_RULE = 1;
    CSSOM.CSSRule.CHARSET_RULE = 2;
    CSSOM.CSSRule.IMPORT_RULE = 3;
    CSSOM.CSSRule.MEDIA_RULE = 4;
    CSSOM.CSSRule.FONT_FACE_RULE = 5;
    CSSOM.CSSRule.PAGE_RULE = 6;
    CSSOM.CSSRule.KEYFRAMES_RULE = 7;
    CSSOM.CSSRule.KEYFRAME_RULE = 8;
    CSSOM.CSSRule.MARGIN_RULE = 9;
    CSSOM.CSSRule.NAMESPACE_RULE = 10;
    CSSOM.CSSRule.COUNTER_STYLE_RULE = 11;
    CSSOM.CSSRule.SUPPORTS_RULE = 12;
    CSSOM.CSSRule.DOCUMENT_RULE = 13;
    CSSOM.CSSRule.FONT_FEATURE_VALUES_RULE = 14;
    CSSOM.CSSRule.VIEWPORT_RULE = 15;
    CSSOM.CSSRule.REGION_STYLE_RULE = 16;
    CSSOM.CSSRule.prototype = {
      constructor: CSSOM.CSSRule,
    };
    exports.CSSRule = CSSOM.CSSRule;
  },
});

// node_modules/cssom/lib/CSSStyleRule.js
var require_CSSStyleRule = __commonJS({
  "node_modules/cssom/lib/CSSStyleRule.js"(exports) {
    var CSSOM = {
      CSSStyleDeclaration: require_CSSStyleDeclaration().CSSStyleDeclaration,
      CSSRule: require_CSSRule().CSSRule,
    };
    CSSOM.CSSStyleRule = /* @__PURE__ */ __name(function CSSStyleRule() {
      CSSOM.CSSRule.call(this);
      this.selectorText = "";
      this.style = new CSSOM.CSSStyleDeclaration();
      this.style.parentRule = this;
    }, "CSSStyleRule");
    CSSOM.CSSStyleRule.prototype = new CSSOM.CSSRule();
    CSSOM.CSSStyleRule.prototype.constructor = CSSOM.CSSStyleRule;
    CSSOM.CSSStyleRule.prototype.type = 1;
    Object.defineProperty(CSSOM.CSSStyleRule.prototype, "cssText", {
      get: function () {
        var text;
        if (this.selectorText) {
          text = this.selectorText + " {" + this.style.cssText + "}";
        } else {
          text = "";
        }
        return text;
      },
      set: function (cssText) {
        var rule = CSSOM.CSSStyleRule.parse(cssText);
        this.style = rule.style;
        this.selectorText = rule.selectorText;
      },
    });
    CSSOM.CSSStyleRule.parse = function (ruleText) {
      var i = 0;
      var state = "selector";
      var index;
      var j = i;
      var buffer = "";
      var SIGNIFICANT_WHITESPACE = {
        "selector": true,
        "value": true,
      };
      var styleRule = new CSSOM.CSSStyleRule();
      var name, priority = "";
      for (var character; character = ruleText.charAt(i); i++) {
        switch (character) {
          case " ":
          case "	":
          case "\r":
          case "\n":
          case "\f":
            if (SIGNIFICANT_WHITESPACE[state]) {
              switch (ruleText.charAt(i - 1)) {
                case " ":
                case "	":
                case "\r":
                case "\n":
                case "\f":
                  break;
                default:
                  buffer += " ";
                  break;
              }
            }
            break;
          case '"':
            j = i + 1;
            index = ruleText.indexOf('"', j) + 1;
            if (!index) {
              throw '" is missing';
            }
            buffer += ruleText.slice(i, index);
            i = index - 1;
            break;
          case "'":
            j = i + 1;
            index = ruleText.indexOf("'", j) + 1;
            if (!index) {
              throw "' is missing";
            }
            buffer += ruleText.slice(i, index);
            i = index - 1;
            break;
          case "/":
            if (ruleText.charAt(i + 1) === "*") {
              i += 2;
              index = ruleText.indexOf("*/", i);
              if (index === -1) {
                throw new SyntaxError("Missing */");
              } else {
                i = index + 1;
              }
            } else {
              buffer += character;
            }
            break;
          case "{":
            if (state === "selector") {
              styleRule.selectorText = buffer.trim();
              buffer = "";
              state = "name";
            }
            break;
          case ":":
            if (state === "name") {
              name = buffer.trim();
              buffer = "";
              state = "value";
            } else {
              buffer += character;
            }
            break;
          case "!":
            if (state === "value" && ruleText.indexOf("!important", i) === i) {
              priority = "important";
              i += "important".length;
            } else {
              buffer += character;
            }
            break;
          case ";":
            if (state === "value") {
              styleRule.style.setProperty(name, buffer.trim(), priority);
              priority = "";
              buffer = "";
              state = "name";
            } else {
              buffer += character;
            }
            break;
          case "}":
            if (state === "value") {
              styleRule.style.setProperty(name, buffer.trim(), priority);
              priority = "";
              buffer = "";
            } else if (state === "name") {
              break;
            } else {
              buffer += character;
            }
            state = "selector";
            break;
          default:
            buffer += character;
            break;
        }
      }
      return styleRule;
    };
    exports.CSSStyleRule = CSSOM.CSSStyleRule;
  },
});

// node_modules/cssom/lib/CSSStyleSheet.js
var require_CSSStyleSheet = __commonJS({
  "node_modules/cssom/lib/CSSStyleSheet.js"(exports) {
    var CSSOM = {
      StyleSheet: require_StyleSheet().StyleSheet,
      CSSStyleRule: require_CSSStyleRule().CSSStyleRule,
    };
    CSSOM.CSSStyleSheet = /* @__PURE__ */ __name(function CSSStyleSheet() {
      CSSOM.StyleSheet.call(this);
      this.cssRules = [];
    }, "CSSStyleSheet");
    CSSOM.CSSStyleSheet.prototype = new CSSOM.StyleSheet();
    CSSOM.CSSStyleSheet.prototype.constructor = CSSOM.CSSStyleSheet;
    CSSOM.CSSStyleSheet.prototype.insertRule = function (rule, index) {
      if (index < 0 || index > this.cssRules.length) {
        throw new RangeError("INDEX_SIZE_ERR");
      }
      var cssRule = CSSOM.parse(rule).cssRules[0];
      cssRule.parentStyleSheet = this;
      this.cssRules.splice(index, 0, cssRule);
      return index;
    };
    CSSOM.CSSStyleSheet.prototype.deleteRule = function (index) {
      if (index < 0 || index >= this.cssRules.length) {
        throw new RangeError("INDEX_SIZE_ERR");
      }
      this.cssRules.splice(index, 1);
    };
    CSSOM.CSSStyleSheet.prototype.toString = function () {
      var result = "";
      var rules = this.cssRules;
      for (var i = 0; i < rules.length; i++) {
        result += rules[i].cssText + "\n";
      }
      return result;
    };
    exports.CSSStyleSheet = CSSOM.CSSStyleSheet;
    CSSOM.parse = require_parse().parse;
  },
});

// node_modules/cssom/lib/MediaList.js
var require_MediaList = __commonJS({
  "node_modules/cssom/lib/MediaList.js"(exports) {
    var CSSOM = {};
    CSSOM.MediaList = /* @__PURE__ */ __name(function MediaList() {
      this.length = 0;
    }, "MediaList");
    CSSOM.MediaList.prototype = {
      constructor: CSSOM.MediaList,
      get mediaText() {
        return Array.prototype.join.call(this, ", ");
      },
      set mediaText(value) {
        var values = value.split(",");
        var length = this.length = values.length;
        for (var i = 0; i < length; i++) {
          this[i] = values[i].trim();
        }
      },
      appendMedium: function (medium) {
        if (Array.prototype.indexOf.call(this, medium) === -1) {
          this[this.length] = medium;
          this.length++;
        }
      },
      deleteMedium: function (medium) {
        var index = Array.prototype.indexOf.call(this, medium);
        if (index !== -1) {
          Array.prototype.splice.call(this, index, 1);
        }
      },
    };
    exports.MediaList = CSSOM.MediaList;
  },
});

// node_modules/cssom/lib/CSSImportRule.js
var require_CSSImportRule = __commonJS({
  "node_modules/cssom/lib/CSSImportRule.js"(exports) {
    var CSSOM = {
      CSSRule: require_CSSRule().CSSRule,
      CSSStyleSheet: require_CSSStyleSheet().CSSStyleSheet,
      MediaList: require_MediaList().MediaList,
    };
    CSSOM.CSSImportRule = /* @__PURE__ */ __name(function CSSImportRule() {
      CSSOM.CSSRule.call(this);
      this.href = "";
      this.media = new CSSOM.MediaList();
      this.styleSheet = new CSSOM.CSSStyleSheet();
    }, "CSSImportRule");
    CSSOM.CSSImportRule.prototype = new CSSOM.CSSRule();
    CSSOM.CSSImportRule.prototype.constructor = CSSOM.CSSImportRule;
    CSSOM.CSSImportRule.prototype.type = 3;
    Object.defineProperty(CSSOM.CSSImportRule.prototype, "cssText", {
      get: function () {
        var mediaText = this.media.mediaText;
        return "@import url(" + this.href + ")" +
          (mediaText ? " " + mediaText : "") + ";";
      },
      set: function (cssText) {
        var i = 0;
        var state = "";
        var buffer = "";
        var index;
        for (var character; character = cssText.charAt(i); i++) {
          switch (character) {
            case " ":
            case "	":
            case "\r":
            case "\n":
            case "\f":
              if (state === "after-import") {
                state = "url";
              } else {
                buffer += character;
              }
              break;
            case "@":
              if (!state && cssText.indexOf("@import", i) === i) {
                state = "after-import";
                i += "import".length;
                buffer = "";
              }
              break;
            case "u":
              if (state === "url" && cssText.indexOf("url(", i) === i) {
                index = cssText.indexOf(")", i + 1);
                if (index === -1) {
                  throw i + ': ")" not found';
                }
                i += "url(".length;
                var url = cssText.slice(i, index);
                if (url[0] === url[url.length - 1]) {
                  if (url[0] === '"' || url[0] === "'") {
                    url = url.slice(1, -1);
                  }
                }
                this.href = url;
                i = index;
                state = "media";
              }
              break;
            case '"':
              if (state === "url") {
                index = cssText.indexOf('"', i + 1);
                if (!index) {
                  throw i + `: '"' not found`;
                }
                this.href = cssText.slice(i + 1, index);
                i = index;
                state = "media";
              }
              break;
            case "'":
              if (state === "url") {
                index = cssText.indexOf("'", i + 1);
                if (!index) {
                  throw i + `: "'" not found`;
                }
                this.href = cssText.slice(i + 1, index);
                i = index;
                state = "media";
              }
              break;
            case ";":
              if (state === "media") {
                if (buffer) {
                  this.media.mediaText = buffer.trim();
                }
              }
              break;
            default:
              if (state === "media") {
                buffer += character;
              }
              break;
          }
        }
      },
    });
    exports.CSSImportRule = CSSOM.CSSImportRule;
  },
});

// node_modules/cssom/lib/CSSGroupingRule.js
var require_CSSGroupingRule = __commonJS({
  "node_modules/cssom/lib/CSSGroupingRule.js"(exports) {
    var CSSOM = {
      CSSRule: require_CSSRule().CSSRule,
    };
    CSSOM.CSSGroupingRule = /* @__PURE__ */ __name(function CSSGroupingRule() {
      CSSOM.CSSRule.call(this);
      this.cssRules = [];
    }, "CSSGroupingRule");
    CSSOM.CSSGroupingRule.prototype = new CSSOM.CSSRule();
    CSSOM.CSSGroupingRule.prototype.constructor = CSSOM.CSSGroupingRule;
    CSSOM.CSSGroupingRule.prototype.insertRule = /* @__PURE__ */ __name(
      function insertRule(rule, index) {
        if (index < 0 || index > this.cssRules.length) {
          throw new RangeError("INDEX_SIZE_ERR");
        }
        var cssRule = CSSOM.parse(rule).cssRules[0];
        cssRule.parentRule = this;
        this.cssRules.splice(index, 0, cssRule);
        return index;
      },
      "insertRule",
    );
    CSSOM.CSSGroupingRule.prototype.deleteRule = /* @__PURE__ */ __name(
      function deleteRule(index) {
        if (index < 0 || index >= this.cssRules.length) {
          throw new RangeError("INDEX_SIZE_ERR");
        }
        this.cssRules.splice(index, 1)[0].parentRule = null;
      },
      "deleteRule",
    );
    exports.CSSGroupingRule = CSSOM.CSSGroupingRule;
  },
});

// node_modules/cssom/lib/CSSConditionRule.js
var require_CSSConditionRule = __commonJS({
  "node_modules/cssom/lib/CSSConditionRule.js"(exports) {
    var CSSOM = {
      CSSRule: require_CSSRule().CSSRule,
      CSSGroupingRule: require_CSSGroupingRule().CSSGroupingRule,
    };
    CSSOM.CSSConditionRule = /* @__PURE__ */ __name(
      function CSSConditionRule() {
        CSSOM.CSSGroupingRule.call(this);
        this.cssRules = [];
      },
      "CSSConditionRule",
    );
    CSSOM.CSSConditionRule.prototype = new CSSOM.CSSGroupingRule();
    CSSOM.CSSConditionRule.prototype.constructor = CSSOM.CSSConditionRule;
    CSSOM.CSSConditionRule.prototype.conditionText = "";
    CSSOM.CSSConditionRule.prototype.cssText = "";
    exports.CSSConditionRule = CSSOM.CSSConditionRule;
  },
});

// node_modules/cssom/lib/CSSMediaRule.js
var require_CSSMediaRule = __commonJS({
  "node_modules/cssom/lib/CSSMediaRule.js"(exports) {
    var CSSOM = {
      CSSRule: require_CSSRule().CSSRule,
      CSSGroupingRule: require_CSSGroupingRule().CSSGroupingRule,
      CSSConditionRule: require_CSSConditionRule().CSSConditionRule,
      MediaList: require_MediaList().MediaList,
    };
    CSSOM.CSSMediaRule = /* @__PURE__ */ __name(function CSSMediaRule() {
      CSSOM.CSSConditionRule.call(this);
      this.media = new CSSOM.MediaList();
    }, "CSSMediaRule");
    CSSOM.CSSMediaRule.prototype = new CSSOM.CSSConditionRule();
    CSSOM.CSSMediaRule.prototype.constructor = CSSOM.CSSMediaRule;
    CSSOM.CSSMediaRule.prototype.type = 4;
    Object.defineProperties(CSSOM.CSSMediaRule.prototype, {
      "conditionText": {
        get: function () {
          return this.media.mediaText;
        },
        set: function (value) {
          this.media.mediaText = value;
        },
        configurable: true,
        enumerable: true,
      },
      "cssText": {
        get: function () {
          var cssTexts = [];
          for (var i = 0, length = this.cssRules.length; i < length; i++) {
            cssTexts.push(this.cssRules[i].cssText);
          }
          return "@media " + this.media.mediaText + " {" + cssTexts.join("") +
            "}";
        },
        configurable: true,
        enumerable: true,
      },
    });
    exports.CSSMediaRule = CSSOM.CSSMediaRule;
  },
});

// node_modules/cssom/lib/CSSSupportsRule.js
var require_CSSSupportsRule = __commonJS({
  "node_modules/cssom/lib/CSSSupportsRule.js"(exports) {
    var CSSOM = {
      CSSRule: require_CSSRule().CSSRule,
      CSSGroupingRule: require_CSSGroupingRule().CSSGroupingRule,
      CSSConditionRule: require_CSSConditionRule().CSSConditionRule,
    };
    CSSOM.CSSSupportsRule = /* @__PURE__ */ __name(function CSSSupportsRule() {
      CSSOM.CSSConditionRule.call(this);
    }, "CSSSupportsRule");
    CSSOM.CSSSupportsRule.prototype = new CSSOM.CSSConditionRule();
    CSSOM.CSSSupportsRule.prototype.constructor = CSSOM.CSSSupportsRule;
    CSSOM.CSSSupportsRule.prototype.type = 12;
    Object.defineProperty(CSSOM.CSSSupportsRule.prototype, "cssText", {
      get: function () {
        var cssTexts = [];
        for (var i = 0, length = this.cssRules.length; i < length; i++) {
          cssTexts.push(this.cssRules[i].cssText);
        }
        return "@supports " + this.conditionText + " {" + cssTexts.join("") +
          "}";
      },
    });
    exports.CSSSupportsRule = CSSOM.CSSSupportsRule;
  },
});

// node_modules/cssom/lib/CSSFontFaceRule.js
var require_CSSFontFaceRule = __commonJS({
  "node_modules/cssom/lib/CSSFontFaceRule.js"(exports) {
    var CSSOM = {
      CSSStyleDeclaration: require_CSSStyleDeclaration().CSSStyleDeclaration,
      CSSRule: require_CSSRule().CSSRule,
    };
    CSSOM.CSSFontFaceRule = /* @__PURE__ */ __name(function CSSFontFaceRule() {
      CSSOM.CSSRule.call(this);
      this.style = new CSSOM.CSSStyleDeclaration();
      this.style.parentRule = this;
    }, "CSSFontFaceRule");
    CSSOM.CSSFontFaceRule.prototype = new CSSOM.CSSRule();
    CSSOM.CSSFontFaceRule.prototype.constructor = CSSOM.CSSFontFaceRule;
    CSSOM.CSSFontFaceRule.prototype.type = 5;
    Object.defineProperty(CSSOM.CSSFontFaceRule.prototype, "cssText", {
      get: function () {
        return "@font-face {" + this.style.cssText + "}";
      },
    });
    exports.CSSFontFaceRule = CSSOM.CSSFontFaceRule;
  },
});

// node_modules/cssom/lib/CSSHostRule.js
var require_CSSHostRule = __commonJS({
  "node_modules/cssom/lib/CSSHostRule.js"(exports) {
    var CSSOM = {
      CSSRule: require_CSSRule().CSSRule,
    };
    CSSOM.CSSHostRule = /* @__PURE__ */ __name(function CSSHostRule() {
      CSSOM.CSSRule.call(this);
      this.cssRules = [];
    }, "CSSHostRule");
    CSSOM.CSSHostRule.prototype = new CSSOM.CSSRule();
    CSSOM.CSSHostRule.prototype.constructor = CSSOM.CSSHostRule;
    CSSOM.CSSHostRule.prototype.type = 1001;
    Object.defineProperty(CSSOM.CSSHostRule.prototype, "cssText", {
      get: function () {
        var cssTexts = [];
        for (var i = 0, length = this.cssRules.length; i < length; i++) {
          cssTexts.push(this.cssRules[i].cssText);
        }
        return "@host {" + cssTexts.join("") + "}";
      },
    });
    exports.CSSHostRule = CSSOM.CSSHostRule;
  },
});

// node_modules/cssom/lib/CSSKeyframeRule.js
var require_CSSKeyframeRule = __commonJS({
  "node_modules/cssom/lib/CSSKeyframeRule.js"(exports) {
    var CSSOM = {
      CSSRule: require_CSSRule().CSSRule,
      CSSStyleDeclaration: require_CSSStyleDeclaration().CSSStyleDeclaration,
    };
    CSSOM.CSSKeyframeRule = /* @__PURE__ */ __name(function CSSKeyframeRule() {
      CSSOM.CSSRule.call(this);
      this.keyText = "";
      this.style = new CSSOM.CSSStyleDeclaration();
      this.style.parentRule = this;
    }, "CSSKeyframeRule");
    CSSOM.CSSKeyframeRule.prototype = new CSSOM.CSSRule();
    CSSOM.CSSKeyframeRule.prototype.constructor = CSSOM.CSSKeyframeRule;
    CSSOM.CSSKeyframeRule.prototype.type = 8;
    Object.defineProperty(CSSOM.CSSKeyframeRule.prototype, "cssText", {
      get: function () {
        return this.keyText + " {" + this.style.cssText + "} ";
      },
    });
    exports.CSSKeyframeRule = CSSOM.CSSKeyframeRule;
  },
});

// node_modules/cssom/lib/CSSKeyframesRule.js
var require_CSSKeyframesRule = __commonJS({
  "node_modules/cssom/lib/CSSKeyframesRule.js"(exports) {
    var CSSOM = {
      CSSRule: require_CSSRule().CSSRule,
    };
    CSSOM.CSSKeyframesRule = /* @__PURE__ */ __name(
      function CSSKeyframesRule() {
        CSSOM.CSSRule.call(this);
        this.name = "";
        this.cssRules = [];
      },
      "CSSKeyframesRule",
    );
    CSSOM.CSSKeyframesRule.prototype = new CSSOM.CSSRule();
    CSSOM.CSSKeyframesRule.prototype.constructor = CSSOM.CSSKeyframesRule;
    CSSOM.CSSKeyframesRule.prototype.type = 7;
    Object.defineProperty(CSSOM.CSSKeyframesRule.prototype, "cssText", {
      get: function () {
        var cssTexts = [];
        for (var i = 0, length = this.cssRules.length; i < length; i++) {
          cssTexts.push("  " + this.cssRules[i].cssText);
        }
        return "@" + (this._vendorPrefix || "") + "keyframes " + this.name +
          " { \n" + cssTexts.join("\n") + "\n}";
      },
    });
    exports.CSSKeyframesRule = CSSOM.CSSKeyframesRule;
  },
});

// node_modules/cssom/lib/CSSValue.js
var require_CSSValue = __commonJS({
  "node_modules/cssom/lib/CSSValue.js"(exports) {
    var CSSOM = {};
    CSSOM.CSSValue = /* @__PURE__ */ __name(function CSSValue() {
    }, "CSSValue");
    CSSOM.CSSValue.prototype = {
      constructor: CSSOM.CSSValue,
      set cssText(text) {
        var name = this._getConstructorName();
        throw new Error(
          'DOMException: property "cssText" of "' + name +
            '" is readonly and can not be replaced with "' + text + '"!',
        );
      },
      get cssText() {
        var name = this._getConstructorName();
        throw new Error(
          'getter "cssText" of "' + name + '" is not implemented!',
        );
      },
      _getConstructorName: function () {
        var s = this.constructor.toString(),
          c = s.match(/function\s([^\(]+)/),
          name = c[1];
        return name;
      },
    };
    exports.CSSValue = CSSOM.CSSValue;
  },
});

// node_modules/cssom/lib/CSSValueExpression.js
var require_CSSValueExpression = __commonJS({
  "node_modules/cssom/lib/CSSValueExpression.js"(exports) {
    var CSSOM = {
      CSSValue: require_CSSValue().CSSValue,
    };
    CSSOM.CSSValueExpression = /* @__PURE__ */ __name(
      function CSSValueExpression(token, idx) {
        this._token = token;
        this._idx = idx;
      },
      "CSSValueExpression",
    );
    CSSOM.CSSValueExpression.prototype = new CSSOM.CSSValue();
    CSSOM.CSSValueExpression.prototype.constructor = CSSOM.CSSValueExpression;
    CSSOM.CSSValueExpression.prototype.parse = function () {
      var token = this._token, idx = this._idx;
      var character = "", expression = "", error = "", info, paren = [];
      for (;; ++idx) {
        character = token.charAt(idx);
        if (character === "") {
          error = "css expression error: unfinished expression!";
          break;
        }
        switch (character) {
          case "(":
            paren.push(character);
            expression += character;
            break;
          case ")":
            paren.pop(character);
            expression += character;
            break;
          case "/":
            if (info = this._parseJSComment(token, idx)) {
              if (info.error) {
                error =
                  "css expression error: unfinished comment in expression!";
              } else {
                idx = info.idx;
              }
            } else if (info = this._parseJSRexExp(token, idx)) {
              idx = info.idx;
              expression += info.text;
            } else {
              expression += character;
            }
            break;
          case "'":
          case '"':
            info = this._parseJSString(token, idx, character);
            if (info) {
              idx = info.idx;
              expression += info.text;
            } else {
              expression += character;
            }
            break;
          default:
            expression += character;
            break;
        }
        if (error) {
          break;
        }
        if (paren.length === 0) {
          break;
        }
      }
      var ret;
      if (error) {
        ret = {
          error,
        };
      } else {
        ret = {
          idx,
          expression,
        };
      }
      return ret;
    };
    CSSOM.CSSValueExpression.prototype._parseJSComment = function (token, idx) {
      var nextChar = token.charAt(idx + 1), text;
      if (nextChar === "/" || nextChar === "*") {
        var startIdx = idx, endIdx, commentEndChar;
        if (nextChar === "/") {
          commentEndChar = "\n";
        } else if (nextChar === "*") {
          commentEndChar = "*/";
        }
        endIdx = token.indexOf(commentEndChar, startIdx + 1 + 1);
        if (endIdx !== -1) {
          endIdx = endIdx + commentEndChar.length - 1;
          text = token.substring(idx, endIdx + 1);
          return {
            idx: endIdx,
            text,
          };
        } else {
          var error = "css expression error: unfinished comment in expression!";
          return {
            error,
          };
        }
      } else {
        return false;
      }
    };
    CSSOM.CSSValueExpression.prototype._parseJSString = function (
      token,
      idx,
      sep,
    ) {
      var endIdx = this._findMatchedIdx(token, idx, sep), text;
      if (endIdx === -1) {
        return false;
      } else {
        text = token.substring(idx, endIdx + sep.length);
        return {
          idx: endIdx,
          text,
        };
      }
    };
    CSSOM.CSSValueExpression.prototype._parseJSRexExp = function (token, idx) {
      var before2 = token.substring(0, idx).replace(/\s+$/, ""),
        legalRegx = [
          /^$/,
          /\($/,
          /\[$/,
          /\!$/,
          /\+$/,
          /\-$/,
          /\*$/,
          /\/\s+/,
          /\%$/,
          /\=$/,
          /\>$/,
          /<$/,
          /\&$/,
          /\|$/,
          /\^$/,
          /\~$/,
          /\?$/,
          /\,$/,
          /delete$/,
          /in$/,
          /instanceof$/,
          /new$/,
          /typeof$/,
          /void$/,
        ];
      var isLegal = legalRegx.some(function (reg) {
        return reg.test(before2);
      });
      if (!isLegal) {
        return false;
      } else {
        var sep = "/";
        return this._parseJSString(token, idx, sep);
      }
    };
    CSSOM.CSSValueExpression.prototype._findMatchedIdx = function (
      token,
      idx,
      sep,
    ) {
      var startIdx = idx, endIdx;
      var NOT_FOUND = -1;
      while (true) {
        endIdx = token.indexOf(sep, startIdx + 1);
        if (endIdx === -1) {
          endIdx = NOT_FOUND;
          break;
        } else {
          var text = token.substring(idx + 1, endIdx),
            matched = text.match(/\\+$/);
          if (!matched || matched[0] % 2 === 0) {
            break;
          } else {
            startIdx = endIdx;
          }
        }
      }
      var nextNewLineIdx = token.indexOf("\n", idx + 1);
      if (nextNewLineIdx < endIdx) {
        endIdx = NOT_FOUND;
      }
      return endIdx;
    };
    exports.CSSValueExpression = CSSOM.CSSValueExpression;
  },
});

// node_modules/cssom/lib/MatcherList.js
var require_MatcherList = __commonJS({
  "node_modules/cssom/lib/MatcherList.js"(exports) {
    var CSSOM = {};
    CSSOM.MatcherList = /* @__PURE__ */ __name(function MatcherList() {
      this.length = 0;
    }, "MatcherList");
    CSSOM.MatcherList.prototype = {
      constructor: CSSOM.MatcherList,
      get matcherText() {
        return Array.prototype.join.call(this, ", ");
      },
      set matcherText(value) {
        var values = value.split(",");
        var length = this.length = values.length;
        for (var i = 0; i < length; i++) {
          this[i] = values[i].trim();
        }
      },
      appendMatcher: function (matcher) {
        if (Array.prototype.indexOf.call(this, matcher) === -1) {
          this[this.length] = matcher;
          this.length++;
        }
      },
      deleteMatcher: function (matcher) {
        var index = Array.prototype.indexOf.call(this, matcher);
        if (index !== -1) {
          Array.prototype.splice.call(this, index, 1);
        }
      },
    };
    exports.MatcherList = CSSOM.MatcherList;
  },
});

// node_modules/cssom/lib/CSSDocumentRule.js
var require_CSSDocumentRule = __commonJS({
  "node_modules/cssom/lib/CSSDocumentRule.js"(exports) {
    var CSSOM = {
      CSSRule: require_CSSRule().CSSRule,
      MatcherList: require_MatcherList().MatcherList,
    };
    CSSOM.CSSDocumentRule = /* @__PURE__ */ __name(function CSSDocumentRule() {
      CSSOM.CSSRule.call(this);
      this.matcher = new CSSOM.MatcherList();
      this.cssRules = [];
    }, "CSSDocumentRule");
    CSSOM.CSSDocumentRule.prototype = new CSSOM.CSSRule();
    CSSOM.CSSDocumentRule.prototype.constructor = CSSOM.CSSDocumentRule;
    CSSOM.CSSDocumentRule.prototype.type = 10;
    Object.defineProperty(CSSOM.CSSDocumentRule.prototype, "cssText", {
      get: function () {
        var cssTexts = [];
        for (var i = 0, length = this.cssRules.length; i < length; i++) {
          cssTexts.push(this.cssRules[i].cssText);
        }
        return "@-moz-document " + this.matcher.matcherText + " {" +
          cssTexts.join("") + "}";
      },
    });
    exports.CSSDocumentRule = CSSOM.CSSDocumentRule;
  },
});

// node_modules/cssom/lib/parse.js
var require_parse = __commonJS({
  "node_modules/cssom/lib/parse.js"(exports) {
    var CSSOM = {};
    CSSOM.parse = /* @__PURE__ */ __name(function parse5(token) {
      var i = 0;
      var state = "before-selector";
      var index;
      var buffer = "";
      var valueParenthesisDepth = 0;
      var SIGNIFICANT_WHITESPACE = {
        "selector": true,
        "value": true,
        "value-parenthesis": true,
        "atRule": true,
        "importRule-begin": true,
        "importRule": true,
        "atBlock": true,
        "conditionBlock": true,
        "documentRule-begin": true,
      };
      var styleSheet = new CSSOM.CSSStyleSheet();
      var currentScope = styleSheet;
      var parentRule;
      var ancestorRules = [];
      var hasAncestors = false;
      var prevScope;
      var name,
        priority = "",
        styleRule,
        mediaRule,
        supportsRule,
        importRule,
        fontFaceRule,
        keyframesRule,
        documentRule,
        hostRule;
      var atKeyframesRegExp = /@(-(?:\w+-)+)?keyframes/g;
      var parseError = /* @__PURE__ */ __name(function (message) {
        var lines = token.substring(0, i).split("\n");
        var lineCount = lines.length;
        var charCount = lines.pop().length + 1;
        var error = new Error(
          message + " (line " + lineCount + ", char " + charCount + ")",
        );
        error.line = lineCount;
        error["char"] = charCount;
        error.styleSheet = styleSheet;
        throw error;
      }, "parseError");
      for (var character; character = token.charAt(i); i++) {
        switch (character) {
          case " ":
          case "	":
          case "\r":
          case "\n":
          case "\f":
            if (SIGNIFICANT_WHITESPACE[state]) {
              buffer += character;
            }
            break;
          case '"':
            index = i + 1;
            do {
              index = token.indexOf('"', index) + 1;
              if (!index) {
                parseError('Unmatched "');
              }
            } while (token[index - 2] === "\\");
            buffer += token.slice(i, index);
            i = index - 1;
            switch (state) {
              case "before-value":
                state = "value";
                break;
              case "importRule-begin":
                state = "importRule";
                break;
            }
            break;
          case "'":
            index = i + 1;
            do {
              index = token.indexOf("'", index) + 1;
              if (!index) {
                parseError("Unmatched '");
              }
            } while (token[index - 2] === "\\");
            buffer += token.slice(i, index);
            i = index - 1;
            switch (state) {
              case "before-value":
                state = "value";
                break;
              case "importRule-begin":
                state = "importRule";
                break;
            }
            break;
          case "/":
            if (token.charAt(i + 1) === "*") {
              i += 2;
              index = token.indexOf("*/", i);
              if (index === -1) {
                parseError("Missing */");
              } else {
                i = index + 1;
              }
            } else {
              buffer += character;
            }
            if (state === "importRule-begin") {
              buffer += " ";
              state = "importRule";
            }
            break;
          case "@":
            if (token.indexOf("@-moz-document", i) === i) {
              state = "documentRule-begin";
              documentRule = new CSSOM.CSSDocumentRule();
              documentRule.__starts = i;
              i += "-moz-document".length;
              buffer = "";
              break;
            } else if (token.indexOf("@media", i) === i) {
              state = "atBlock";
              mediaRule = new CSSOM.CSSMediaRule();
              mediaRule.__starts = i;
              i += "media".length;
              buffer = "";
              break;
            } else if (token.indexOf("@supports", i) === i) {
              state = "conditionBlock";
              supportsRule = new CSSOM.CSSSupportsRule();
              supportsRule.__starts = i;
              i += "supports".length;
              buffer = "";
              break;
            } else if (token.indexOf("@host", i) === i) {
              state = "hostRule-begin";
              i += "host".length;
              hostRule = new CSSOM.CSSHostRule();
              hostRule.__starts = i;
              buffer = "";
              break;
            } else if (token.indexOf("@import", i) === i) {
              state = "importRule-begin";
              i += "import".length;
              buffer += "@import";
              break;
            } else if (token.indexOf("@font-face", i) === i) {
              state = "fontFaceRule-begin";
              i += "font-face".length;
              fontFaceRule = new CSSOM.CSSFontFaceRule();
              fontFaceRule.__starts = i;
              buffer = "";
              break;
            } else {
              atKeyframesRegExp.lastIndex = i;
              var matchKeyframes = atKeyframesRegExp.exec(token);
              if (matchKeyframes && matchKeyframes.index === i) {
                state = "keyframesRule-begin";
                keyframesRule = new CSSOM.CSSKeyframesRule();
                keyframesRule.__starts = i;
                keyframesRule._vendorPrefix = matchKeyframes[1];
                i += matchKeyframes[0].length - 1;
                buffer = "";
                break;
              } else if (state === "selector") {
                state = "atRule";
              }
            }
            buffer += character;
            break;
          case "{":
            if (state === "selector" || state === "atRule") {
              styleRule.selectorText = buffer.trim();
              styleRule.style.__starts = i;
              buffer = "";
              state = "before-name";
            } else if (state === "atBlock") {
              mediaRule.media.mediaText = buffer.trim();
              if (parentRule) {
                ancestorRules.push(parentRule);
              }
              currentScope = parentRule = mediaRule;
              mediaRule.parentStyleSheet = styleSheet;
              buffer = "";
              state = "before-selector";
            } else if (state === "conditionBlock") {
              supportsRule.conditionText = buffer.trim();
              if (parentRule) {
                ancestorRules.push(parentRule);
              }
              currentScope = parentRule = supportsRule;
              supportsRule.parentStyleSheet = styleSheet;
              buffer = "";
              state = "before-selector";
            } else if (state === "hostRule-begin") {
              if (parentRule) {
                ancestorRules.push(parentRule);
              }
              currentScope = parentRule = hostRule;
              hostRule.parentStyleSheet = styleSheet;
              buffer = "";
              state = "before-selector";
            } else if (state === "fontFaceRule-begin") {
              if (parentRule) {
                fontFaceRule.parentRule = parentRule;
              }
              fontFaceRule.parentStyleSheet = styleSheet;
              styleRule = fontFaceRule;
              buffer = "";
              state = "before-name";
            } else if (state === "keyframesRule-begin") {
              keyframesRule.name = buffer.trim();
              if (parentRule) {
                ancestorRules.push(parentRule);
                keyframesRule.parentRule = parentRule;
              }
              keyframesRule.parentStyleSheet = styleSheet;
              currentScope = parentRule = keyframesRule;
              buffer = "";
              state = "keyframeRule-begin";
            } else if (state === "keyframeRule-begin") {
              styleRule = new CSSOM.CSSKeyframeRule();
              styleRule.keyText = buffer.trim();
              styleRule.__starts = i;
              buffer = "";
              state = "before-name";
            } else if (state === "documentRule-begin") {
              documentRule.matcher.matcherText = buffer.trim();
              if (parentRule) {
                ancestorRules.push(parentRule);
                documentRule.parentRule = parentRule;
              }
              currentScope = parentRule = documentRule;
              documentRule.parentStyleSheet = styleSheet;
              buffer = "";
              state = "before-selector";
            }
            break;
          case ":":
            if (state === "name") {
              name = buffer.trim();
              buffer = "";
              state = "before-value";
            } else {
              buffer += character;
            }
            break;
          case "(":
            if (state === "value") {
              if (buffer.trim() === "expression") {
                var info = new CSSOM.CSSValueExpression(token, i).parse();
                if (info.error) {
                  parseError(info.error);
                } else {
                  buffer += info.expression;
                  i = info.idx;
                }
              } else {
                state = "value-parenthesis";
                valueParenthesisDepth = 1;
                buffer += character;
              }
            } else if (state === "value-parenthesis") {
              valueParenthesisDepth++;
              buffer += character;
            } else {
              buffer += character;
            }
            break;
          case ")":
            if (state === "value-parenthesis") {
              valueParenthesisDepth--;
              if (valueParenthesisDepth === 0) {
                state = "value";
              }
            }
            buffer += character;
            break;
          case "!":
            if (state === "value" && token.indexOf("!important", i) === i) {
              priority = "important";
              i += "important".length;
            } else {
              buffer += character;
            }
            break;
          case ";":
            switch (state) {
              case "value":
                styleRule.style.setProperty(name, buffer.trim(), priority);
                priority = "";
                buffer = "";
                state = "before-name";
                break;
              case "atRule":
                buffer = "";
                state = "before-selector";
                break;
              case "importRule":
                importRule = new CSSOM.CSSImportRule();
                importRule.parentStyleSheet = importRule.styleSheet
                  .parentStyleSheet = styleSheet;
                importRule.cssText = buffer + character;
                styleSheet.cssRules.push(importRule);
                buffer = "";
                state = "before-selector";
                break;
              default:
                buffer += character;
                break;
            }
            break;
          case "}":
            switch (state) {
              case "value":
                styleRule.style.setProperty(name, buffer.trim(), priority);
                priority = "";
              case "before-name":
              case "name":
                styleRule.__ends = i + 1;
                if (parentRule) {
                  styleRule.parentRule = parentRule;
                }
                styleRule.parentStyleSheet = styleSheet;
                currentScope.cssRules.push(styleRule);
                buffer = "";
                if (currentScope.constructor === CSSOM.CSSKeyframesRule) {
                  state = "keyframeRule-begin";
                } else {
                  state = "before-selector";
                }
                break;
              case "keyframeRule-begin":
              case "before-selector":
              case "selector":
                if (!parentRule) {
                  parseError("Unexpected }");
                }
                hasAncestors = ancestorRules.length > 0;
                while (ancestorRules.length > 0) {
                  parentRule = ancestorRules.pop();
                  if (
                    parentRule.constructor.name === "CSSMediaRule" ||
                    parentRule.constructor.name === "CSSSupportsRule"
                  ) {
                    prevScope = currentScope;
                    currentScope = parentRule;
                    currentScope.cssRules.push(prevScope);
                    break;
                  }
                  if (ancestorRules.length === 0) {
                    hasAncestors = false;
                  }
                }
                if (!hasAncestors) {
                  currentScope.__ends = i + 1;
                  styleSheet.cssRules.push(currentScope);
                  currentScope = styleSheet;
                  parentRule = null;
                }
                buffer = "";
                state = "before-selector";
                break;
            }
            break;
          default:
            switch (state) {
              case "before-selector":
                state = "selector";
                styleRule = new CSSOM.CSSStyleRule();
                styleRule.__starts = i;
                break;
              case "before-name":
                state = "name";
                break;
              case "before-value":
                state = "value";
                break;
              case "importRule-begin":
                state = "importRule";
                break;
            }
            buffer += character;
            break;
        }
      }
      return styleSheet;
    }, "parse");
    exports.parse = CSSOM.parse;
    CSSOM.CSSStyleSheet = require_CSSStyleSheet().CSSStyleSheet;
    CSSOM.CSSStyleRule = require_CSSStyleRule().CSSStyleRule;
    CSSOM.CSSImportRule = require_CSSImportRule().CSSImportRule;
    CSSOM.CSSGroupingRule = require_CSSGroupingRule().CSSGroupingRule;
    CSSOM.CSSMediaRule = require_CSSMediaRule().CSSMediaRule;
    CSSOM.CSSConditionRule = require_CSSConditionRule().CSSConditionRule;
    CSSOM.CSSSupportsRule = require_CSSSupportsRule().CSSSupportsRule;
    CSSOM.CSSFontFaceRule = require_CSSFontFaceRule().CSSFontFaceRule;
    CSSOM.CSSHostRule = require_CSSHostRule().CSSHostRule;
    CSSOM.CSSStyleDeclaration =
      require_CSSStyleDeclaration().CSSStyleDeclaration;
    CSSOM.CSSKeyframeRule = require_CSSKeyframeRule().CSSKeyframeRule;
    CSSOM.CSSKeyframesRule = require_CSSKeyframesRule().CSSKeyframesRule;
    CSSOM.CSSValueExpression = require_CSSValueExpression().CSSValueExpression;
    CSSOM.CSSDocumentRule = require_CSSDocumentRule().CSSDocumentRule;
  },
});

// node_modules/cssom/lib/CSSStyleDeclaration.js
var require_CSSStyleDeclaration = __commonJS({
  "node_modules/cssom/lib/CSSStyleDeclaration.js"(exports) {
    var CSSOM = {};
    CSSOM.CSSStyleDeclaration = /* @__PURE__ */ __name(
      function CSSStyleDeclaration2() {
        this.length = 0;
        this.parentRule = null;
        this._importants = {};
      },
      "CSSStyleDeclaration",
    );
    CSSOM.CSSStyleDeclaration.prototype = {
      constructor: CSSOM.CSSStyleDeclaration,
      getPropertyValue: function (name) {
        return this[name] || "";
      },
      setProperty: function (name, value, priority) {
        if (this[name]) {
          var index = Array.prototype.indexOf.call(this, name);
          if (index < 0) {
            this[this.length] = name;
            this.length++;
          }
        } else {
          this[this.length] = name;
          this.length++;
        }
        this[name] = value + "";
        this._importants[name] = priority;
      },
      removeProperty: function (name) {
        if (!(name in this)) {
          return "";
        }
        var index = Array.prototype.indexOf.call(this, name);
        if (index < 0) {
          return "";
        }
        var prevValue = this[name];
        this[name] = "";
        Array.prototype.splice.call(this, index, 1);
        return prevValue;
      },
      getPropertyCSSValue: function () {
      },
      getPropertyPriority: function (name) {
        return this._importants[name] || "";
      },
      getPropertyShorthand: function () {
      },
      isPropertyImplicit: function () {
      },
      get cssText() {
        var properties = [];
        for (var i = 0, length = this.length; i < length; ++i) {
          var name = this[i];
          var value = this.getPropertyValue(name);
          var priority = this.getPropertyPriority(name);
          if (priority) {
            priority = " !" + priority;
          }
          properties[i] = name + ": " + value + priority + ";";
        }
        return properties.join(" ");
      },
      set cssText(text) {
        var i, name;
        for (i = this.length; i--;) {
          name = this[i];
          this[name] = "";
        }
        Array.prototype.splice.call(this, 0, this.length);
        this._importants = {};
        var dummyRule = CSSOM.parse("#bogus{" + text + "}").cssRules[0].style;
        var length = dummyRule.length;
        for (i = 0; i < length; ++i) {
          name = dummyRule[i];
          this.setProperty(
            dummyRule[i],
            dummyRule.getPropertyValue(name),
            dummyRule.getPropertyPriority(name),
          );
        }
      },
    };
    exports.CSSStyleDeclaration = CSSOM.CSSStyleDeclaration;
    CSSOM.parse = require_parse().parse;
  },
});

// node_modules/cssom/lib/clone.js
var require_clone = __commonJS({
  "node_modules/cssom/lib/clone.js"(exports) {
    var CSSOM = {
      CSSStyleSheet: require_CSSStyleSheet().CSSStyleSheet,
      CSSRule: require_CSSRule().CSSRule,
      CSSStyleRule: require_CSSStyleRule().CSSStyleRule,
      CSSGroupingRule: require_CSSGroupingRule().CSSGroupingRule,
      CSSConditionRule: require_CSSConditionRule().CSSConditionRule,
      CSSMediaRule: require_CSSMediaRule().CSSMediaRule,
      CSSSupportsRule: require_CSSSupportsRule().CSSSupportsRule,
      CSSStyleDeclaration: require_CSSStyleDeclaration().CSSStyleDeclaration,
      CSSKeyframeRule: require_CSSKeyframeRule().CSSKeyframeRule,
      CSSKeyframesRule: require_CSSKeyframesRule().CSSKeyframesRule,
    };
    CSSOM.clone = /* @__PURE__ */ __name(function clone(stylesheet) {
      var cloned = new CSSOM.CSSStyleSheet();
      var rules = stylesheet.cssRules;
      if (!rules) {
        return cloned;
      }
      for (var i = 0, rulesLength = rules.length; i < rulesLength; i++) {
        var rule = rules[i];
        var ruleClone = cloned.cssRules[i] = new rule.constructor();
        var style = rule.style;
        if (style) {
          var styleClone = ruleClone.style = new CSSOM.CSSStyleDeclaration();
          for (var j = 0, styleLength = style.length; j < styleLength; j++) {
            var name = styleClone[j] = style[j];
            styleClone[name] = style[name];
            styleClone._importants[name] = style.getPropertyPriority(name);
          }
          styleClone.length = style.length;
        }
        if (rule.hasOwnProperty("keyText")) {
          ruleClone.keyText = rule.keyText;
        }
        if (rule.hasOwnProperty("selectorText")) {
          ruleClone.selectorText = rule.selectorText;
        }
        if (rule.hasOwnProperty("mediaText")) {
          ruleClone.mediaText = rule.mediaText;
        }
        if (rule.hasOwnProperty("conditionText")) {
          ruleClone.conditionText = rule.conditionText;
        }
        if (rule.hasOwnProperty("cssRules")) {
          ruleClone.cssRules = clone(rule).cssRules;
        }
      }
      return cloned;
    }, "clone");
    exports.clone = CSSOM.clone;
  },
});

// node_modules/cssom/lib/index.js
var require_lib = __commonJS({
  "node_modules/cssom/lib/index.js"(exports) {
    "use strict";
    exports.CSSStyleDeclaration =
      require_CSSStyleDeclaration().CSSStyleDeclaration;
    exports.CSSRule = require_CSSRule().CSSRule;
    exports.CSSGroupingRule = require_CSSGroupingRule().CSSGroupingRule;
    exports.CSSConditionRule = require_CSSConditionRule().CSSConditionRule;
    exports.CSSStyleRule = require_CSSStyleRule().CSSStyleRule;
    exports.MediaList = require_MediaList().MediaList;
    exports.CSSMediaRule = require_CSSMediaRule().CSSMediaRule;
    exports.CSSSupportsRule = require_CSSSupportsRule().CSSSupportsRule;
    exports.CSSImportRule = require_CSSImportRule().CSSImportRule;
    exports.CSSFontFaceRule = require_CSSFontFaceRule().CSSFontFaceRule;
    exports.CSSHostRule = require_CSSHostRule().CSSHostRule;
    exports.StyleSheet = require_StyleSheet().StyleSheet;
    exports.CSSStyleSheet = require_CSSStyleSheet().CSSStyleSheet;
    exports.CSSKeyframesRule = require_CSSKeyframesRule().CSSKeyframesRule;
    exports.CSSKeyframeRule = require_CSSKeyframeRule().CSSKeyframeRule;
    exports.MatcherList = require_MatcherList().MatcherList;
    exports.CSSDocumentRule = require_CSSDocumentRule().CSSDocumentRule;
    exports.CSSValue = require_CSSValue().CSSValue;
    exports.CSSValueExpression =
      require_CSSValueExpression().CSSValueExpression;
    exports.parse = require_parse().parse;
    exports.clone = require_clone().clone;
  },
});

// node_modules/linkedom/commonjs/canvas.cjs
var require_canvas = __commonJS({
  "node_modules/linkedom/commonjs/canvas.cjs"(exports, module2) {
    try {
      module2.exports = __require("canvas");
    } catch (fallback) {
      class Canvas2 {
        constructor(width, height) {
          this.width = width;
          this.height = height;
        }
        getContext() {
          return null;
        }
        toDataURL() {
          return "";
        }
      }
      __name(Canvas2, "Canvas");
      module2.exports = {
        createCanvas: (width, height) => new Canvas2(width, height),
      };
    }
  },
});

// dist/src/utils/Utils.js
var Utils_exports = {};
__export(Utils_exports, {
  DownloadError: () => DownloadError,
  InnertubeError: () => InnertubeError,
  MissingParamError: () => MissingParamError,
  NoStreamingDataError: () => NoStreamingDataError,
  OAuthError: () => OAuthError,
  ParsingError: () => ParsingError,
  PlayerError: () => PlayerError,
  SessionError: () => SessionError,
  UnavailableContentError: () => UnavailableContentError,
  camelToSnake: () => camelToSnake,
  debugFetch: () => debugFetch,
  deepCompare: () => deepCompare,
  escapeStringRegexp: () => escapeStringRegexp,
  findNode: () => findNode,
  generateRandomString: () => generateRandomString,
  generateSidAuth: () => generateSidAuth,
  getRandomUserAgent: () => getRandomUserAgent,
  getRuntime: () => getRuntime,
  getStringBetweenStrings: () => getStringBetweenStrings,
  hasKeys: () => hasKeys,
  isServer: () => isServer,
  isValidClient: () => isValidClient,
  refineNTokenData: () => refineNTokenData,
  sha1Hash: () => sha1Hash,
  streamToIterable: () => streamToIterable,
  throwIfMissing: () => throwIfMissing,
  timeToSeconds: () => timeToSeconds,
  u8ToBase64: () => u8ToBase64,
  uuidv4: () => uuidv4,
});
var import_flat = __toESM(require_flat());

// dist/package.json
var package_default = {
  name: "youtubei.js",
  version: "2.0.0",
  description:
    "A full-featured wrapper around YouTube's private API. Allows you to retrieve info about any video, subscribe, unsubscribe, like, dislike, comment, search, download videos/music and much more!",
  main: "./dist/index.js",
  browser: "./bundle/browser.js",
  types: "./dist",
  author: "LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",
  contributors: [
    "Wykerd (https://github.com/wykerd/)",
    "MasterOfBob777 (https://github.com/MasterOfBob777)",
  ],
  funding: [
    "https://github.com/sponsors/LuanRT",
  ],
  directories: {
    test: "./test",
    typings: "./dist",
    examples: "./examples",
    src: "./dist/src",
  },
  scripts: {
    test: "npm run build:node && npx jest --verbose",
    lint: "npx eslint ./src",
    "lint:fix": "npx eslint --fix ./src",
    build:
      "npm run build:parser-map && npm run build:proto && npm run bundle:browser && npm run bundle:browser:prod && npm run build:node",
    "build:proto":
      "npx protoc --ts_out ./src/proto --proto_path ./src/proto ./src/proto/youtube.proto",
    "build:node": "npx tsc",
    "build:parser-map": "node ./scripts/build-parser-json.js",
    "bundle:browser":
      'npx tsc --module esnext && npx esbuild ./dist/browser.js --banner:js="/* eslint-disable */" --bundle --target=chrome58 --keep-names --format=esm --sourcemap --define:global=globalThis --outfile=./bundle/browser.js --platform=browser',
    "bundle:browser:prod":
      "npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify",
    prepare: "npm run build",
    watch: "npx tsc --watch",
  },
  repository: {
    type: "git",
    url: "git+https://github.com/LuanRT/YouTube.js.git",
  },
  license: "MIT",
  dependencies: {
    "@protobuf-ts/runtime": "^2.7.0",
    flat: "^5.0.2",
    linkedom: "^0.14.12",
    undici: "^5.7.0",
  },
  devDependencies: {
    "@protobuf-ts/plugin": "^2.7.0",
    "@types/flat": "^5.0.2",
    "@types/node": "^17.0.45",
    "@types/user-agents": "^1.0.2",
    "@typescript-eslint/eslint-plugin": "^5.30.6",
    "@typescript-eslint/parser": "^5.30.6",
    esbuild: "^0.14.49",
    eslint: "^8.19.0",
    "eslint-plugin-tsdoc": "^0.2.16",
    glob: "^8.0.3",
    jest: "^28.1.3",
    typescript: "^4.7.4",
  },
  bugs: {
    url: "https://github.com/LuanRT/YouTube.js/issues",
  },
  homepage: "https://github.com/LuanRT/YouTube.js#readme",
  keywords: [
    "yt",
    "dl",
    "ytdl",
    "youtube",
    "youtubedl",
    "youtube-dl",
    "youtube-downloader",
    "innertube",
    "innertubeapi",
    "unofficial",
    "downloader",
    "livechat",
    "ytmusic",
    "dislike",
    "search",
    "comment",
    "music",
    "like",
    "api",
  ],
};

// dist/src/utils/user-agents.json
var user_agents_default = {
  desktop: [
    "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36",
    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.5060.114 Safari/537.36",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.5060.114 Safari/537.36 Edg/103.0.1264.62",
    "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.5060.53 Safari/537.36",
    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36",
    "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36",
    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36",
    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36",
    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Safari/605.1.15",
    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.5060.114 Safari/537.36",
    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36",
    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36",
    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.5060.114 Safari/537.36 Edg/103.0.1264.49",
    "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36",
    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.4951.64 Safari/537.36",
    "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36",
  ],
  mobile: [
    "Mozilla/5.0 (Linux; Android 12; SAMSUNG SM-S908B) AppleWebKit/537.36 (KHTML, like Gecko) SamsungBrowser/17.0 Chrome/96.0.4664.104 Mobile Safari/537.36",
    "Mozilla/5.0 (Linux; Android 11; SM-G781B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.141 Mobile Safari/537.36",
    "Mozilla/5.0 (Linux; arm_64; Android 12; RMX3081) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.16005.148 YaBrowser/22.7.3.82.00 SA/3 Mobile Safari/537.36",
    "Mozilla/5.0 (Linux; Android 12; SM-G973F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Mobile Safari/537.36",
    "Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1",
    "Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1",
    "Mozilla/5.0 (Linux; Android 11; GM1900) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.0675.117 Mobile Safari/537.36",
    "Mozilla/5.0 (Linux; Android 11; 21061119BI) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Mobile Safari/537.36",
    "Mozilla/5.0 (Linux; Android 10; HarmonyOS; TEL-AN10; HMSCore 6.6.0.312) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.105 HuaweiBrowser/12.1.1.321 Mobile Safari/537.36",
    "Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1",
    "Mozilla/5.0 (Linux; U; Android 8.0.0; zh-cn; Mi Note 2 Build/OPR1.170623.032) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/61.0.3163.128 Mobile Safari/537.36 XiaoMi/MiuiBrowser/10.1.1",
    "Mozilla/5.0 (Linux; Android 12; IN2013) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Mobile Safari/537.36",
    "Mozilla/5.0 (Linux; Android 11; Redmi Note 8 Pro) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/101.0.0.0 Mobile Safari/537.36",
    "Mozilla/5.0 (Linux; Android 12; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Mobile Safari/537.36",
    "Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/103.0.5060.63 Mobile/15E148 Safari/604.1",
    "Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1",
    "Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/103.0.5060.63 Mobile/15E148 Safari/604.1",
    "Mozilla/5.0 (Linux; Android 9; moto e6s) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Mobile Safari/537.36",
    "Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1",
    "Mozilla/5.0 (Linux; Android 11; ONEPLUS A6013) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Mobile Safari/537.36",
    "Mozilla/5.0 (Linux; Android 12; SM-G986B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Mobile Safari/537.36",
    "Mozilla/5.0 (iPhone; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.25 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",
    "Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1",
    "Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1",
    "Mozilla/5.0 (Linux; Android 7.1.2; Redmi Note 5A Prime) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Mobile Safari/537.36",
    "Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1",
  ],
};

// dist/src/utils/Utils.js
var __awaiter = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __await = function (v) {
  return this instanceof __await ? (this.v = v, this) : new __await(v);
};
var __asyncGenerator = function (thisArg, _arguments, generator) {
  if (!Symbol.asyncIterator) {
    throw new TypeError("Symbol.asyncIterator is not defined.");
  }
  var g = generator.apply(thisArg, _arguments || []), i, q = [];
  return i = {},
    verb("next"),
    verb("throw"),
    verb("return"),
    i[Symbol.asyncIterator] = function () {
      return this;
    },
    i;
  function verb(n) {
    if (g[n]) {
      i[n] = function (v) {
        return new Promise(function (a, b) {
          q.push([n, v, a, b]) > 1 || resume(n, v);
        });
      };
    }
  }
  __name(verb, "verb");
  function resume(n, v) {
    try {
      step(g[n](v));
    } catch (e) {
      settle(q[0][3], e);
    }
  }
  __name(resume, "resume");
  function step(r) {
    r.value instanceof __await
      ? Promise.resolve(r.value.v).then(fulfill, reject)
      : settle(q[0][2], r);
  }
  __name(step, "step");
  function fulfill(value) {
    resume("next", value);
  }
  __name(fulfill, "fulfill");
  function reject(value) {
    resume("throw", value);
  }
  __name(reject, "reject");
  function settle(f, v) {
    if (f(v), q.shift(), q.length) {
      resume(q[0][0], q[0][1]);
    }
  }
  __name(settle, "settle");
};
var VALID_CLIENTS = /* @__PURE__ */ new Set(["YOUTUBE", "YTMUSIC"]);
var InnertubeError = class extends Error {
  constructor(message, info) {
    super(message);
    if (info) {
      this.info = info;
    }
    this.date = new Date();
    this.version = package_default.version;
  }
};
__name(InnertubeError, "InnertubeError");
var ParsingError = class extends InnertubeError {
};
__name(ParsingError, "ParsingError");
var DownloadError = class extends InnertubeError {
};
__name(DownloadError, "DownloadError");
var MissingParamError = class extends InnertubeError {
};
__name(MissingParamError, "MissingParamError");
var UnavailableContentError = class extends InnertubeError {
};
__name(UnavailableContentError, "UnavailableContentError");
var NoStreamingDataError = class extends InnertubeError {
};
__name(NoStreamingDataError, "NoStreamingDataError");
var OAuthError = class extends InnertubeError {
};
__name(OAuthError, "OAuthError");
var PlayerError = class extends Error {
};
__name(PlayerError, "PlayerError");
var SessionError = class extends Error {
};
__name(SessionError, "SessionError");
function findNode(obj, key2, target, depth, safe = true) {
  const flat_obj = (0, import_flat.default)(obj, {
    safe,
    maxDepth: depth || 2,
  });
  const result = Object.keys(flat_obj).find((entry) =>
    entry.includes(key2) &&
    JSON.stringify(flat_obj[entry] || "{}").includes(target)
  );
  if (!result) {
    throw new ParsingError(
      `Expected to find "${key2}" with content "${target}" but got ${result}`,
      {
        key: key2,
        target,
        data_snippet: `${JSON.stringify(flat_obj, null, 4).slice(0, 300)}..`,
      },
    );
  }
  return flat_obj[result];
}
__name(findNode, "findNode");
function deepCompare(obj1, obj2) {
  const keys2 = Reflect.ownKeys(obj1);
  return keys2.some((key2) => {
    var _a3;
    const is_text = ((_a3 = obj2[key2]) === null || _a3 === void 0
      ? void 0
      : _a3.constructor.name) === "Text";
    if (!is_text && typeof obj2[key2] === "object") {
      return JSON.stringify(obj1[key2]) === JSON.stringify(obj2[key2]);
    }
    return obj1[key2] === (is_text ? obj2[key2].toString() : obj2[key2]);
  });
}
__name(deepCompare, "deepCompare");
function getStringBetweenStrings(data, start_string, end_string) {
  const regex = new RegExp(
    `${escapeStringRegexp(start_string)}(.*?)${escapeStringRegexp(end_string)}`,
    "s",
  );
  const match = data.match(regex);
  return match ? match[1] : void 0;
}
__name(getStringBetweenStrings, "getStringBetweenStrings");
function escapeStringRegexp(input) {
  return input.replace(/[|\\{}()[\]^$+*?.]/g, "\\$&").replace(/-/g, "\\x2d");
}
__name(escapeStringRegexp, "escapeStringRegexp");
function getRandomUserAgent(type) {
  const available_agents = user_agents_default[type];
  const random_index = Math.floor(Math.random() * available_agents.length);
  return available_agents[random_index];
}
__name(getRandomUserAgent, "getRandomUserAgent");
function sha1Hash(str) {
  return __awaiter(this, void 0, void 0, function* () {
    const SubtleCrypto = getRuntime() === "node"
      ? Reflect.get(module, "require")("crypto").webcrypto.subtle
      : window.crypto.subtle;
    const byteToHex = [
      "00",
      "01",
      "02",
      "03",
      "04",
      "05",
      "06",
      "07",
      "08",
      "09",
      "0a",
      "0b",
      "0c",
      "0d",
      "0e",
      "0f",
      "10",
      "11",
      "12",
      "13",
      "14",
      "15",
      "16",
      "17",
      "18",
      "19",
      "1a",
      "1b",
      "1c",
      "1d",
      "1e",
      "1f",
      "20",
      "21",
      "22",
      "23",
      "24",
      "25",
      "26",
      "27",
      "28",
      "29",
      "2a",
      "2b",
      "2c",
      "2d",
      "2e",
      "2f",
      "30",
      "31",
      "32",
      "33",
      "34",
      "35",
      "36",
      "37",
      "38",
      "39",
      "3a",
      "3b",
      "3c",
      "3d",
      "3e",
      "3f",
      "40",
      "41",
      "42",
      "43",
      "44",
      "45",
      "46",
      "47",
      "48",
      "49",
      "4a",
      "4b",
      "4c",
      "4d",
      "4e",
      "4f",
      "50",
      "51",
      "52",
      "53",
      "54",
      "55",
      "56",
      "57",
      "58",
      "59",
      "5a",
      "5b",
      "5c",
      "5d",
      "5e",
      "5f",
      "60",
      "61",
      "62",
      "63",
      "64",
      "65",
      "66",
      "67",
      "68",
      "69",
      "6a",
      "6b",
      "6c",
      "6d",
      "6e",
      "6f",
      "70",
      "71",
      "72",
      "73",
      "74",
      "75",
      "76",
      "77",
      "78",
      "79",
      "7a",
      "7b",
      "7c",
      "7d",
      "7e",
      "7f",
      "80",
      "81",
      "82",
      "83",
      "84",
      "85",
      "86",
      "87",
      "88",
      "89",
      "8a",
      "8b",
      "8c",
      "8d",
      "8e",
      "8f",
      "90",
      "91",
      "92",
      "93",
      "94",
      "95",
      "96",
      "97",
      "98",
      "99",
      "9a",
      "9b",
      "9c",
      "9d",
      "9e",
      "9f",
      "a0",
      "a1",
      "a2",
      "a3",
      "a4",
      "a5",
      "a6",
      "a7",
      "a8",
      "a9",
      "aa",
      "ab",
      "ac",
      "ad",
      "ae",
      "af",
      "b0",
      "b1",
      "b2",
      "b3",
      "b4",
      "b5",
      "b6",
      "b7",
      "b8",
      "b9",
      "ba",
      "bb",
      "bc",
      "bd",
      "be",
      "bf",
      "c0",
      "c1",
      "c2",
      "c3",
      "c4",
      "c5",
      "c6",
      "c7",
      "c8",
      "c9",
      "ca",
      "cb",
      "cc",
      "cd",
      "ce",
      "cf",
      "d0",
      "d1",
      "d2",
      "d3",
      "d4",
      "d5",
      "d6",
      "d7",
      "d8",
      "d9",
      "da",
      "db",
      "dc",
      "dd",
      "de",
      "df",
      "e0",
      "e1",
      "e2",
      "e3",
      "e4",
      "e5",
      "e6",
      "e7",
      "e8",
      "e9",
      "ea",
      "eb",
      "ec",
      "ed",
      "ee",
      "ef",
      "f0",
      "f1",
      "f2",
      "f3",
      "f4",
      "f5",
      "f6",
      "f7",
      "f8",
      "f9",
      "fa",
      "fb",
      "fc",
      "fd",
      "fe",
      "ff",
    ];
    function hex(arrayBuffer) {
      const buff = new Uint8Array(arrayBuffer);
      const hexOctets = [];
      for (let i = 0; i < buff.length; ++i) {
        hexOctets.push(byteToHex[buff[i]]);
      }
      return hexOctets.join("");
    }
    __name(hex, "hex");
    return hex(
      yield SubtleCrypto.digest("SHA-1", new TextEncoder().encode(str)),
    );
  });
}
__name(sha1Hash, "sha1Hash");
function generateSidAuth(sid) {
  return __awaiter(this, void 0, void 0, function* () {
    const youtube = "https://www.youtube.com";
    const timestamp = Math.floor(new Date().getTime() / 1e3);
    const input = [timestamp, sid, youtube].join(" ");
    const gen_hash = yield sha1Hash(input);
    return ["SAPISIDHASH", [timestamp, gen_hash].join("_")].join(" ");
  });
}
__name(generateSidAuth, "generateSidAuth");
function generateRandomString(length) {
  const result = [];
  const alphabet =
    "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";
  for (let i = 0; i < length; i++) {
    result.push(alphabet.charAt(Math.floor(Math.random() * alphabet.length)));
  }
  return result.join("");
}
__name(generateRandomString, "generateRandomString");
function timeToSeconds(time) {
  const params = time.split(":").map((param) => parseInt(param));
  switch (params.length) {
    case 1:
      return params[0];
    case 2:
      return params[0] * 60 + params[1];
    case 3:
      return params[0] * 3600 + params[1] * 60 + params[2];
    default:
      throw new Error("Invalid time string");
  }
}
__name(timeToSeconds, "timeToSeconds");
function camelToSnake(string) {
  return string[0].toLowerCase() +
    string.slice(1, string.length).replace(
      /[A-Z]/g,
      (letter) => `_${letter.toLowerCase()}`,
    );
}
__name(camelToSnake, "camelToSnake");
function isValidClient(client) {
  return VALID_CLIENTS.has(client);
}
__name(isValidClient, "isValidClient");
function throwIfMissing(params) {
  for (const [key2, value] of Object.entries(params)) {
    if (!value) {
      throw new MissingParamError(`${key2} is missing`);
    }
  }
}
__name(throwIfMissing, "throwIfMissing");
function hasKeys(params, ...keys2) {
  for (const key2 of keys2) {
    if (!Reflect.has(params, key2) || params[key2] === void 0) {
      return false;
    }
  }
  return true;
}
__name(hasKeys, "hasKeys");
function refineNTokenData(data) {
  return data.replace(/function\(d,e\)/g, '"function(d,e)').replace(
    /function\(d\)/g,
    '"function(d)',
  ).replace(/function\(\)/g, '"function()').replace(
    /function\(d,e,f\)/g,
    '"function(d,e,f)',
  ).replace(/\[function\(d,e,f\)/g, '["function(d,e,f)').replace(
    /,b,/g,
    ',"b",',
  ).replace(/,b/g, ',"b"').replace(/b,/g, '"b",').replace(/b]/g, '"b"]')
    .replace(/\[b/g, '["b"').replace(/}]/g, '"]').replace(/},/g, '}",').replace(
      /""/g,
      "",
    ).replace(/length]\)}"/g, "length])}");
}
__name(refineNTokenData, "refineNTokenData");
function uuidv4() {
  var _a3;
  if (getRuntime() === "node") {
    return Reflect.get(module, "require")("crypto").webcrypto.randomUUID();
  }
  if (
    (_a3 = globalThis.crypto) === null || _a3 === void 0
      ? void 0
      : _a3.randomUUID()
  ) {
    return globalThis.crypto.randomUUID();
  }
  return "10000000-1000-4000-8000-100000000000".replace(/[018]/g, (cc) => {
    const c = parseInt(cc);
    return (c ^
      window.crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4)
      .toString(16);
  });
}
__name(uuidv4, "uuidv4");
function getRuntime() {
  var _a3;
  if (
    typeof process !== "undefined" &&
    ((_a3 = process === null || process === void 0
            ? void 0
            : process.versions) === null || _a3 === void 0
      ? void 0
      : _a3.node)
  ) {
    return "node";
  }
  if (Reflect.has(globalThis, "Deno")) {
    return "deno";
  }
  return "browser";
}
__name(getRuntime, "getRuntime");
function isServer() {
  return ["node", "deno"].includes(getRuntime());
}
__name(isServer, "isServer");
function streamToIterable(stream) {
  return __asyncGenerator(
    this,
    arguments,
    /* @__PURE__ */ __name(function* streamToIterable_1() {
      const reader = stream.getReader();
      try {
        while (true) {
          const { done, value } = yield __await(reader.read());
          if (done) {
            return yield __await(void 0);
          }
          yield yield __await(value);
        }
      } finally {
        reader.releaseLock();
      }
    }, "streamToIterable_1"),
  );
}
__name(streamToIterable, "streamToIterable");
var debugFetch = /* @__PURE__ */ __name((input, init) => {
  const url = typeof input === "string"
    ? new URL(input)
    : input instanceof URL
    ? input
    : new URL(input.url);
  const headers = (init === null || init === void 0 ? void 0 : init.headers)
    ? new Headers(init.headers)
    : input instanceof Request
    ? input.headers
    : new Headers();
  const arr_headers = [...headers];
  const body_contents = (init === null || init === void 0 ? void 0 : init.body)
    ? typeof init.body === "string"
      ? headers.get("content-type") === "application/json"
        ? JSON.stringify(JSON.parse(init.body), null, 2)
        : init.body
      : "    <binary>"
    : "    (none)";
  const headers_serialized = arr_headers.length > 0
    ? `${
      arr_headers.map(([key2, value]) => `    ${key2}: ${value}`).join("\n")
    }`
    : "    (none)";
  console.log(`YouTube.js Fetch:
  url: ${url.toString()}
  method: ${(init === null || init === void 0 ? void 0 : init.method) || "GET"}
  headers:
${headers_serialized}
' + 
    '  body:
${body_contents}`);
  return globalThis.fetch(input, init);
}, "debugFetch");
function u8ToBase64(u8) {
  return btoa(String.fromCharCode.apply(null, Array.from(u8)));
}
__name(u8ToBase64, "u8ToBase64");

// dist/src/utils/Constants.js
var Constants_exports = {};
__export(Constants_exports, {
  ACCOUNT_SETTINGS: () => ACCOUNT_SETTINGS,
  BASE64_DIALECT: () => BASE64_DIALECT,
  CLIENTS: () => CLIENTS,
  FUNCS: () => FUNCS,
  INNERTUBE_HEADERS_BASE: () => INNERTUBE_HEADERS_BASE,
  NTOKEN_REGEX: () => NTOKEN_REGEX,
  OAUTH: () => OAUTH,
  SIG_REGEX: () => SIG_REGEX,
  STREAM_HEADERS: () => STREAM_HEADERS,
  URLS: () => URLS,
  default: () => Constants_default,
});
var URLS = Object.freeze({
  YT_BASE: "https://www.youtube.com",
  YT_MUSIC_BASE: "https://music.youtube.com",
  YT_SUGGESTIONS: "https://suggestqueries.google.com/complete/",
  YT_UPLOAD: "https://upload.youtube.com/",
  API: Object.freeze({
    BASE: "https://youtubei.googleapis.com",
    PRODUCTION: "https://youtubei.googleapis.com/youtubei/",
    STAGING: "https://green-youtubei.sandbox.googleapis.com/youtubei/",
    RELEASE: "https://release-youtubei.sandbox.googleapis.com/youtubei/",
    TEST: "https://test-youtubei.sandbox.googleapis.com/youtubei/",
    CAMI: "http://cami-youtubei.sandbox.googleapis.com/youtubei/",
    UYTFE: "https://uytfe.sandbox.google.com/youtubei/",
  }),
});
var OAUTH = Object.freeze({
  SCOPE:
    "http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",
  GRANT_TYPE: "http://oauth.net/grant_type/device/1.0",
  MODEL_NAME: "ytlr::",
  HEADERS: Object.freeze({
    "accept": "*/*",
    "origin": "https://www.youtube.com",
    "user-agent": "Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version",
    "content-type": "application/json",
    "referer": "https://www.youtube.com/tv",
    "accept-language": "en-US",
  }),
  REGEX: Object.freeze({
    AUTH_SCRIPT: /<script id="base-js" src="(.*?)" nonce=".*?"><\/script>/,
    CLIENT_IDENTITY: new RegExp(
      '.+?={};var .+?={clientId:"(?<client_id>.+?)",.+?:"(?<client_secret>.+?)"},',
    ),
  }),
});
var CLIENTS = Object.freeze({
  WEB: {
    NAME: "WEB",
  },
  YTMUSIC: {
    NAME: "WEB_REMIX",
    VERSION: "1.20211213.00.00",
  },
  ANDROID: {
    NAME: "ANDROID",
    VERSION: "17.17.32",
    SDK_VERSION: "29",
  },
});
var STREAM_HEADERS = Object.freeze({
  "accept": "*/*",
  "origin": "https://www.youtube.com",
  "referer": "https://www.youtube.com",
  "DNT": "?1",
});
var INNERTUBE_HEADERS_BASE = Object.freeze({
  "accept": "*/*",
  "accept-encoding": "gzip, deflate",
  "content-type": "application/json",
});
var ACCOUNT_SETTINGS = Object.freeze({
  SUBSCRIPTIONS: "NOTIFICATION_SUBSCRIPTION_NOTIFICATIONS",
  RECOMMENDED_VIDEOS: "NOTIFICATION_RECOMMENDATION_WEB_CONTROL",
  CHANNEL_ACTIVITY: "NOTIFICATION_COMMENT_WEB_CONTROL",
  COMMENT_REPLIES: "NOTIFICATION_COMMENT_REPLY_OTHER_WEB_CONTROL",
  USER_MENTION: "NOTIFICATION_USER_MENTION_WEB_CONTROL",
  SHARED_CONTENT: "NOTIFICATION_RETUBING_WEB_CONTROL",
  PLAYLISTS_PRIVACY: "PRIVACY_DISCOVERABLE_SAVED_PLAYLISTS",
  SUBSCRIPTIONS_PRIVACY: "PRIVACY_DISCOVERABLE_SUBSCRIPTIONS",
});
var BASE64_DIALECT = Object.freeze({
  NORMAL: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"
    .split(""),
  REVERSE: "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_"
    .split(""),
});
var SIG_REGEX = Object.freeze({
  ACTIONS: new RegExp(";.{2}\\.(?<name>.{2})\\(.*?,(?<param>.*?)\\)", "g"),
  FUNCTIONS: new RegExp("(?<name>.{2}):function\\(.*?\\){(.*?)}", "g"),
});
var NTOKEN_REGEX = Object.freeze({
  CALLS: /c\[(.*?)\]\((.+?)\)/g,
  PLACEHOLDERS: /c\[(.*?)\]=c/g,
  FUNCTIONS:
    /d\.push\(e\)|d\.reverse\(\)|d\[0\]\)\[0\]\)|f=d\[0];d\[0\]|d\.length;d\.splice\(e,1\)|function\(\){for\(var|function\(d,e,f\){var|function\(d\){for\(var|reverse\(\)\.forEach|unshift\(d\.pop\(\)\)|function\(d,e\){for\(var f/,
});
var FUNCS = Object.freeze({
  PUSH: "d.push(e)",
  REVERSE_1: "d.reverse()",
  REVERSE_2: "function(d){for(var",
  SPLICE: "d.length;d.splice(e,1)",
  SWAP0_1: "d[0])[0])",
  SWAP0_2: "f=d[0];d[0]",
  ROTATE_1: "reverse().forEach",
  ROTATE_2: "unshift(d.pop())",
  BASE64_DIA: "function(){for(var",
  TRANSLATE_1: "function(d,e){for(var f",
  TRANSLATE_2: "function(d,e,f){var",
});
var Constants_default = {
  URLS,
  OAUTH,
  CLIENTS,
  STREAM_HEADERS,
  INNERTUBE_HEADERS_BASE,
  ACCOUNT_SETTINGS,
  BASE64_DIALECT,
  SIG_REGEX,
  NTOKEN_REGEX,
  FUNCS,
};

// dist/src/core/Player.js
var __awaiter2 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldSet = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _Player_signature_timestamp;
var _Player_player_id;
var Player = class {
  constructor(signature_timestamp, player_id) {
    _Player_signature_timestamp.set(this, void 0);
    _Player_player_id.set(this, void 0);
    __classPrivateFieldSet(
      this,
      _Player_signature_timestamp,
      signature_timestamp,
      "f",
    );
    __classPrivateFieldSet(this, _Player_player_id, player_id, "f");
  }
  static create(cache, fetch2 = globalThis.fetch) {
    return __awaiter2(this, void 0, void 0, function* () {
      const url = new URL("/iframe_api", Constants_default.URLS.YT_BASE);
      const res = yield fetch2(url);
      if (res.status !== 200) {
        throw new PlayerError("Failed to request player id");
      }
      const js = yield res.text();
      const player_id = getStringBetweenStrings(js, "player\\/", "\\/");
      if (!player_id) {
        throw new PlayerError("Failed to get player id");
      }
      if (cache) {
        const cached_player = yield Player.fromCache(cache, player_id);
        if (cached_player) {
          return cached_player;
        }
      }
      const player_url = new URL(
        `/s/player/${player_id}/player_ias.vflset/en_US/base.js`,
        Constants_default.URLS.YT_BASE,
      );
      const player_res = yield fetch2(player_url, {
        headers: {
          "user-agent": getRandomUserAgent("desktop"),
        },
      });
      if (!player_res.ok) {
        throw new PlayerError(
          `Failed to get player data: ${player_res.status}`,
        );
      }
      const player_js = yield player_res.text();
      const sig_timestamp = this.extractSigTimestamp(player_js);
      return yield Player.fromSource(cache, sig_timestamp, player_id);
    });
  }
  static fromCache(cache, player_id) {
    return __awaiter2(this, void 0, void 0, function* () {
      const buffer = yield cache.get(player_id);
      if (!buffer) {
        return null;
      }
      const view = new DataView(buffer);
      const version = view.getUint32(0, true);
      if (version !== Player.LIBRARY_VERSION) {
        return null;
      }
      const sig_timestamp = view.getUint32(4, true);
      return new Player(sig_timestamp, player_id);
    });
  }
  static fromSource(cache, sig_timestamp, player_id) {
    return __awaiter2(this, void 0, void 0, function* () {
      const player = new Player(sig_timestamp, player_id);
      yield player.cache(cache);
      return player;
    });
  }
  cache(cache) {
    return __awaiter2(this, void 0, void 0, function* () {
      if (!cache) {
        return;
      }
      const buffer = new ArrayBuffer(12);
      const view = new DataView(buffer);
      view.setUint32(0, Player.LIBRARY_VERSION, true);
      view.setUint32(
        4,
        __classPrivateFieldGet(this, _Player_signature_timestamp, "f"),
        true,
      );
      yield cache.set(
        __classPrivateFieldGet(this, _Player_player_id, "f"),
        new Uint8Array(buffer),
      );
    });
  }
  static extractSigTimestamp(data) {
    return parseInt(
      getStringBetweenStrings(data, "signatureTimestamp:", ",") || "0",
    );
  }
  static extractSigDecipherSc(data) {
    const sig_alg_sc = getStringBetweenStrings(
      data,
      "this.audioTracks};var",
      "};",
    );
    const sig_data = getStringBetweenStrings(
      data,
      'function(a){a=a.split("")',
      'return a.join("")}',
    );
    if (!sig_alg_sc || !sig_data) {
      throw new PlayerError("Failed to extract signature decipher algorithm");
    }
    return sig_alg_sc + sig_data;
  }
  static extractNTokenSc(data) {
    const sc = `var b=a.split("")${
      getStringBetweenStrings(data, 'b=a.split("")', '}return b.join("")}')
    }} return b.join("");`;
    console.log(sc);
    if (!sc) {
      throw new PlayerError("Failed to extract n-token decipher algorithm");
    }
    return sc;
  }
  get url() {
    return new URL(
      `/s/player/${
        __classPrivateFieldGet(this, _Player_player_id, "f")
      }/player_ias.vflset/en_US/base.js`,
      Constants_default.URLS.YT_BASE,
    ).toString();
  }
  get sts() {
    return __classPrivateFieldGet(this, _Player_signature_timestamp, "f");
  }
  static get LIBRARY_VERSION() {
    return 1;
  }
};
__name(Player, "Player");
_Player_signature_timestamp = /* @__PURE__ */ new WeakMap(),
  _Player_player_id = /* @__PURE__ */ new WeakMap();

// node_modules/@protobuf-ts/runtime/build/es2015/json-typings.js
function typeofJsonValue(value) {
  let t = typeof value;
  if (t == "object") {
    if (Array.isArray(value)) {
      return "array";
    }
    if (value === null) {
      return "null";
    }
  }
  return t;
}
__name(typeofJsonValue, "typeofJsonValue");
function isJsonObject(value) {
  return value !== null && typeof value == "object" && !Array.isArray(value);
}
__name(isJsonObject, "isJsonObject");

// node_modules/@protobuf-ts/runtime/build/es2015/base64.js
var encTable =
  "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");
var decTable = [];
for (let i = 0; i < encTable.length; i++) {
  decTable[encTable[i].charCodeAt(0)] = i;
}
decTable["-".charCodeAt(0)] = encTable.indexOf("+");
decTable["_".charCodeAt(0)] = encTable.indexOf("/");
function base64decode(base64Str) {
  let es = base64Str.length * 3 / 4;
  if (base64Str[base64Str.length - 2] == "=") {
    es -= 2;
  } else if (base64Str[base64Str.length - 1] == "=") {
    es -= 1;
  }
  let bytes = new Uint8Array(es), bytePos = 0, groupPos = 0, b, p = 0;
  for (let i = 0; i < base64Str.length; i++) {
    b = decTable[base64Str.charCodeAt(i)];
    if (b === void 0) {
      switch (base64Str[i]) {
        case "=":
          groupPos = 0;
        case "\n":
        case "\r":
        case "	":
        case " ":
          continue;
        default:
          throw Error(`invalid base64 string.`);
      }
    }
    switch (groupPos) {
      case 0:
        p = b;
        groupPos = 1;
        break;
      case 1:
        bytes[bytePos++] = p << 2 | (b & 48) >> 4;
        p = b;
        groupPos = 2;
        break;
      case 2:
        bytes[bytePos++] = (p & 15) << 4 | (b & 60) >> 2;
        p = b;
        groupPos = 3;
        break;
      case 3:
        bytes[bytePos++] = (p & 3) << 6 | b;
        groupPos = 0;
        break;
    }
  }
  if (groupPos == 1) {
    throw Error(`invalid base64 string.`);
  }
  return bytes.subarray(0, bytePos);
}
__name(base64decode, "base64decode");
function base64encode(bytes) {
  let base64 = "", groupPos = 0, b, p = 0;
  for (let i = 0; i < bytes.length; i++) {
    b = bytes[i];
    switch (groupPos) {
      case 0:
        base64 += encTable[b >> 2];
        p = (b & 3) << 4;
        groupPos = 1;
        break;
      case 1:
        base64 += encTable[p | b >> 4];
        p = (b & 15) << 2;
        groupPos = 2;
        break;
      case 2:
        base64 += encTable[p | b >> 6];
        base64 += encTable[b & 63];
        groupPos = 0;
        break;
    }
  }
  if (groupPos) {
    base64 += encTable[p];
    base64 += "=";
    if (groupPos == 1) {
      base64 += "=";
    }
  }
  return base64;
}
__name(base64encode, "base64encode");

// node_modules/@protobuf-ts/runtime/build/es2015/binary-format-contract.js
var UnknownFieldHandler;
(function (UnknownFieldHandler2) {
  UnknownFieldHandler2.symbol = Symbol.for("protobuf-ts/unknown");
  UnknownFieldHandler2.onRead = (
    typeName,
    message,
    fieldNo,
    wireType,
    data,
  ) => {
    let container = is3(message)
      ? message[UnknownFieldHandler2.symbol]
      : message[UnknownFieldHandler2.symbol] = [];
    container.push({ no: fieldNo, wireType, data });
  };
  UnknownFieldHandler2.onWrite = (typeName, message, writer) => {
    for (let { no, wireType, data } of UnknownFieldHandler2.list(message)) {
      writer.tag(no, wireType).raw(data);
    }
  };
  UnknownFieldHandler2.list = (message, fieldNo) => {
    if (is3(message)) {
      let all = message[UnknownFieldHandler2.symbol];
      return fieldNo ? all.filter((uf) => uf.no == fieldNo) : all;
    }
    return [];
  };
  UnknownFieldHandler2.last = (message, fieldNo) =>
    UnknownFieldHandler2.list(message, fieldNo).slice(-1)[0];
  const is3 = /* @__PURE__ */ __name(
    (message) => message && Array.isArray(message[UnknownFieldHandler2.symbol]),
    "is",
  );
})(UnknownFieldHandler || (UnknownFieldHandler = {}));
var WireType;
(function (WireType2) {
  WireType2[WireType2["Varint"] = 0] = "Varint";
  WireType2[WireType2["Bit64"] = 1] = "Bit64";
  WireType2[WireType2["LengthDelimited"] = 2] = "LengthDelimited";
  WireType2[WireType2["StartGroup"] = 3] = "StartGroup";
  WireType2[WireType2["EndGroup"] = 4] = "EndGroup";
  WireType2[WireType2["Bit32"] = 5] = "Bit32";
})(WireType || (WireType = {}));

// node_modules/@protobuf-ts/runtime/build/es2015/goog-varint.js
function varint64read() {
  let lowBits = 0;
  let highBits = 0;
  for (let shift = 0; shift < 28; shift += 7) {
    let b = this.buf[this.pos++];
    lowBits |= (b & 127) << shift;
    if ((b & 128) == 0) {
      this.assertBounds();
      return [lowBits, highBits];
    }
  }
  let middleByte = this.buf[this.pos++];
  lowBits |= (middleByte & 15) << 28;
  highBits = (middleByte & 112) >> 4;
  if ((middleByte & 128) == 0) {
    this.assertBounds();
    return [lowBits, highBits];
  }
  for (let shift = 3; shift <= 31; shift += 7) {
    let b = this.buf[this.pos++];
    highBits |= (b & 127) << shift;
    if ((b & 128) == 0) {
      this.assertBounds();
      return [lowBits, highBits];
    }
  }
  throw new Error("invalid varint");
}
__name(varint64read, "varint64read");
function varint64write(lo, hi, bytes) {
  for (let i = 0; i < 28; i = i + 7) {
    const shift = lo >>> i;
    const hasNext = !(shift >>> 7 == 0 && hi == 0);
    const byte = (hasNext ? shift | 128 : shift) & 255;
    bytes.push(byte);
    if (!hasNext) {
      return;
    }
  }
  const splitBits = lo >>> 28 & 15 | (hi & 7) << 4;
  const hasMoreBits = !(hi >> 3 == 0);
  bytes.push((hasMoreBits ? splitBits | 128 : splitBits) & 255);
  if (!hasMoreBits) {
    return;
  }
  for (let i = 3; i < 31; i = i + 7) {
    const shift = hi >>> i;
    const hasNext = !(shift >>> 7 == 0);
    const byte = (hasNext ? shift | 128 : shift) & 255;
    bytes.push(byte);
    if (!hasNext) {
      return;
    }
  }
  bytes.push(hi >>> 31 & 1);
}
__name(varint64write, "varint64write");
var TWO_PWR_32_DBL = (1 << 16) * (1 << 16);
function int64fromString(dec) {
  let minus = dec[0] == "-";
  if (minus) {
    dec = dec.slice(1);
  }
  const base = 1e6;
  let lowBits = 0;
  let highBits = 0;
  function add1e6digit(begin, end) {
    const digit1e6 = Number(dec.slice(begin, end));
    highBits *= base;
    lowBits = lowBits * base + digit1e6;
    if (lowBits >= TWO_PWR_32_DBL) {
      highBits = highBits + (lowBits / TWO_PWR_32_DBL | 0);
      lowBits = lowBits % TWO_PWR_32_DBL;
    }
  }
  __name(add1e6digit, "add1e6digit");
  add1e6digit(-24, -18);
  add1e6digit(-18, -12);
  add1e6digit(-12, -6);
  add1e6digit(-6);
  return [minus, lowBits, highBits];
}
__name(int64fromString, "int64fromString");
function int64toString(bitsLow, bitsHigh) {
  if (bitsHigh <= 2097151) {
    return "" + (TWO_PWR_32_DBL * bitsHigh + bitsLow);
  }
  let low = bitsLow & 16777215;
  let mid = (bitsLow >>> 24 | bitsHigh << 8) >>> 0 & 16777215;
  let high = bitsHigh >> 16 & 65535;
  let digitA = low + mid * 6777216 + high * 6710656;
  let digitB = mid + high * 8147497;
  let digitC = high * 2;
  let base = 1e7;
  if (digitA >= base) {
    digitB += Math.floor(digitA / base);
    digitA %= base;
  }
  if (digitB >= base) {
    digitC += Math.floor(digitB / base);
    digitB %= base;
  }
  function decimalFrom1e7(digit1e7, needLeadingZeros) {
    let partial = digit1e7 ? String(digit1e7) : "";
    if (needLeadingZeros) {
      return "0000000".slice(partial.length) + partial;
    }
    return partial;
  }
  __name(decimalFrom1e7, "decimalFrom1e7");
  return decimalFrom1e7(digitC, 0) + decimalFrom1e7(digitB, digitC) +
    decimalFrom1e7(digitA, 1);
}
__name(int64toString, "int64toString");
function varint32write(value, bytes) {
  if (value >= 0) {
    while (value > 127) {
      bytes.push(value & 127 | 128);
      value = value >>> 7;
    }
    bytes.push(value);
  } else {
    for (let i = 0; i < 9; i++) {
      bytes.push(value & 127 | 128);
      value = value >> 7;
    }
    bytes.push(1);
  }
}
__name(varint32write, "varint32write");
function varint32read() {
  let b = this.buf[this.pos++];
  let result = b & 127;
  if ((b & 128) == 0) {
    this.assertBounds();
    return result;
  }
  b = this.buf[this.pos++];
  result |= (b & 127) << 7;
  if ((b & 128) == 0) {
    this.assertBounds();
    return result;
  }
  b = this.buf[this.pos++];
  result |= (b & 127) << 14;
  if ((b & 128) == 0) {
    this.assertBounds();
    return result;
  }
  b = this.buf[this.pos++];
  result |= (b & 127) << 21;
  if ((b & 128) == 0) {
    this.assertBounds();
    return result;
  }
  b = this.buf[this.pos++];
  result |= (b & 15) << 28;
  for (let readBytes = 5; (b & 128) !== 0 && readBytes < 10; readBytes++) {
    b = this.buf[this.pos++];
  }
  if ((b & 128) != 0) {
    throw new Error("invalid varint");
  }
  this.assertBounds();
  return result >>> 0;
}
__name(varint32read, "varint32read");

// node_modules/@protobuf-ts/runtime/build/es2015/pb-long.js
function detectBi() {
  const dv = new DataView(new ArrayBuffer(8));
  const ok = globalThis.BigInt !== void 0 &&
    typeof dv.getBigInt64 === "function" &&
    typeof dv.getBigUint64 === "function" &&
    typeof dv.setBigInt64 === "function" &&
    typeof dv.setBigUint64 === "function";
  return ok
    ? {
      MIN: BigInt("-9223372036854775808"),
      MAX: BigInt("9223372036854775807"),
      UMIN: BigInt("0"),
      UMAX: BigInt("18446744073709551615"),
      C: BigInt,
      V: dv,
    }
    : void 0;
}
__name(detectBi, "detectBi");
var BI = detectBi();
function assertBi(bi) {
  if (!bi) {
    throw new Error(
      "BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support",
    );
  }
}
__name(assertBi, "assertBi");
var RE_DECIMAL_STR = /^-?[0-9]+$/;
var TWO_PWR_32_DBL2 = (1 << 16) * (1 << 16);
var SharedPbLong = class {
  constructor(lo, hi) {
    this.lo = lo | 0;
    this.hi = hi | 0;
  }
  isZero() {
    return this.lo == 0 && this.hi == 0;
  }
  toNumber() {
    let result = this.hi * TWO_PWR_32_DBL2 + (this.lo >>> 0);
    if (!Number.isSafeInteger(result)) {
      throw new Error("cannot convert to safe number");
    }
    return result;
  }
};
__name(SharedPbLong, "SharedPbLong");
var PbULong = class extends SharedPbLong {
  static from(value) {
    if (BI) {
      switch (typeof value) {
        case "string":
          if (value == "0") {
            return this.ZERO;
          }
          if (value == "") {
            throw new Error("string is no integer");
          }
          value = BI.C(value);
        case "number":
          if (value === 0) {
            return this.ZERO;
          }
          value = BI.C(value);
        case "bigint":
          if (!value) {
            return this.ZERO;
          }
          if (value < BI.UMIN) {
            throw new Error("signed value for ulong");
          }
          if (value > BI.UMAX) {
            throw new Error("ulong too large");
          }
          BI.V.setBigUint64(0, value, true);
          return new PbULong(BI.V.getInt32(0, true), BI.V.getInt32(4, true));
      }
    } else {
      switch (typeof value) {
        case "string":
          if (value == "0") {
            return this.ZERO;
          }
          value = value.trim();
          if (!RE_DECIMAL_STR.test(value)) {
            throw new Error("string is no integer");
          }
          let [minus, lo, hi] = int64fromString(value);
          if (minus) {
            throw new Error("signed value");
          }
          return new PbULong(lo, hi);
        case "number":
          if (value == 0) {
            return this.ZERO;
          }
          if (!Number.isSafeInteger(value)) {
            throw new Error("number is no integer");
          }
          if (value < 0) {
            throw new Error("signed value for ulong");
          }
          return new PbULong(value, value / TWO_PWR_32_DBL2);
      }
    }
    throw new Error("unknown value " + typeof value);
  }
  toString() {
    return BI ? this.toBigInt().toString() : int64toString(this.lo, this.hi);
  }
  toBigInt() {
    assertBi(BI);
    BI.V.setInt32(0, this.lo, true);
    BI.V.setInt32(4, this.hi, true);
    return BI.V.getBigUint64(0, true);
  }
};
__name(PbULong, "PbULong");
PbULong.ZERO = new PbULong(0, 0);
var PbLong = class extends SharedPbLong {
  static from(value) {
    if (BI) {
      switch (typeof value) {
        case "string":
          if (value == "0") {
            return this.ZERO;
          }
          if (value == "") {
            throw new Error("string is no integer");
          }
          value = BI.C(value);
        case "number":
          if (value === 0) {
            return this.ZERO;
          }
          value = BI.C(value);
        case "bigint":
          if (!value) {
            return this.ZERO;
          }
          if (value < BI.MIN) {
            throw new Error("ulong too small");
          }
          if (value > BI.MAX) {
            throw new Error("ulong too large");
          }
          BI.V.setBigInt64(0, value, true);
          return new PbLong(BI.V.getInt32(0, true), BI.V.getInt32(4, true));
      }
    } else {
      switch (typeof value) {
        case "string":
          if (value == "0") {
            return this.ZERO;
          }
          value = value.trim();
          if (!RE_DECIMAL_STR.test(value)) {
            throw new Error("string is no integer");
          }
          let [minus, lo, hi] = int64fromString(value);
          let pbl = new PbLong(lo, hi);
          return minus ? pbl.negate() : pbl;
        case "number":
          if (value == 0) {
            return this.ZERO;
          }
          if (!Number.isSafeInteger(value)) {
            throw new Error("number is no integer");
          }
          return value > 0
            ? new PbLong(value, value / TWO_PWR_32_DBL2)
            : new PbLong(-value, -value / TWO_PWR_32_DBL2).negate();
      }
    }
    throw new Error("unknown value " + typeof value);
  }
  isNegative() {
    return (this.hi & 2147483648) !== 0;
  }
  negate() {
    let hi = ~this.hi, lo = this.lo;
    if (lo) {
      lo = ~lo + 1;
    } else {
      hi += 1;
    }
    return new PbLong(lo, hi);
  }
  toString() {
    if (BI) {
      return this.toBigInt().toString();
    }
    if (this.isNegative()) {
      let n = this.negate();
      return "-" + int64toString(n.lo, n.hi);
    }
    return int64toString(this.lo, this.hi);
  }
  toBigInt() {
    assertBi(BI);
    BI.V.setInt32(0, this.lo, true);
    BI.V.setInt32(4, this.hi, true);
    return BI.V.getBigInt64(0, true);
  }
};
__name(PbLong, "PbLong");
PbLong.ZERO = new PbLong(0, 0);

// node_modules/@protobuf-ts/runtime/build/es2015/binary-reader.js
var defaultsRead = {
  readUnknownField: true,
  readerFactory: (bytes) => new BinaryReader(bytes),
};
function binaryReadOptions(options) {
  return options
    ? Object.assign(Object.assign({}, defaultsRead), options)
    : defaultsRead;
}
__name(binaryReadOptions, "binaryReadOptions");
var BinaryReader = class {
  constructor(buf, textDecoder) {
    this.varint64 = varint64read;
    this.uint32 = varint32read;
    this.buf = buf;
    this.len = buf.length;
    this.pos = 0;
    this.view = new DataView(buf.buffer, buf.byteOffset, buf.byteLength);
    this.textDecoder = textDecoder !== null && textDecoder !== void 0
      ? textDecoder
      : new TextDecoder("utf-8", {
        fatal: true,
      });
  }
  tag() {
    let tag = this.uint32(), fieldNo = tag >>> 3, wireType = tag & 7;
    if (fieldNo <= 0 || wireType < 0 || wireType > 5) {
      throw new Error(
        "illegal tag: field no " + fieldNo + " wire type " + wireType,
      );
    }
    return [fieldNo, wireType];
  }
  skip(wireType) {
    let start = this.pos;
    switch (wireType) {
      case WireType.Varint:
        while (this.buf[this.pos++] & 128) {
        }
        break;
      case WireType.Bit64:
        this.pos += 4;
      case WireType.Bit32:
        this.pos += 4;
        break;
      case WireType.LengthDelimited:
        let len = this.uint32();
        this.pos += len;
        break;
      case WireType.StartGroup:
        let t;
        while ((t = this.tag()[1]) !== WireType.EndGroup) {
          this.skip(t);
        }
        break;
      default:
        throw new Error("cant skip wire type " + wireType);
    }
    this.assertBounds();
    return this.buf.subarray(start, this.pos);
  }
  assertBounds() {
    if (this.pos > this.len) {
      throw new RangeError("premature EOF");
    }
  }
  int32() {
    return this.uint32() | 0;
  }
  sint32() {
    let zze = this.uint32();
    return zze >>> 1 ^ -(zze & 1);
  }
  int64() {
    return new PbLong(...this.varint64());
  }
  uint64() {
    return new PbULong(...this.varint64());
  }
  sint64() {
    let [lo, hi] = this.varint64();
    let s = -(lo & 1);
    lo = (lo >>> 1 | (hi & 1) << 31) ^ s;
    hi = hi >>> 1 ^ s;
    return new PbLong(lo, hi);
  }
  bool() {
    let [lo, hi] = this.varint64();
    return lo !== 0 || hi !== 0;
  }
  fixed32() {
    return this.view.getUint32((this.pos += 4) - 4, true);
  }
  sfixed32() {
    return this.view.getInt32((this.pos += 4) - 4, true);
  }
  fixed64() {
    return new PbULong(this.sfixed32(), this.sfixed32());
  }
  sfixed64() {
    return new PbLong(this.sfixed32(), this.sfixed32());
  }
  float() {
    return this.view.getFloat32((this.pos += 4) - 4, true);
  }
  double() {
    return this.view.getFloat64((this.pos += 8) - 8, true);
  }
  bytes() {
    let len = this.uint32();
    let start = this.pos;
    this.pos += len;
    this.assertBounds();
    return this.buf.subarray(start, start + len);
  }
  string() {
    return this.textDecoder.decode(this.bytes());
  }
};
__name(BinaryReader, "BinaryReader");

// node_modules/@protobuf-ts/runtime/build/es2015/assert.js
function assert(condition, msg) {
  if (!condition) {
    throw new Error(msg);
  }
}
__name(assert, "assert");
var FLOAT32_MAX = 34028234663852886e22;
var FLOAT32_MIN = -34028234663852886e22;
var UINT32_MAX = 4294967295;
var INT32_MAX = 2147483647;
var INT32_MIN = -2147483648;
function assertInt32(arg) {
  if (typeof arg !== "number") {
    throw new Error("invalid int 32: " + typeof arg);
  }
  if (!Number.isInteger(arg) || arg > INT32_MAX || arg < INT32_MIN) {
    throw new Error("invalid int 32: " + arg);
  }
}
__name(assertInt32, "assertInt32");
function assertUInt32(arg) {
  if (typeof arg !== "number") {
    throw new Error("invalid uint 32: " + typeof arg);
  }
  if (!Number.isInteger(arg) || arg > UINT32_MAX || arg < 0) {
    throw new Error("invalid uint 32: " + arg);
  }
}
__name(assertUInt32, "assertUInt32");
function assertFloat32(arg) {
  if (typeof arg !== "number") {
    throw new Error("invalid float 32: " + typeof arg);
  }
  if (!Number.isFinite(arg)) {
    return;
  }
  if (arg > FLOAT32_MAX || arg < FLOAT32_MIN) {
    throw new Error("invalid float 32: " + arg);
  }
}
__name(assertFloat32, "assertFloat32");

// node_modules/@protobuf-ts/runtime/build/es2015/binary-writer.js
var defaultsWrite = {
  writeUnknownFields: true,
  writerFactory: () => new BinaryWriter(),
};
function binaryWriteOptions(options) {
  return options
    ? Object.assign(Object.assign({}, defaultsWrite), options)
    : defaultsWrite;
}
__name(binaryWriteOptions, "binaryWriteOptions");
var BinaryWriter = class {
  constructor(textEncoder) {
    this.stack = [];
    this.textEncoder = textEncoder !== null && textEncoder !== void 0
      ? textEncoder
      : new TextEncoder();
    this.chunks = [];
    this.buf = [];
  }
  finish() {
    this.chunks.push(new Uint8Array(this.buf));
    let len = 0;
    for (let i = 0; i < this.chunks.length; i++) {
      len += this.chunks[i].length;
    }
    let bytes = new Uint8Array(len);
    let offset = 0;
    for (let i = 0; i < this.chunks.length; i++) {
      bytes.set(this.chunks[i], offset);
      offset += this.chunks[i].length;
    }
    this.chunks = [];
    return bytes;
  }
  fork() {
    this.stack.push({ chunks: this.chunks, buf: this.buf });
    this.chunks = [];
    this.buf = [];
    return this;
  }
  join() {
    let chunk = this.finish();
    let prev = this.stack.pop();
    if (!prev) {
      throw new Error("invalid state, fork stack empty");
    }
    this.chunks = prev.chunks;
    this.buf = prev.buf;
    this.uint32(chunk.byteLength);
    return this.raw(chunk);
  }
  tag(fieldNo, type) {
    return this.uint32((fieldNo << 3 | type) >>> 0);
  }
  raw(chunk) {
    if (this.buf.length) {
      this.chunks.push(new Uint8Array(this.buf));
      this.buf = [];
    }
    this.chunks.push(chunk);
    return this;
  }
  uint32(value) {
    assertUInt32(value);
    while (value > 127) {
      this.buf.push(value & 127 | 128);
      value = value >>> 7;
    }
    this.buf.push(value);
    return this;
  }
  int32(value) {
    assertInt32(value);
    varint32write(value, this.buf);
    return this;
  }
  bool(value) {
    this.buf.push(value ? 1 : 0);
    return this;
  }
  bytes(value) {
    this.uint32(value.byteLength);
    return this.raw(value);
  }
  string(value) {
    let chunk = this.textEncoder.encode(value);
    this.uint32(chunk.byteLength);
    return this.raw(chunk);
  }
  float(value) {
    assertFloat32(value);
    let chunk = new Uint8Array(4);
    new DataView(chunk.buffer).setFloat32(0, value, true);
    return this.raw(chunk);
  }
  double(value) {
    let chunk = new Uint8Array(8);
    new DataView(chunk.buffer).setFloat64(0, value, true);
    return this.raw(chunk);
  }
  fixed32(value) {
    assertUInt32(value);
    let chunk = new Uint8Array(4);
    new DataView(chunk.buffer).setUint32(0, value, true);
    return this.raw(chunk);
  }
  sfixed32(value) {
    assertInt32(value);
    let chunk = new Uint8Array(4);
    new DataView(chunk.buffer).setInt32(0, value, true);
    return this.raw(chunk);
  }
  sint32(value) {
    assertInt32(value);
    value = (value << 1 ^ value >> 31) >>> 0;
    varint32write(value, this.buf);
    return this;
  }
  sfixed64(value) {
    let chunk = new Uint8Array(8);
    let view = new DataView(chunk.buffer);
    let long = PbLong.from(value);
    view.setInt32(0, long.lo, true);
    view.setInt32(4, long.hi, true);
    return this.raw(chunk);
  }
  fixed64(value) {
    let chunk = new Uint8Array(8);
    let view = new DataView(chunk.buffer);
    let long = PbULong.from(value);
    view.setInt32(0, long.lo, true);
    view.setInt32(4, long.hi, true);
    return this.raw(chunk);
  }
  int64(value) {
    let long = PbLong.from(value);
    varint64write(long.lo, long.hi, this.buf);
    return this;
  }
  sint64(value) {
    let long = PbLong.from(value),
      sign = long.hi >> 31,
      lo = long.lo << 1 ^ sign,
      hi = (long.hi << 1 | long.lo >>> 31) ^ sign;
    varint64write(lo, hi, this.buf);
    return this;
  }
  uint64(value) {
    let long = PbULong.from(value);
    varint64write(long.lo, long.hi, this.buf);
    return this;
  }
};
__name(BinaryWriter, "BinaryWriter");

// node_modules/@protobuf-ts/runtime/build/es2015/json-format-contract.js
var defaultsWrite2 = {
  emitDefaultValues: false,
  enumAsInteger: false,
  useProtoFieldName: false,
  prettySpaces: 0,
};
var defaultsRead2 = {
  ignoreUnknownFields: false,
};
function jsonReadOptions(options) {
  return options
    ? Object.assign(Object.assign({}, defaultsRead2), options)
    : defaultsRead2;
}
__name(jsonReadOptions, "jsonReadOptions");
function jsonWriteOptions(options) {
  return options
    ? Object.assign(Object.assign({}, defaultsWrite2), options)
    : defaultsWrite2;
}
__name(jsonWriteOptions, "jsonWriteOptions");

// node_modules/@protobuf-ts/runtime/build/es2015/message-type-contract.js
var MESSAGE_TYPE = Symbol.for("protobuf-ts/message-type");

// node_modules/@protobuf-ts/runtime/build/es2015/lower-camel-case.js
function lowerCamelCase(snakeCase) {
  let capNext = false;
  const sb = [];
  for (let i = 0; i < snakeCase.length; i++) {
    let next = snakeCase.charAt(i);
    if (next == "_") {
      capNext = true;
    } else if (/\d/.test(next)) {
      sb.push(next);
      capNext = true;
    } else if (capNext) {
      sb.push(next.toUpperCase());
      capNext = false;
    } else if (i == 0) {
      sb.push(next.toLowerCase());
    } else {
      sb.push(next);
    }
  }
  return sb.join("");
}
__name(lowerCamelCase, "lowerCamelCase");

// node_modules/@protobuf-ts/runtime/build/es2015/reflection-info.js
var ScalarType;
(function (ScalarType2) {
  ScalarType2[ScalarType2["DOUBLE"] = 1] = "DOUBLE";
  ScalarType2[ScalarType2["FLOAT"] = 2] = "FLOAT";
  ScalarType2[ScalarType2["INT64"] = 3] = "INT64";
  ScalarType2[ScalarType2["UINT64"] = 4] = "UINT64";
  ScalarType2[ScalarType2["INT32"] = 5] = "INT32";
  ScalarType2[ScalarType2["FIXED64"] = 6] = "FIXED64";
  ScalarType2[ScalarType2["FIXED32"] = 7] = "FIXED32";
  ScalarType2[ScalarType2["BOOL"] = 8] = "BOOL";
  ScalarType2[ScalarType2["STRING"] = 9] = "STRING";
  ScalarType2[ScalarType2["BYTES"] = 12] = "BYTES";
  ScalarType2[ScalarType2["UINT32"] = 13] = "UINT32";
  ScalarType2[ScalarType2["SFIXED32"] = 15] = "SFIXED32";
  ScalarType2[ScalarType2["SFIXED64"] = 16] = "SFIXED64";
  ScalarType2[ScalarType2["SINT32"] = 17] = "SINT32";
  ScalarType2[ScalarType2["SINT64"] = 18] = "SINT64";
})(ScalarType || (ScalarType = {}));
var LongType;
(function (LongType2) {
  LongType2[LongType2["BIGINT"] = 0] = "BIGINT";
  LongType2[LongType2["STRING"] = 1] = "STRING";
  LongType2[LongType2["NUMBER"] = 2] = "NUMBER";
})(LongType || (LongType = {}));
var RepeatType;
(function (RepeatType2) {
  RepeatType2[RepeatType2["NO"] = 0] = "NO";
  RepeatType2[RepeatType2["PACKED"] = 1] = "PACKED";
  RepeatType2[RepeatType2["UNPACKED"] = 2] = "UNPACKED";
})(RepeatType || (RepeatType = {}));
function normalizeFieldInfo(field) {
  var _a3, _b, _c, _d;
  field.localName = (_a3 = field.localName) !== null && _a3 !== void 0
    ? _a3
    : lowerCamelCase(field.name);
  field.jsonName = (_b = field.jsonName) !== null && _b !== void 0
    ? _b
    : lowerCamelCase(field.name);
  field.repeat = (_c = field.repeat) !== null && _c !== void 0
    ? _c
    : RepeatType.NO;
  field.opt = (_d = field.opt) !== null && _d !== void 0
    ? _d
    : field.repeat
    ? false
    : field.oneof
    ? false
    : field.kind == "message";
  return field;
}
__name(normalizeFieldInfo, "normalizeFieldInfo");

// node_modules/@protobuf-ts/runtime/build/es2015/oneof.js
function isOneofGroup(any) {
  if (
    typeof any != "object" || any === null || !any.hasOwnProperty("oneofKind")
  ) {
    return false;
  }
  switch (typeof any.oneofKind) {
    case "string":
      if (any[any.oneofKind] === void 0) {
        return false;
      }
      return Object.keys(any).length == 2;
    case "undefined":
      return Object.keys(any).length == 1;
    default:
      return false;
  }
}
__name(isOneofGroup, "isOneofGroup");

// node_modules/@protobuf-ts/runtime/build/es2015/reflection-type-check.js
var ReflectionTypeCheck = class {
  constructor(info) {
    var _a3;
    this.fields = (_a3 = info.fields) !== null && _a3 !== void 0 ? _a3 : [];
  }
  prepare() {
    if (this.data) {
      return;
    }
    const req = [], known = [], oneofs = [];
    for (let field of this.fields) {
      if (field.oneof) {
        if (!oneofs.includes(field.oneof)) {
          oneofs.push(field.oneof);
          req.push(field.oneof);
          known.push(field.oneof);
        }
      } else {
        known.push(field.localName);
        switch (field.kind) {
          case "scalar":
          case "enum":
            if (!field.opt || field.repeat) {
              req.push(field.localName);
            }
            break;
          case "message":
            if (field.repeat) {
              req.push(field.localName);
            }
            break;
          case "map":
            req.push(field.localName);
            break;
        }
      }
    }
    this.data = { req, known, oneofs: Object.values(oneofs) };
  }
  is(message, depth, allowExcessProperties = false) {
    if (depth < 0) {
      return true;
    }
    if (message === null || message === void 0 || typeof message != "object") {
      return false;
    }
    this.prepare();
    let keys2 = Object.keys(message), data = this.data;
    if (
      keys2.length < data.req.length || data.req.some((n) => !keys2.includes(n))
    ) {
      return false;
    }
    if (!allowExcessProperties) {
      if (keys2.some((k) => !data.known.includes(k))) {
        return false;
      }
    }
    if (depth < 1) {
      return true;
    }
    for (const name of data.oneofs) {
      const group = message[name];
      if (!isOneofGroup(group)) {
        return false;
      }
      if (group.oneofKind === void 0) {
        continue;
      }
      const field = this.fields.find((f) => f.localName === group.oneofKind);
      if (!field) {
        return false;
      }
      if (
        !this.field(group[group.oneofKind], field, allowExcessProperties, depth)
      ) {
        return false;
      }
    }
    for (const field of this.fields) {
      if (field.oneof !== void 0) {
        continue;
      }
      if (
        !this.field(
          message[field.localName],
          field,
          allowExcessProperties,
          depth,
        )
      ) {
        return false;
      }
    }
    return true;
  }
  field(arg, field, allowExcessProperties, depth) {
    let repeated = field.repeat;
    switch (field.kind) {
      case "scalar":
        if (arg === void 0) {
          return field.opt;
        }
        if (repeated) {
          return this.scalars(arg, field.T, depth, field.L);
        }
        return this.scalar(arg, field.T, field.L);
      case "enum":
        if (arg === void 0) {
          return field.opt;
        }
        if (repeated) {
          return this.scalars(arg, ScalarType.INT32, depth);
        }
        return this.scalar(arg, ScalarType.INT32);
      case "message":
        if (arg === void 0) {
          return true;
        }
        if (repeated) {
          return this.messages(arg, field.T(), allowExcessProperties, depth);
        }
        return this.message(arg, field.T(), allowExcessProperties, depth);
      case "map":
        if (typeof arg != "object" || arg === null) {
          return false;
        }
        if (depth < 2) {
          return true;
        }
        if (!this.mapKeys(arg, field.K, depth)) {
          return false;
        }
        switch (field.V.kind) {
          case "scalar":
            return this.scalars(
              Object.values(arg),
              field.V.T,
              depth,
              field.V.L,
            );
          case "enum":
            return this.scalars(Object.values(arg), ScalarType.INT32, depth);
          case "message":
            return this.messages(
              Object.values(arg),
              field.V.T(),
              allowExcessProperties,
              depth,
            );
        }
        break;
    }
    return true;
  }
  message(arg, type, allowExcessProperties, depth) {
    if (allowExcessProperties) {
      return type.isAssignable(arg, depth);
    }
    return type.is(arg, depth);
  }
  messages(arg, type, allowExcessProperties, depth) {
    if (!Array.isArray(arg)) {
      return false;
    }
    if (depth < 2) {
      return true;
    }
    if (allowExcessProperties) {
      for (let i = 0; i < arg.length && i < depth; i++) {
        if (!type.isAssignable(arg[i], depth - 1)) {
          return false;
        }
      }
    } else {
      for (let i = 0; i < arg.length && i < depth; i++) {
        if (!type.is(arg[i], depth - 1)) {
          return false;
        }
      }
    }
    return true;
  }
  scalar(arg, type, longType) {
    let argType = typeof arg;
    switch (type) {
      case ScalarType.UINT64:
      case ScalarType.FIXED64:
      case ScalarType.INT64:
      case ScalarType.SFIXED64:
      case ScalarType.SINT64:
        switch (longType) {
          case LongType.BIGINT:
            return argType == "bigint";
          case LongType.NUMBER:
            return argType == "number" && !isNaN(arg);
          default:
            return argType == "string";
        }
      case ScalarType.BOOL:
        return argType == "boolean";
      case ScalarType.STRING:
        return argType == "string";
      case ScalarType.BYTES:
        return arg instanceof Uint8Array;
      case ScalarType.DOUBLE:
      case ScalarType.FLOAT:
        return argType == "number" && !isNaN(arg);
      default:
        return argType == "number" && Number.isInteger(arg);
    }
  }
  scalars(arg, type, depth, longType) {
    if (!Array.isArray(arg)) {
      return false;
    }
    if (depth < 2) {
      return true;
    }
    if (Array.isArray(arg)) {
      for (let i = 0; i < arg.length && i < depth; i++) {
        if (!this.scalar(arg[i], type, longType)) {
          return false;
        }
      }
    }
    return true;
  }
  mapKeys(map2, type, depth) {
    let keys2 = Object.keys(map2);
    switch (type) {
      case ScalarType.INT32:
      case ScalarType.FIXED32:
      case ScalarType.SFIXED32:
      case ScalarType.SINT32:
      case ScalarType.UINT32:
        return this.scalars(
          keys2.slice(0, depth).map((k) => parseInt(k)),
          type,
          depth,
        );
      case ScalarType.BOOL:
        return this.scalars(
          keys2.slice(0, depth).map((k) =>
            k == "true" ? true : k == "false" ? false : k
          ),
          type,
          depth,
        );
      default:
        return this.scalars(keys2, type, depth, LongType.STRING);
    }
  }
};
__name(ReflectionTypeCheck, "ReflectionTypeCheck");

// node_modules/@protobuf-ts/runtime/build/es2015/reflection-long-convert.js
function reflectionLongConvert(long, type) {
  switch (type) {
    case LongType.BIGINT:
      return long.toBigInt();
    case LongType.NUMBER:
      return long.toNumber();
    default:
      return long.toString();
  }
}
__name(reflectionLongConvert, "reflectionLongConvert");

// node_modules/@protobuf-ts/runtime/build/es2015/reflection-json-reader.js
var ReflectionJsonReader = class {
  constructor(info) {
    this.info = info;
  }
  prepare() {
    var _a3;
    if (this.fMap === void 0) {
      this.fMap = {};
      const fieldsInput = (_a3 = this.info.fields) !== null && _a3 !== void 0
        ? _a3
        : [];
      for (const field of fieldsInput) {
        this.fMap[field.name] = field;
        this.fMap[field.jsonName] = field;
        this.fMap[field.localName] = field;
      }
    }
  }
  assert(condition, fieldName, jsonValue) {
    if (!condition) {
      let what = typeofJsonValue(jsonValue);
      if (what == "number" || what == "boolean") {
        what = jsonValue.toString();
      }
      throw new Error(
        `Cannot parse JSON ${what} for ${this.info.typeName}#${fieldName}`,
      );
    }
  }
  read(input, message, options) {
    this.prepare();
    const oneofsHandled = [];
    for (const [jsonKey, jsonValue] of Object.entries(input)) {
      const field = this.fMap[jsonKey];
      if (!field) {
        if (!options.ignoreUnknownFields) {
          throw new Error(
            `Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${jsonKey}`,
          );
        }
        continue;
      }
      const localName = field.localName;
      let target;
      if (field.oneof) {
        if (oneofsHandled.includes(field.oneof)) {
          throw new Error(
            `Multiple members of the oneof group "${field.oneof}" of ${this.info.typeName} are present in JSON.`,
          );
        }
        oneofsHandled.push(field.oneof);
        target = message[field.oneof] = {
          oneofKind: localName,
        };
      } else {
        target = message;
      }
      if (field.kind == "map") {
        if (jsonValue === null) {
          continue;
        }
        this.assert(isJsonObject(jsonValue), field.name, jsonValue);
        const fieldObj = target[localName];
        for (const [jsonObjKey, jsonObjValue] of Object.entries(jsonValue)) {
          this.assert(jsonObjValue !== null, field.name + " map value", null);
          let val;
          switch (field.V.kind) {
            case "message":
              val = field.V.T().internalJsonRead(jsonObjValue, options);
              break;
            case "enum":
              val = this.enum(
                field.V.T(),
                jsonObjValue,
                field.name,
                options.ignoreUnknownFields,
              );
              if (val === false) {
                continue;
              }
              break;
            case "scalar":
              val = this.scalar(jsonObjValue, field.V.T, field.V.L, field.name);
              break;
          }
          this.assert(val !== void 0, field.name + " map value", jsonObjValue);
          let key2 = jsonObjKey;
          if (field.K == ScalarType.BOOL) {
            key2 = key2 == "true" ? true : key2 == "false" ? false : key2;
          }
          key2 = this.scalar(key2, field.K, LongType.STRING, field.name)
            .toString();
          fieldObj[key2] = val;
        }
      } else if (field.repeat) {
        if (jsonValue === null) {
          continue;
        }
        this.assert(Array.isArray(jsonValue), field.name, jsonValue);
        const fieldArr = target[localName];
        for (const jsonItem of jsonValue) {
          this.assert(jsonItem !== null, field.name, null);
          let val;
          switch (field.kind) {
            case "message":
              val = field.T().internalJsonRead(jsonItem, options);
              break;
            case "enum":
              val = this.enum(
                field.T(),
                jsonItem,
                field.name,
                options.ignoreUnknownFields,
              );
              if (val === false) {
                continue;
              }
              break;
            case "scalar":
              val = this.scalar(jsonItem, field.T, field.L, field.name);
              break;
          }
          this.assert(val !== void 0, field.name, jsonValue);
          fieldArr.push(val);
        }
      } else {
        switch (field.kind) {
          case "message":
            if (
              jsonValue === null &&
              field.T().typeName != "google.protobuf.Value"
            ) {
              this.assert(
                field.oneof === void 0,
                field.name + " (oneof member)",
                null,
              );
              continue;
            }
            target[localName] = field.T().internalJsonRead(
              jsonValue,
              options,
              target[localName],
            );
            break;
          case "enum":
            let val = this.enum(
              field.T(),
              jsonValue,
              field.name,
              options.ignoreUnknownFields,
            );
            if (val === false) {
              continue;
            }
            target[localName] = val;
            break;
          case "scalar":
            target[localName] = this.scalar(
              jsonValue,
              field.T,
              field.L,
              field.name,
            );
            break;
        }
      }
    }
  }
  enum(type, json, fieldName, ignoreUnknownFields) {
    if (type[0] == "google.protobuf.NullValue") {
      assert(
        json === null,
        `Unable to parse field ${this.info.typeName}#${fieldName}, enum ${
          type[0]
        } only accepts null.`,
      );
    }
    if (json === null) {
      return 0;
    }
    switch (typeof json) {
      case "number":
        assert(
          Number.isInteger(json),
          `Unable to parse field ${this.info.typeName}#${fieldName}, enum can only be integral number, got ${json}.`,
        );
        return json;
      case "string":
        let localEnumName = json;
        if (type[2] && json.substring(0, type[2].length) === type[2]) {
          localEnumName = json.substring(type[2].length);
        }
        let enumNumber = type[1][localEnumName];
        if (typeof enumNumber === "undefined" && ignoreUnknownFields) {
          return false;
        }
        assert(
          typeof enumNumber == "number",
          `Unable to parse field ${this.info.typeName}#${fieldName}, enum ${
            type[0]
          } has no value for "${json}".`,
        );
        return enumNumber;
    }
    assert(
      false,
      `Unable to parse field ${this.info.typeName}#${fieldName}, cannot parse enum value from ${typeof json}".`,
    );
  }
  scalar(json, type, longType, fieldName) {
    let e;
    try {
      switch (type) {
        case ScalarType.DOUBLE:
        case ScalarType.FLOAT:
          if (json === null) {
            return 0;
          }
          if (json === "NaN") {
            return Number.NaN;
          }
          if (json === "Infinity") {
            return Number.POSITIVE_INFINITY;
          }
          if (json === "-Infinity") {
            return Number.NEGATIVE_INFINITY;
          }
          if (json === "") {
            e = "empty string";
            break;
          }
          if (typeof json == "string" && json.trim().length !== json.length) {
            e = "extra whitespace";
            break;
          }
          if (typeof json != "string" && typeof json != "number") {
            break;
          }
          let float = Number(json);
          if (Number.isNaN(float)) {
            e = "not a number";
            break;
          }
          if (!Number.isFinite(float)) {
            e = "too large or small";
            break;
          }
          if (type == ScalarType.FLOAT) {
            assertFloat32(float);
          }
          return float;
        case ScalarType.INT32:
        case ScalarType.FIXED32:
        case ScalarType.SFIXED32:
        case ScalarType.SINT32:
        case ScalarType.UINT32:
          if (json === null) {
            return 0;
          }
          let int32;
          if (typeof json == "number") {
            int32 = json;
          } else if (json === "") {
            e = "empty string";
          } else if (typeof json == "string") {
            if (json.trim().length !== json.length) {
              e = "extra whitespace";
            } else {
              int32 = Number(json);
            }
          }
          if (int32 === void 0) {
            break;
          }
          if (type == ScalarType.UINT32) {
            assertUInt32(int32);
          } else {
            assertInt32(int32);
          }
          return int32;
        case ScalarType.INT64:
        case ScalarType.SFIXED64:
        case ScalarType.SINT64:
          if (json === null) {
            return reflectionLongConvert(PbLong.ZERO, longType);
          }
          if (typeof json != "number" && typeof json != "string") {
            break;
          }
          return reflectionLongConvert(PbLong.from(json), longType);
        case ScalarType.FIXED64:
        case ScalarType.UINT64:
          if (json === null) {
            return reflectionLongConvert(PbULong.ZERO, longType);
          }
          if (typeof json != "number" && typeof json != "string") {
            break;
          }
          return reflectionLongConvert(PbULong.from(json), longType);
        case ScalarType.BOOL:
          if (json === null) {
            return false;
          }
          if (typeof json !== "boolean") {
            break;
          }
          return json;
        case ScalarType.STRING:
          if (json === null) {
            return "";
          }
          if (typeof json !== "string") {
            e = "extra whitespace";
            break;
          }
          try {
            encodeURIComponent(json);
          } catch (e2) {
            e2 = "invalid UTF8";
            break;
          }
          return json;
        case ScalarType.BYTES:
          if (json === null || json === "") {
            return new Uint8Array(0);
          }
          if (typeof json !== "string") {
            break;
          }
          return base64decode(json);
      }
    } catch (error) {
      e = error.message;
    }
    this.assert(false, fieldName + (e ? " - " + e : ""), json);
  }
};
__name(ReflectionJsonReader, "ReflectionJsonReader");

// node_modules/@protobuf-ts/runtime/build/es2015/reflection-json-writer.js
var ReflectionJsonWriter = class {
  constructor(info) {
    var _a3;
    this.fields = (_a3 = info.fields) !== null && _a3 !== void 0 ? _a3 : [];
  }
  write(message, options) {
    const json = {}, source = message;
    for (const field of this.fields) {
      if (!field.oneof) {
        let jsonValue2 = this.field(field, source[field.localName], options);
        if (jsonValue2 !== void 0) {
          json[options.useProtoFieldName ? field.name : field.jsonName] =
            jsonValue2;
        }
        continue;
      }
      const group = source[field.oneof];
      if (group.oneofKind !== field.localName) {
        continue;
      }
      const opt = field.kind == "scalar" || field.kind == "enum"
        ? Object.assign(Object.assign({}, options), { emitDefaultValues: true })
        : options;
      let jsonValue = this.field(field, group[field.localName], opt);
      assert(jsonValue !== void 0);
      json[options.useProtoFieldName ? field.name : field.jsonName] = jsonValue;
    }
    return json;
  }
  field(field, value, options) {
    let jsonValue = void 0;
    if (field.kind == "map") {
      assert(typeof value == "object" && value !== null);
      const jsonObj = {};
      switch (field.V.kind) {
        case "scalar":
          for (const [entryKey, entryValue] of Object.entries(value)) {
            const val = this.scalar(
              field.V.T,
              entryValue,
              field.name,
              false,
              true,
            );
            assert(val !== void 0);
            jsonObj[entryKey.toString()] = val;
          }
          break;
        case "message":
          const messageType = field.V.T();
          for (const [entryKey, entryValue] of Object.entries(value)) {
            const val = this.message(
              messageType,
              entryValue,
              field.name,
              options,
            );
            assert(val !== void 0);
            jsonObj[entryKey.toString()] = val;
          }
          break;
        case "enum":
          const enumInfo = field.V.T();
          for (const [entryKey, entryValue] of Object.entries(value)) {
            assert(entryValue === void 0 || typeof entryValue == "number");
            const val = this.enum(
              enumInfo,
              entryValue,
              field.name,
              false,
              true,
              options.enumAsInteger,
            );
            assert(val !== void 0);
            jsonObj[entryKey.toString()] = val;
          }
          break;
      }
      if (options.emitDefaultValues || Object.keys(jsonObj).length > 0) {
        jsonValue = jsonObj;
      }
    } else if (field.repeat) {
      assert(Array.isArray(value));
      const jsonArr = [];
      switch (field.kind) {
        case "scalar":
          for (let i = 0; i < value.length; i++) {
            const val = this.scalar(
              field.T,
              value[i],
              field.name,
              field.opt,
              true,
            );
            assert(val !== void 0);
            jsonArr.push(val);
          }
          break;
        case "enum":
          const enumInfo = field.T();
          for (let i = 0; i < value.length; i++) {
            assert(value[i] === void 0 || typeof value[i] == "number");
            const val = this.enum(
              enumInfo,
              value[i],
              field.name,
              field.opt,
              true,
              options.enumAsInteger,
            );
            assert(val !== void 0);
            jsonArr.push(val);
          }
          break;
        case "message":
          const messageType = field.T();
          for (let i = 0; i < value.length; i++) {
            const val = this.message(
              messageType,
              value[i],
              field.name,
              options,
            );
            assert(val !== void 0);
            jsonArr.push(val);
          }
          break;
      }
      if (
        options.emitDefaultValues || jsonArr.length > 0 ||
        options.emitDefaultValues
      ) {
        jsonValue = jsonArr;
      }
    } else {
      switch (field.kind) {
        case "scalar":
          jsonValue = this.scalar(
            field.T,
            value,
            field.name,
            field.opt,
            options.emitDefaultValues,
          );
          break;
        case "enum":
          jsonValue = this.enum(
            field.T(),
            value,
            field.name,
            field.opt,
            options.emitDefaultValues,
            options.enumAsInteger,
          );
          break;
        case "message":
          jsonValue = this.message(field.T(), value, field.name, options);
          break;
      }
    }
    return jsonValue;
  }
  enum(type, value, fieldName, optional, emitDefaultValues, enumAsInteger) {
    if (type[0] == "google.protobuf.NullValue") {
      return null;
    }
    if (value === void 0) {
      assert(optional);
      return void 0;
    }
    if (value === 0 && !emitDefaultValues && !optional) {
      return void 0;
    }
    assert(typeof value == "number");
    assert(Number.isInteger(value));
    if (enumAsInteger || !type[1].hasOwnProperty(value)) {
      return value;
    }
    if (type[2]) {
      return type[2] + type[1][value];
    }
    return type[1][value];
  }
  message(type, value, fieldName, options) {
    if (value === void 0) {
      return options.emitDefaultValues ? null : void 0;
    }
    return type.internalJsonWrite(value, options);
  }
  scalar(type, value, fieldName, optional, emitDefaultValues) {
    if (value === void 0) {
      assert(optional);
      return void 0;
    }
    const ed = emitDefaultValues || optional;
    switch (type) {
      case ScalarType.INT32:
      case ScalarType.SFIXED32:
      case ScalarType.SINT32:
        if (value === 0) {
          return ed ? 0 : void 0;
        }
        assertInt32(value);
        return value;
      case ScalarType.FIXED32:
      case ScalarType.UINT32:
        if (value === 0) {
          return ed ? 0 : void 0;
        }
        assertUInt32(value);
        return value;
      case ScalarType.FLOAT:
        assertFloat32(value);
      case ScalarType.DOUBLE:
        if (value === 0) {
          return ed ? 0 : void 0;
        }
        assert(typeof value == "number");
        if (Number.isNaN(value)) {
          return "NaN";
        }
        if (value === Number.POSITIVE_INFINITY) {
          return "Infinity";
        }
        if (value === Number.NEGATIVE_INFINITY) {
          return "-Infinity";
        }
        return value;
      case ScalarType.STRING:
        if (value === "") {
          return ed ? "" : void 0;
        }
        assert(typeof value == "string");
        return value;
      case ScalarType.BOOL:
        if (value === false) {
          return ed ? false : void 0;
        }
        assert(typeof value == "boolean");
        return value;
      case ScalarType.UINT64:
      case ScalarType.FIXED64:
        assert(
          typeof value == "number" || typeof value == "string" ||
            typeof value == "bigint",
        );
        let ulong = PbULong.from(value);
        if (ulong.isZero() && !ed) {
          return void 0;
        }
        return ulong.toString();
      case ScalarType.INT64:
      case ScalarType.SFIXED64:
      case ScalarType.SINT64:
        assert(
          typeof value == "number" || typeof value == "string" ||
            typeof value == "bigint",
        );
        let long = PbLong.from(value);
        if (long.isZero() && !ed) {
          return void 0;
        }
        return long.toString();
      case ScalarType.BYTES:
        assert(value instanceof Uint8Array);
        if (!value.byteLength) {
          return ed ? "" : void 0;
        }
        return base64encode(value);
    }
  }
};
__name(ReflectionJsonWriter, "ReflectionJsonWriter");

// node_modules/@protobuf-ts/runtime/build/es2015/reflection-scalar-default.js
function reflectionScalarDefault(type, longType = LongType.STRING) {
  switch (type) {
    case ScalarType.BOOL:
      return false;
    case ScalarType.UINT64:
    case ScalarType.FIXED64:
      return reflectionLongConvert(PbULong.ZERO, longType);
    case ScalarType.INT64:
    case ScalarType.SFIXED64:
    case ScalarType.SINT64:
      return reflectionLongConvert(PbLong.ZERO, longType);
    case ScalarType.DOUBLE:
    case ScalarType.FLOAT:
      return 0;
    case ScalarType.BYTES:
      return new Uint8Array(0);
    case ScalarType.STRING:
      return "";
    default:
      return 0;
  }
}
__name(reflectionScalarDefault, "reflectionScalarDefault");

// node_modules/@protobuf-ts/runtime/build/es2015/reflection-binary-reader.js
var ReflectionBinaryReader = class {
  constructor(info) {
    this.info = info;
  }
  prepare() {
    var _a3;
    if (!this.fieldNoToField) {
      const fieldsInput = (_a3 = this.info.fields) !== null && _a3 !== void 0
        ? _a3
        : [];
      this.fieldNoToField = new Map(
        fieldsInput.map((field) => [field.no, field]),
      );
    }
  }
  read(reader, message, options, length) {
    this.prepare();
    const end = length === void 0 ? reader.len : reader.pos + length;
    while (reader.pos < end) {
      const [fieldNo, wireType] = reader.tag(),
        field = this.fieldNoToField.get(fieldNo);
      if (!field) {
        let u = options.readUnknownField;
        if (u == "throw") {
          throw new Error(
            `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.info.typeName}`,
          );
        }
        let d = reader.skip(wireType);
        if (u !== false) {
          (u === true ? UnknownFieldHandler.onRead : u)(
            this.info.typeName,
            message,
            fieldNo,
            wireType,
            d,
          );
        }
        continue;
      }
      let target = message,
        repeated = field.repeat,
        localName = field.localName;
      if (field.oneof) {
        target = target[field.oneof];
        if (target.oneofKind !== localName) {
          target = message[field.oneof] = {
            oneofKind: localName,
          };
        }
      }
      switch (field.kind) {
        case "scalar":
        case "enum":
          let T = field.kind == "enum" ? ScalarType.INT32 : field.T;
          let L = field.kind == "scalar" ? field.L : void 0;
          if (repeated) {
            let arr = target[localName];
            if (
              wireType == WireType.LengthDelimited && T != ScalarType.STRING &&
              T != ScalarType.BYTES
            ) {
              let e = reader.uint32() + reader.pos;
              while (reader.pos < e) {
                arr.push(this.scalar(reader, T, L));
              }
            } else {
              arr.push(this.scalar(reader, T, L));
            }
          } else {
            target[localName] = this.scalar(reader, T, L);
          }
          break;
        case "message":
          if (repeated) {
            let arr = target[localName];
            let msg = field.T().internalBinaryRead(
              reader,
              reader.uint32(),
              options,
            );
            arr.push(msg);
          } else {
            target[localName] = field.T().internalBinaryRead(
              reader,
              reader.uint32(),
              options,
              target[localName],
            );
          }
          break;
        case "map":
          let [mapKey, mapVal] = this.mapEntry(field, reader, options);
          target[localName][mapKey] = mapVal;
          break;
      }
    }
  }
  mapEntry(field, reader, options) {
    let length = reader.uint32();
    let end = reader.pos + length;
    let key2 = void 0;
    let val = void 0;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 1:
          if (field.K == ScalarType.BOOL) {
            key2 = reader.bool().toString();
          } else {
            key2 = this.scalar(reader, field.K, LongType.STRING);
          }
          break;
        case 2:
          switch (field.V.kind) {
            case "scalar":
              val = this.scalar(reader, field.V.T, field.V.L);
              break;
            case "enum":
              val = reader.int32();
              break;
            case "message":
              val = field.V.T().internalBinaryRead(
                reader,
                reader.uint32(),
                options,
              );
              break;
          }
          break;
        default:
          throw new Error(
            `Unknown field ${fieldNo} (wire type ${wireType}) in map entry for ${this.info.typeName}#${field.name}`,
          );
      }
    }
    if (key2 === void 0) {
      let keyRaw = reflectionScalarDefault(field.K);
      key2 = field.K == ScalarType.BOOL ? keyRaw.toString() : keyRaw;
    }
    if (val === void 0) {
      switch (field.V.kind) {
        case "scalar":
          val = reflectionScalarDefault(field.V.T, field.V.L);
          break;
        case "enum":
          val = 0;
          break;
        case "message":
          val = field.V.T().create();
          break;
      }
    }
    return [key2, val];
  }
  scalar(reader, type, longType) {
    switch (type) {
      case ScalarType.INT32:
        return reader.int32();
      case ScalarType.STRING:
        return reader.string();
      case ScalarType.BOOL:
        return reader.bool();
      case ScalarType.DOUBLE:
        return reader.double();
      case ScalarType.FLOAT:
        return reader.float();
      case ScalarType.INT64:
        return reflectionLongConvert(reader.int64(), longType);
      case ScalarType.UINT64:
        return reflectionLongConvert(reader.uint64(), longType);
      case ScalarType.FIXED64:
        return reflectionLongConvert(reader.fixed64(), longType);
      case ScalarType.FIXED32:
        return reader.fixed32();
      case ScalarType.BYTES:
        return reader.bytes();
      case ScalarType.UINT32:
        return reader.uint32();
      case ScalarType.SFIXED32:
        return reader.sfixed32();
      case ScalarType.SFIXED64:
        return reflectionLongConvert(reader.sfixed64(), longType);
      case ScalarType.SINT32:
        return reader.sint32();
      case ScalarType.SINT64:
        return reflectionLongConvert(reader.sint64(), longType);
    }
  }
};
__name(ReflectionBinaryReader, "ReflectionBinaryReader");

// node_modules/@protobuf-ts/runtime/build/es2015/reflection-binary-writer.js
var ReflectionBinaryWriter = class {
  constructor(info) {
    this.info = info;
  }
  prepare() {
    if (!this.fields) {
      const fieldsInput = this.info.fields ? this.info.fields.concat() : [];
      this.fields = fieldsInput.sort((a, b) => a.no - b.no);
    }
  }
  write(message, writer, options) {
    this.prepare();
    for (const field of this.fields) {
      let value,
        emitDefault,
        repeated = field.repeat,
        localName = field.localName;
      if (field.oneof) {
        const group = message[field.oneof];
        if (group.oneofKind !== localName) {
          continue;
        }
        value = group[localName];
        emitDefault = true;
      } else {
        value = message[localName];
        emitDefault = false;
      }
      switch (field.kind) {
        case "scalar":
        case "enum":
          let T = field.kind == "enum" ? ScalarType.INT32 : field.T;
          if (repeated) {
            assert(Array.isArray(value));
            if (repeated == RepeatType.PACKED) {
              this.packed(writer, T, field.no, value);
            } else {
              for (const item of value) {
                this.scalar(writer, T, field.no, item, true);
              }
            }
          } else if (value === void 0) {
            assert(field.opt);
          } else {
            this.scalar(writer, T, field.no, value, emitDefault || field.opt);
          }
          break;
        case "message":
          if (repeated) {
            assert(Array.isArray(value));
            for (const item of value) {
              this.message(writer, options, field.T(), field.no, item);
            }
          } else {
            this.message(writer, options, field.T(), field.no, value);
          }
          break;
        case "map":
          assert(typeof value == "object" && value !== null);
          for (const [key2, val] of Object.entries(value)) {
            this.mapEntry(writer, options, field, key2, val);
          }
          break;
      }
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u === true ? UnknownFieldHandler.onWrite : u)(
        this.info.typeName,
        message,
        writer,
      );
    }
  }
  mapEntry(writer, options, field, key2, value) {
    writer.tag(field.no, WireType.LengthDelimited);
    writer.fork();
    let keyValue = key2;
    switch (field.K) {
      case ScalarType.INT32:
      case ScalarType.FIXED32:
      case ScalarType.UINT32:
      case ScalarType.SFIXED32:
      case ScalarType.SINT32:
        keyValue = Number.parseInt(key2);
        break;
      case ScalarType.BOOL:
        assert(key2 == "true" || key2 == "false");
        keyValue = key2 == "true";
        break;
    }
    this.scalar(writer, field.K, 1, keyValue, true);
    switch (field.V.kind) {
      case "scalar":
        this.scalar(writer, field.V.T, 2, value, true);
        break;
      case "enum":
        this.scalar(writer, ScalarType.INT32, 2, value, true);
        break;
      case "message":
        this.message(writer, options, field.V.T(), 2, value);
        break;
    }
    writer.join();
  }
  message(writer, options, handler4, fieldNo, value) {
    if (value === void 0) {
      return;
    }
    handler4.internalBinaryWrite(
      value,
      writer.tag(fieldNo, WireType.LengthDelimited).fork(),
      options,
    );
    writer.join();
  }
  scalar(writer, type, fieldNo, value, emitDefault) {
    let [wireType, method, isDefault] = this.scalarInfo(type, value);
    if (!isDefault || emitDefault) {
      writer.tag(fieldNo, wireType);
      writer[method](value);
    }
  }
  packed(writer, type, fieldNo, value) {
    if (!value.length) {
      return;
    }
    assert(type !== ScalarType.BYTES && type !== ScalarType.STRING);
    writer.tag(fieldNo, WireType.LengthDelimited);
    writer.fork();
    let [, method] = this.scalarInfo(type);
    for (let i = 0; i < value.length; i++) {
      writer[method](value[i]);
    }
    writer.join();
  }
  scalarInfo(type, value) {
    let t = WireType.Varint;
    let m;
    let i = value === void 0;
    let d = value === 0;
    switch (type) {
      case ScalarType.INT32:
        m = "int32";
        break;
      case ScalarType.STRING:
        d = i || !value.length;
        t = WireType.LengthDelimited;
        m = "string";
        break;
      case ScalarType.BOOL:
        d = value === false;
        m = "bool";
        break;
      case ScalarType.UINT32:
        m = "uint32";
        break;
      case ScalarType.DOUBLE:
        t = WireType.Bit64;
        m = "double";
        break;
      case ScalarType.FLOAT:
        t = WireType.Bit32;
        m = "float";
        break;
      case ScalarType.INT64:
        d = i || PbLong.from(value).isZero();
        m = "int64";
        break;
      case ScalarType.UINT64:
        d = i || PbULong.from(value).isZero();
        m = "uint64";
        break;
      case ScalarType.FIXED64:
        d = i || PbULong.from(value).isZero();
        t = WireType.Bit64;
        m = "fixed64";
        break;
      case ScalarType.BYTES:
        d = i || !value.byteLength;
        t = WireType.LengthDelimited;
        m = "bytes";
        break;
      case ScalarType.FIXED32:
        t = WireType.Bit32;
        m = "fixed32";
        break;
      case ScalarType.SFIXED32:
        t = WireType.Bit32;
        m = "sfixed32";
        break;
      case ScalarType.SFIXED64:
        d = i || PbLong.from(value).isZero();
        t = WireType.Bit64;
        m = "sfixed64";
        break;
      case ScalarType.SINT32:
        m = "sint32";
        break;
      case ScalarType.SINT64:
        d = i || PbLong.from(value).isZero();
        m = "sint64";
        break;
    }
    return [t, m, i || d];
  }
};
__name(ReflectionBinaryWriter, "ReflectionBinaryWriter");

// node_modules/@protobuf-ts/runtime/build/es2015/reflection-create.js
function reflectionCreate(type) {
  const msg = {};
  Object.defineProperty(msg, MESSAGE_TYPE, { enumerable: false, value: type });
  for (let field of type.fields) {
    let name = field.localName;
    if (field.opt) {
      continue;
    }
    if (field.oneof) {
      msg[field.oneof] = { oneofKind: void 0 };
    } else if (field.repeat) {
      msg[name] = [];
    } else {
      switch (field.kind) {
        case "scalar":
          msg[name] = reflectionScalarDefault(field.T, field.L);
          break;
        case "enum":
          msg[name] = 0;
          break;
        case "map":
          msg[name] = {};
          break;
      }
    }
  }
  return msg;
}
__name(reflectionCreate, "reflectionCreate");

// node_modules/@protobuf-ts/runtime/build/es2015/reflection-merge-partial.js
function reflectionMergePartial(info, target, source) {
  let fieldValue, input = source, output;
  for (let field of info.fields) {
    let name = field.localName;
    if (field.oneof) {
      const group = input[field.oneof];
      if (group == void 0) {
        continue;
      }
      fieldValue = group[name];
      output = target[field.oneof];
      output.oneofKind = group.oneofKind;
      if (fieldValue == void 0) {
        delete output[name];
        continue;
      }
    } else {
      fieldValue = input[name];
      output = target;
      if (fieldValue == void 0) {
        continue;
      }
    }
    switch (field.kind) {
      case "scalar":
      case "enum":
        if (field.repeat) {
          output[name] = fieldValue.concat();
        } else {
          output[name] = fieldValue;
        }
        break;
      case "message":
        let T = field.T();
        if (field.repeat) {
          for (let i = 0; i < fieldValue.length; i++) {
            output[name][i] = T.create(fieldValue[i]);
          }
        } else if (output[name] === void 0) {
          output[name] = T.create(fieldValue);
        } else {
          T.mergePartial(output[name], fieldValue);
        }
        break;
      case "map":
        switch (field.V.kind) {
          case "scalar":
          case "enum":
            Object.assign(output[name], fieldValue);
            break;
          case "message":
            let T2 = field.V.T();
            for (let k of Object.keys(fieldValue)) {
              output[name][k] = T2.create(fieldValue[k]);
            }
            break;
        }
        break;
    }
  }
}
__name(reflectionMergePartial, "reflectionMergePartial");

// node_modules/@protobuf-ts/runtime/build/es2015/reflection-equals.js
function reflectionEquals(info, a, b) {
  if (a === b) {
    return true;
  }
  if (!a || !b) {
    return false;
  }
  for (let field of info.fields) {
    let localName = field.localName;
    let val_a = field.oneof ? a[field.oneof][localName] : a[localName];
    let val_b = field.oneof ? b[field.oneof][localName] : b[localName];
    switch (field.kind) {
      case "enum":
      case "scalar":
        let t = field.kind == "enum" ? ScalarType.INT32 : field.T;
        if (
          !(field.repeat
            ? repeatedPrimitiveEq(t, val_a, val_b)
            : primitiveEq(t, val_a, val_b))
        ) {
          return false;
        }
        break;
      case "map":
        if (
          !(field.V.kind == "message"
            ? repeatedMsgEq(
              field.V.T(),
              objectValues(val_a),
              objectValues(val_b),
            )
            : repeatedPrimitiveEq(
              field.V.kind == "enum" ? ScalarType.INT32 : field.V.T,
              objectValues(val_a),
              objectValues(val_b),
            ))
        ) {
          return false;
        }
        break;
      case "message":
        let T = field.T();
        if (
          !(field.repeat
            ? repeatedMsgEq(T, val_a, val_b)
            : T.equals(val_a, val_b))
        ) {
          return false;
        }
        break;
    }
  }
  return true;
}
__name(reflectionEquals, "reflectionEquals");
var objectValues = Object.values;
function primitiveEq(type, a, b) {
  if (a === b) {
    return true;
  }
  if (type !== ScalarType.BYTES) {
    return false;
  }
  let ba = a;
  let bb = b;
  if (ba.length !== bb.length) {
    return false;
  }
  for (let i = 0; i < ba.length; i++) {
    if (ba[i] != bb[i]) {
      return false;
    }
  }
  return true;
}
__name(primitiveEq, "primitiveEq");
function repeatedPrimitiveEq(type, a, b) {
  if (a.length !== b.length) {
    return false;
  }
  for (let i = 0; i < a.length; i++) {
    if (!primitiveEq(type, a[i], b[i])) {
      return false;
    }
  }
  return true;
}
__name(repeatedPrimitiveEq, "repeatedPrimitiveEq");
function repeatedMsgEq(type, a, b) {
  if (a.length !== b.length) {
    return false;
  }
  for (let i = 0; i < a.length; i++) {
    if (!type.equals(a[i], b[i])) {
      return false;
    }
  }
  return true;
}
__name(repeatedMsgEq, "repeatedMsgEq");

// node_modules/@protobuf-ts/runtime/build/es2015/message-type.js
var MessageType = class {
  constructor(name, fields, options) {
    this.defaultCheckDepth = 16;
    this.typeName = name;
    this.fields = fields.map(normalizeFieldInfo);
    this.options = options !== null && options !== void 0 ? options : {};
    this.refTypeCheck = new ReflectionTypeCheck(this);
    this.refJsonReader = new ReflectionJsonReader(this);
    this.refJsonWriter = new ReflectionJsonWriter(this);
    this.refBinReader = new ReflectionBinaryReader(this);
    this.refBinWriter = new ReflectionBinaryWriter(this);
  }
  create(value) {
    let message = reflectionCreate(this);
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  clone(message) {
    let copy = this.create();
    reflectionMergePartial(this, copy, message);
    return copy;
  }
  equals(a, b) {
    return reflectionEquals(this, a, b);
  }
  is(arg, depth = this.defaultCheckDepth) {
    return this.refTypeCheck.is(arg, depth, false);
  }
  isAssignable(arg, depth = this.defaultCheckDepth) {
    return this.refTypeCheck.is(arg, depth, true);
  }
  mergePartial(target, source) {
    reflectionMergePartial(this, target, source);
  }
  fromBinary(data, options) {
    let opt = binaryReadOptions(options);
    return this.internalBinaryRead(
      opt.readerFactory(data),
      data.byteLength,
      opt,
    );
  }
  fromJson(json, options) {
    return this.internalJsonRead(json, jsonReadOptions(options));
  }
  fromJsonString(json, options) {
    let value = JSON.parse(json);
    return this.fromJson(value, options);
  }
  toJson(message, options) {
    return this.internalJsonWrite(message, jsonWriteOptions(options));
  }
  toJsonString(message, options) {
    var _a3;
    let value = this.toJson(message, options);
    return JSON.stringify(
      value,
      null,
      (_a3 = options === null || options === void 0
            ? void 0
            : options.prettySpaces) !== null && _a3 !== void 0
        ? _a3
        : 0,
    );
  }
  toBinary(message, options) {
    let opt = binaryWriteOptions(options);
    return this.internalBinaryWrite(message, opt.writerFactory(), opt).finish();
  }
  internalJsonRead(json, options, target) {
    if (json !== null && typeof json == "object" && !Array.isArray(json)) {
      let message = target !== null && target !== void 0
        ? target
        : this.create();
      this.refJsonReader.read(json, message, options);
      return message;
    }
    throw new Error(
      `Unable to parse message ${this.typeName} from JSON ${
        typeofJsonValue(json)
      }.`,
    );
  }
  internalJsonWrite(message, options) {
    return this.refJsonWriter.write(message, options);
  }
  internalBinaryWrite(message, writer, options) {
    this.refBinWriter.write(message, writer, options);
    return writer;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create();
    this.refBinReader.read(reader, message, options, length);
    return message;
  }
};
__name(MessageType, "MessageType");

// dist/src/proto/youtube.js
var VisitorData$Type = class extends MessageType {
  constructor() {
    super("youtube.VisitorData", [
      { no: 1, name: "id", kind: "scalar", T: 9 },
      { no: 5, name: "timestamp", kind: "scalar", T: 5 },
    ]);
  }
  create(value) {
    const message = { id: "", timestamp: 0 };
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 1:
          message.id = reader.string();
          break;
        case 5:
          message.timestamp = reader.int32();
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.id !== "") {
      writer.tag(1, WireType.LengthDelimited).string(message.id);
    }
    if (message.timestamp !== 0) {
      writer.tag(5, WireType.Varint).int32(message.timestamp);
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(VisitorData$Type, "VisitorData$Type");
var VisitorData = new VisitorData$Type();
var ChannelAnalytics$Type = class extends MessageType {
  constructor() {
    super("youtube.ChannelAnalytics", [
      {
        no: 32,
        name: "params",
        kind: "message",
        T: () => ChannelAnalytics_Params,
      },
    ]);
  }
  create(value) {
    const message = {};
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 32:
          message.params = ChannelAnalytics_Params.internalBinaryRead(
            reader,
            reader.uint32(),
            options,
            message.params,
          );
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.params) {
      ChannelAnalytics_Params.internalBinaryWrite(
        message.params,
        writer.tag(32, WireType.LengthDelimited).fork(),
        options,
      ).join();
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(ChannelAnalytics$Type, "ChannelAnalytics$Type");
var ChannelAnalytics = new ChannelAnalytics$Type();
var ChannelAnalytics_Params$Type = class extends MessageType {
  constructor() {
    super("youtube.ChannelAnalytics.Params", [
      { no: 1001, name: "channel_id", kind: "scalar", T: 9 },
    ]);
  }
  create(value) {
    const message = { channelId: "" };
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 1001:
          message.channelId = reader.string();
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.channelId !== "") {
      writer.tag(1001, WireType.LengthDelimited).string(message.channelId);
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(ChannelAnalytics_Params$Type, "ChannelAnalytics_Params$Type");
var ChannelAnalytics_Params = new ChannelAnalytics_Params$Type();
var InnertubePayload$Type = class extends MessageType {
  constructor() {
    super("youtube.InnertubePayload", [
      {
        no: 1,
        name: "context",
        kind: "message",
        T: () => InnertubePayload_Context,
      },
      { no: 2, name: "target", kind: "scalar", opt: true, T: 9 },
      {
        no: 20,
        name: "video_settings",
        kind: "message",
        T: () => InnertubePayload_VideoSettings,
      },
    ]);
  }
  create(value) {
    const message = {};
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 1:
          message.context = InnertubePayload_Context.internalBinaryRead(
            reader,
            reader.uint32(),
            options,
            message.context,
          );
          break;
        case 2:
          message.target = reader.string();
          break;
        case 20:
          message.videoSettings = InnertubePayload_VideoSettings
            .internalBinaryRead(
              reader,
              reader.uint32(),
              options,
              message.videoSettings,
            );
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.context) {
      InnertubePayload_Context.internalBinaryWrite(
        message.context,
        writer.tag(1, WireType.LengthDelimited).fork(),
        options,
      ).join();
    }
    if (message.target !== void 0) {
      writer.tag(2, WireType.LengthDelimited).string(message.target);
    }
    if (message.videoSettings) {
      InnertubePayload_VideoSettings.internalBinaryWrite(
        message.videoSettings,
        writer.tag(20, WireType.LengthDelimited).fork(),
        options,
      ).join();
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(InnertubePayload$Type, "InnertubePayload$Type");
var InnertubePayload = new InnertubePayload$Type();
var InnertubePayload_Context$Type = class extends MessageType {
  constructor() {
    super("youtube.InnertubePayload.Context", [
      {
        no: 1,
        name: "client",
        kind: "message",
        T: () => InnertubePayload_Context_Client,
      },
    ]);
  }
  create(value) {
    const message = {};
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 1:
          message.client = InnertubePayload_Context_Client.internalBinaryRead(
            reader,
            reader.uint32(),
            options,
            message.client,
          );
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.client) {
      InnertubePayload_Context_Client.internalBinaryWrite(
        message.client,
        writer.tag(1, WireType.LengthDelimited).fork(),
        options,
      ).join();
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(InnertubePayload_Context$Type, "InnertubePayload_Context$Type");
var InnertubePayload_Context = new InnertubePayload_Context$Type();
var InnertubePayload_Context_Client$Type = class extends MessageType {
  constructor() {
    super("youtube.InnertubePayload.Context.Client", [
      { no: 16, name: "unkparam", kind: "scalar", T: 5 },
      { no: 17, name: "client_version", kind: "scalar", T: 9 },
      { no: 18, name: "client_name", kind: "scalar", T: 9 },
    ]);
  }
  create(value) {
    const message = { unkparam: 0, clientVersion: "", clientName: "" };
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 16:
          message.unkparam = reader.int32();
          break;
        case 17:
          message.clientVersion = reader.string();
          break;
        case 18:
          message.clientName = reader.string();
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.unkparam !== 0) {
      writer.tag(16, WireType.Varint).int32(message.unkparam);
    }
    if (message.clientVersion !== "") {
      writer.tag(17, WireType.LengthDelimited).string(message.clientVersion);
    }
    if (message.clientName !== "") {
      writer.tag(18, WireType.LengthDelimited).string(message.clientName);
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(
  InnertubePayload_Context_Client$Type,
  "InnertubePayload_Context_Client$Type",
);
var InnertubePayload_Context_Client =
  new InnertubePayload_Context_Client$Type();
var InnertubePayload_VideoSettings$Type = class extends MessageType {
  constructor() {
    super("youtube.InnertubePayload.VideoSettings", [
      { no: 1, name: "type", kind: "scalar", T: 5 },
      {
        no: 3,
        name: "thumbnail",
        kind: "message",
        T: () => InnertubePayload_VideoSettings_Thumbnail,
      },
    ]);
  }
  create(value) {
    const message = { type: 0 };
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 1:
          message.type = reader.int32();
          break;
        case 3:
          message.thumbnail = InnertubePayload_VideoSettings_Thumbnail
            .internalBinaryRead(
              reader,
              reader.uint32(),
              options,
              message.thumbnail,
            );
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.type !== 0) {
      writer.tag(1, WireType.Varint).int32(message.type);
    }
    if (message.thumbnail) {
      InnertubePayload_VideoSettings_Thumbnail.internalBinaryWrite(
        message.thumbnail,
        writer.tag(3, WireType.LengthDelimited).fork(),
        options,
      ).join();
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(
  InnertubePayload_VideoSettings$Type,
  "InnertubePayload_VideoSettings$Type",
);
var InnertubePayload_VideoSettings = new InnertubePayload_VideoSettings$Type();
var InnertubePayload_VideoSettings_Thumbnail$Type = class extends MessageType {
  constructor() {
    super("youtube.InnertubePayload.VideoSettings.Thumbnail", [
      { no: 1, name: "image_data", kind: "scalar", T: 12 },
    ]);
  }
  create(value) {
    const message = { imageData: new Uint8Array(0) };
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 1:
          message.imageData = reader.bytes();
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.imageData.length) {
      writer.tag(1, WireType.LengthDelimited).bytes(message.imageData);
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(
  InnertubePayload_VideoSettings_Thumbnail$Type,
  "InnertubePayload_VideoSettings_Thumbnail$Type",
);
var InnertubePayload_VideoSettings_Thumbnail =
  new InnertubePayload_VideoSettings_Thumbnail$Type();
var SoundInfoParams$Type = class extends MessageType {
  constructor() {
    super("youtube.SoundInfoParams", [
      {
        no: 94,
        name: "sound",
        kind: "message",
        T: () => SoundInfoParams_Sound,
      },
    ]);
  }
  create(value) {
    const message = {};
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 94:
          message.sound = SoundInfoParams_Sound.internalBinaryRead(
            reader,
            reader.uint32(),
            options,
            message.sound,
          );
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.sound) {
      SoundInfoParams_Sound.internalBinaryWrite(
        message.sound,
        writer.tag(94, WireType.LengthDelimited).fork(),
        options,
      ).join();
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(SoundInfoParams$Type, "SoundInfoParams$Type");
var SoundInfoParams = new SoundInfoParams$Type();
var SoundInfoParams_Sound$Type = class extends MessageType {
  constructor() {
    super("youtube.SoundInfoParams.Sound", [
      {
        no: 1,
        name: "params",
        kind: "message",
        T: () => SoundInfoParams_Sound_Params,
      },
    ]);
  }
  create(value) {
    const message = {};
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 1:
          message.params = SoundInfoParams_Sound_Params.internalBinaryRead(
            reader,
            reader.uint32(),
            options,
            message.params,
          );
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.params) {
      SoundInfoParams_Sound_Params.internalBinaryWrite(
        message.params,
        writer.tag(1, WireType.LengthDelimited).fork(),
        options,
      ).join();
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(SoundInfoParams_Sound$Type, "SoundInfoParams_Sound$Type");
var SoundInfoParams_Sound = new SoundInfoParams_Sound$Type();
var SoundInfoParams_Sound_Params$Type = class extends MessageType {
  constructor() {
    super("youtube.SoundInfoParams.Sound.Params", [
      {
        no: 2,
        name: "ids",
        kind: "message",
        T: () => SoundInfoParams_Sound_Params_Ids,
      },
    ]);
  }
  create(value) {
    const message = {};
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 2:
          message.ids = SoundInfoParams_Sound_Params_Ids.internalBinaryRead(
            reader,
            reader.uint32(),
            options,
            message.ids,
          );
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.ids) {
      SoundInfoParams_Sound_Params_Ids.internalBinaryWrite(
        message.ids,
        writer.tag(2, WireType.LengthDelimited).fork(),
        options,
      ).join();
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(SoundInfoParams_Sound_Params$Type, "SoundInfoParams_Sound_Params$Type");
var SoundInfoParams_Sound_Params = new SoundInfoParams_Sound_Params$Type();
var SoundInfoParams_Sound_Params_Ids$Type = class extends MessageType {
  constructor() {
    super("youtube.SoundInfoParams.Sound.Params.Ids", [
      { no: 1, name: "id_1", kind: "scalar", T: 9 },
      { no: 2, name: "id_2", kind: "scalar", T: 9 },
      { no: 3, name: "id_3", kind: "scalar", T: 9 },
    ]);
  }
  create(value) {
    const message = { id1: "", id2: "", id3: "" };
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 1:
          message.id1 = reader.string();
          break;
        case 2:
          message.id2 = reader.string();
          break;
        case 3:
          message.id3 = reader.string();
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.id1 !== "") {
      writer.tag(1, WireType.LengthDelimited).string(message.id1);
    }
    if (message.id2 !== "") {
      writer.tag(2, WireType.LengthDelimited).string(message.id2);
    }
    if (message.id3 !== "") {
      writer.tag(3, WireType.LengthDelimited).string(message.id3);
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(
  SoundInfoParams_Sound_Params_Ids$Type,
  "SoundInfoParams_Sound_Params_Ids$Type",
);
var SoundInfoParams_Sound_Params_Ids =
  new SoundInfoParams_Sound_Params_Ids$Type();
var NotificationPreferences$Type = class extends MessageType {
  constructor() {
    super("youtube.NotificationPreferences", [
      { no: 1, name: "channel_id", kind: "scalar", T: 9 },
      {
        no: 2,
        name: "pref_id",
        kind: "message",
        T: () => NotificationPreferences_Preference,
      },
      { no: 3, name: "number_0", kind: "scalar", opt: true, T: 5 },
      { no: 4, name: "number_1", kind: "scalar", opt: true, T: 5 },
    ]);
  }
  create(value) {
    const message = { channelId: "" };
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 1:
          message.channelId = reader.string();
          break;
        case 2:
          message.prefId = NotificationPreferences_Preference
            .internalBinaryRead(
              reader,
              reader.uint32(),
              options,
              message.prefId,
            );
          break;
        case 3:
          message.number0 = reader.int32();
          break;
        case 4:
          message.number1 = reader.int32();
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.channelId !== "") {
      writer.tag(1, WireType.LengthDelimited).string(message.channelId);
    }
    if (message.prefId) {
      NotificationPreferences_Preference.internalBinaryWrite(
        message.prefId,
        writer.tag(2, WireType.LengthDelimited).fork(),
        options,
      ).join();
    }
    if (message.number0 !== void 0) {
      writer.tag(3, WireType.Varint).int32(message.number0);
    }
    if (message.number1 !== void 0) {
      writer.tag(4, WireType.Varint).int32(message.number1);
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(NotificationPreferences$Type, "NotificationPreferences$Type");
var NotificationPreferences = new NotificationPreferences$Type();
var NotificationPreferences_Preference$Type = class extends MessageType {
  constructor() {
    super("youtube.NotificationPreferences.Preference", [
      { no: 1, name: "index", kind: "scalar", T: 5 },
    ]);
  }
  create(value) {
    const message = { index: 0 };
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 1:
          message.index = reader.int32();
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.index !== 0) {
      writer.tag(1, WireType.Varint).int32(message.index);
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(
  NotificationPreferences_Preference$Type,
  "NotificationPreferences_Preference$Type",
);
var NotificationPreferences_Preference =
  new NotificationPreferences_Preference$Type();
var LiveMessageParams$Type = class extends MessageType {
  constructor() {
    super("youtube.LiveMessageParams", [
      {
        no: 1,
        name: "params",
        kind: "message",
        T: () => LiveMessageParams_Params,
      },
      { no: 2, name: "number_0", kind: "scalar", opt: true, T: 5 },
      { no: 3, name: "number_1", kind: "scalar", opt: true, T: 5 },
    ]);
  }
  create(value) {
    const message = {};
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 1:
          message.params = LiveMessageParams_Params.internalBinaryRead(
            reader,
            reader.uint32(),
            options,
            message.params,
          );
          break;
        case 2:
          message.number0 = reader.int32();
          break;
        case 3:
          message.number1 = reader.int32();
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.params) {
      LiveMessageParams_Params.internalBinaryWrite(
        message.params,
        writer.tag(1, WireType.LengthDelimited).fork(),
        options,
      ).join();
    }
    if (message.number0 !== void 0) {
      writer.tag(2, WireType.Varint).int32(message.number0);
    }
    if (message.number1 !== void 0) {
      writer.tag(3, WireType.Varint).int32(message.number1);
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(LiveMessageParams$Type, "LiveMessageParams$Type");
var LiveMessageParams = new LiveMessageParams$Type();
var LiveMessageParams_Params$Type = class extends MessageType {
  constructor() {
    super("youtube.LiveMessageParams.Params", [
      {
        no: 5,
        name: "ids",
        kind: "message",
        T: () => LiveMessageParams_Params_Ids,
      },
    ]);
  }
  create(value) {
    const message = {};
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 5:
          message.ids = LiveMessageParams_Params_Ids.internalBinaryRead(
            reader,
            reader.uint32(),
            options,
            message.ids,
          );
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.ids) {
      LiveMessageParams_Params_Ids.internalBinaryWrite(
        message.ids,
        writer.tag(5, WireType.LengthDelimited).fork(),
        options,
      ).join();
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(LiveMessageParams_Params$Type, "LiveMessageParams_Params$Type");
var LiveMessageParams_Params = new LiveMessageParams_Params$Type();
var LiveMessageParams_Params_Ids$Type = class extends MessageType {
  constructor() {
    super("youtube.LiveMessageParams.Params.Ids", [
      { no: 1, name: "channel_id", kind: "scalar", T: 9 },
      { no: 2, name: "video_id", kind: "scalar", T: 9 },
    ]);
  }
  create(value) {
    const message = { channelId: "", videoId: "" };
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 1:
          message.channelId = reader.string();
          break;
        case 2:
          message.videoId = reader.string();
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.channelId !== "") {
      writer.tag(1, WireType.LengthDelimited).string(message.channelId);
    }
    if (message.videoId !== "") {
      writer.tag(2, WireType.LengthDelimited).string(message.videoId);
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(LiveMessageParams_Params_Ids$Type, "LiveMessageParams_Params_Ids$Type");
var LiveMessageParams_Params_Ids = new LiveMessageParams_Params_Ids$Type();
var GetCommentsSectionParams$Type = class extends MessageType {
  constructor() {
    super("youtube.GetCommentsSectionParams", [
      {
        no: 2,
        name: "ctx",
        kind: "message",
        T: () => GetCommentsSectionParams_Context,
      },
      { no: 3, name: "unk_param", kind: "scalar", T: 5 },
      {
        no: 6,
        name: "params",
        kind: "message",
        T: () => GetCommentsSectionParams_Params,
      },
    ]);
  }
  create(value) {
    const message = { unkParam: 0 };
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 2:
          message.ctx = GetCommentsSectionParams_Context.internalBinaryRead(
            reader,
            reader.uint32(),
            options,
            message.ctx,
          );
          break;
        case 3:
          message.unkParam = reader.int32();
          break;
        case 6:
          message.params = GetCommentsSectionParams_Params.internalBinaryRead(
            reader,
            reader.uint32(),
            options,
            message.params,
          );
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.ctx) {
      GetCommentsSectionParams_Context.internalBinaryWrite(
        message.ctx,
        writer.tag(2, WireType.LengthDelimited).fork(),
        options,
      ).join();
    }
    if (message.unkParam !== 0) {
      writer.tag(3, WireType.Varint).int32(message.unkParam);
    }
    if (message.params) {
      GetCommentsSectionParams_Params.internalBinaryWrite(
        message.params,
        writer.tag(6, WireType.LengthDelimited).fork(),
        options,
      ).join();
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(GetCommentsSectionParams$Type, "GetCommentsSectionParams$Type");
var GetCommentsSectionParams = new GetCommentsSectionParams$Type();
var GetCommentsSectionParams_Context$Type = class extends MessageType {
  constructor() {
    super("youtube.GetCommentsSectionParams.Context", [
      { no: 2, name: "video_id", kind: "scalar", T: 9 },
    ]);
  }
  create(value) {
    const message = { videoId: "" };
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 2:
          message.videoId = reader.string();
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.videoId !== "") {
      writer.tag(2, WireType.LengthDelimited).string(message.videoId);
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(
  GetCommentsSectionParams_Context$Type,
  "GetCommentsSectionParams_Context$Type",
);
var GetCommentsSectionParams_Context =
  new GetCommentsSectionParams_Context$Type();
var GetCommentsSectionParams_Params$Type = class extends MessageType {
  constructor() {
    super("youtube.GetCommentsSectionParams.Params", [
      { no: 1, name: "unk_token", kind: "scalar", opt: true, T: 9 },
      {
        no: 4,
        name: "opts",
        kind: "message",
        T: () => GetCommentsSectionParams_Params_Options,
      },
      {
        no: 3,
        name: "replies_opts",
        kind: "message",
        T: () => GetCommentsSectionParams_Params_RepliesOptions,
      },
      { no: 5, name: "page", kind: "scalar", opt: true, T: 5 },
      { no: 8, name: "target", kind: "scalar", T: 9 },
    ]);
  }
  create(value) {
    const message = { target: "" };
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 1:
          message.unkToken = reader.string();
          break;
        case 4:
          message.opts = GetCommentsSectionParams_Params_Options
            .internalBinaryRead(reader, reader.uint32(), options, message.opts);
          break;
        case 3:
          message.repliesOpts = GetCommentsSectionParams_Params_RepliesOptions
            .internalBinaryRead(
              reader,
              reader.uint32(),
              options,
              message.repliesOpts,
            );
          break;
        case 5:
          message.page = reader.int32();
          break;
        case 8:
          message.target = reader.string();
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.unkToken !== void 0) {
      writer.tag(1, WireType.LengthDelimited).string(message.unkToken);
    }
    if (message.opts) {
      GetCommentsSectionParams_Params_Options.internalBinaryWrite(
        message.opts,
        writer.tag(4, WireType.LengthDelimited).fork(),
        options,
      ).join();
    }
    if (message.repliesOpts) {
      GetCommentsSectionParams_Params_RepliesOptions.internalBinaryWrite(
        message.repliesOpts,
        writer.tag(3, WireType.LengthDelimited).fork(),
        options,
      ).join();
    }
    if (message.page !== void 0) {
      writer.tag(5, WireType.Varint).int32(message.page);
    }
    if (message.target !== "") {
      writer.tag(8, WireType.LengthDelimited).string(message.target);
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(
  GetCommentsSectionParams_Params$Type,
  "GetCommentsSectionParams_Params$Type",
);
var GetCommentsSectionParams_Params =
  new GetCommentsSectionParams_Params$Type();
var GetCommentsSectionParams_Params_Options$Type = class extends MessageType {
  constructor() {
    super("youtube.GetCommentsSectionParams.Params.Options", [
      { no: 4, name: "video_id", kind: "scalar", T: 9 },
      { no: 6, name: "sort_by", kind: "scalar", T: 5 },
      { no: 15, name: "type", kind: "scalar", T: 5 },
    ]);
  }
  create(value) {
    const message = { videoId: "", sortBy: 0, type: 0 };
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 4:
          message.videoId = reader.string();
          break;
        case 6:
          message.sortBy = reader.int32();
          break;
        case 15:
          message.type = reader.int32();
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.videoId !== "") {
      writer.tag(4, WireType.LengthDelimited).string(message.videoId);
    }
    if (message.sortBy !== 0) {
      writer.tag(6, WireType.Varint).int32(message.sortBy);
    }
    if (message.type !== 0) {
      writer.tag(15, WireType.Varint).int32(message.type);
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(
  GetCommentsSectionParams_Params_Options$Type,
  "GetCommentsSectionParams_Params_Options$Type",
);
var GetCommentsSectionParams_Params_Options =
  new GetCommentsSectionParams_Params_Options$Type();
var GetCommentsSectionParams_Params_RepliesOptions$Type = class
  extends MessageType {
  constructor() {
    super("youtube.GetCommentsSectionParams.Params.RepliesOptions", [
      { no: 2, name: "comment_id", kind: "scalar", T: 9 },
      {
        no: 4,
        name: "unkopts",
        kind: "message",
        T: () => GetCommentsSectionParams_Params_RepliesOptions_UnkOpts,
      },
      { no: 5, name: "channel_id", kind: "scalar", opt: true, T: 9 },
      { no: 6, name: "video_id", kind: "scalar", T: 9 },
      { no: 8, name: "unk_param_1", kind: "scalar", T: 5 },
      { no: 9, name: "unk_param_2", kind: "scalar", T: 5 },
    ]);
  }
  create(value) {
    const message = { commentId: "", videoId: "", unkParam1: 0, unkParam2: 0 };
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 2:
          message.commentId = reader.string();
          break;
        case 4:
          message.unkopts =
            GetCommentsSectionParams_Params_RepliesOptions_UnkOpts
              .internalBinaryRead(
                reader,
                reader.uint32(),
                options,
                message.unkopts,
              );
          break;
        case 5:
          message.channelId = reader.string();
          break;
        case 6:
          message.videoId = reader.string();
          break;
        case 8:
          message.unkParam1 = reader.int32();
          break;
        case 9:
          message.unkParam2 = reader.int32();
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.commentId !== "") {
      writer.tag(2, WireType.LengthDelimited).string(message.commentId);
    }
    if (message.unkopts) {
      GetCommentsSectionParams_Params_RepliesOptions_UnkOpts
        .internalBinaryWrite(
          message.unkopts,
          writer.tag(4, WireType.LengthDelimited).fork(),
          options,
        ).join();
    }
    if (message.channelId !== void 0) {
      writer.tag(5, WireType.LengthDelimited).string(message.channelId);
    }
    if (message.videoId !== "") {
      writer.tag(6, WireType.LengthDelimited).string(message.videoId);
    }
    if (message.unkParam1 !== 0) {
      writer.tag(8, WireType.Varint).int32(message.unkParam1);
    }
    if (message.unkParam2 !== 0) {
      writer.tag(9, WireType.Varint).int32(message.unkParam2);
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(
  GetCommentsSectionParams_Params_RepliesOptions$Type,
  "GetCommentsSectionParams_Params_RepliesOptions$Type",
);
var GetCommentsSectionParams_Params_RepliesOptions =
  new GetCommentsSectionParams_Params_RepliesOptions$Type();
var GetCommentsSectionParams_Params_RepliesOptions_UnkOpts$Type = class
  extends MessageType {
  constructor() {
    super("youtube.GetCommentsSectionParams.Params.RepliesOptions.UnkOpts", [
      { no: 1, name: "unk_param", kind: "scalar", T: 5 },
    ]);
  }
  create(value) {
    const message = { unkParam: 0 };
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 1:
          message.unkParam = reader.int32();
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.unkParam !== 0) {
      writer.tag(1, WireType.Varint).int32(message.unkParam);
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(
  GetCommentsSectionParams_Params_RepliesOptions_UnkOpts$Type,
  "GetCommentsSectionParams_Params_RepliesOptions_UnkOpts$Type",
);
var GetCommentsSectionParams_Params_RepliesOptions_UnkOpts =
  new GetCommentsSectionParams_Params_RepliesOptions_UnkOpts$Type();
var CreateCommentParams$Type = class extends MessageType {
  constructor() {
    super("youtube.CreateCommentParams", [
      { no: 2, name: "video_id", kind: "scalar", T: 9 },
      {
        no: 5,
        name: "params",
        kind: "message",
        T: () => CreateCommentParams_Params,
      },
      { no: 10, name: "number", kind: "scalar", T: 5 },
    ]);
  }
  create(value) {
    const message = { videoId: "", number: 0 };
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 2:
          message.videoId = reader.string();
          break;
        case 5:
          message.params = CreateCommentParams_Params.internalBinaryRead(
            reader,
            reader.uint32(),
            options,
            message.params,
          );
          break;
        case 10:
          message.number = reader.int32();
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.videoId !== "") {
      writer.tag(2, WireType.LengthDelimited).string(message.videoId);
    }
    if (message.params) {
      CreateCommentParams_Params.internalBinaryWrite(
        message.params,
        writer.tag(5, WireType.LengthDelimited).fork(),
        options,
      ).join();
    }
    if (message.number !== 0) {
      writer.tag(10, WireType.Varint).int32(message.number);
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(CreateCommentParams$Type, "CreateCommentParams$Type");
var CreateCommentParams = new CreateCommentParams$Type();
var CreateCommentParams_Params$Type = class extends MessageType {
  constructor() {
    super("youtube.CreateCommentParams.Params", [
      { no: 1, name: "index", kind: "scalar", T: 5 },
    ]);
  }
  create(value) {
    const message = { index: 0 };
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 1:
          message.index = reader.int32();
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.index !== 0) {
      writer.tag(1, WireType.Varint).int32(message.index);
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(CreateCommentParams_Params$Type, "CreateCommentParams_Params$Type");
var CreateCommentParams_Params = new CreateCommentParams_Params$Type();
var CreateCommentReplyParams$Type = class extends MessageType {
  constructor() {
    super("youtube.CreateCommentReplyParams", [
      { no: 2, name: "video_id", kind: "scalar", T: 9 },
      { no: 4, name: "comment_id", kind: "scalar", T: 9 },
      {
        no: 5,
        name: "params",
        kind: "message",
        T: () => CreateCommentReplyParams_UnknownParams,
      },
      { no: 10, name: "unk_num", kind: "scalar", opt: true, T: 5 },
    ]);
  }
  create(value) {
    const message = { videoId: "", commentId: "" };
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 2:
          message.videoId = reader.string();
          break;
        case 4:
          message.commentId = reader.string();
          break;
        case 5:
          message.params = CreateCommentReplyParams_UnknownParams
            .internalBinaryRead(
              reader,
              reader.uint32(),
              options,
              message.params,
            );
          break;
        case 10:
          message.unkNum = reader.int32();
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.videoId !== "") {
      writer.tag(2, WireType.LengthDelimited).string(message.videoId);
    }
    if (message.commentId !== "") {
      writer.tag(4, WireType.LengthDelimited).string(message.commentId);
    }
    if (message.params) {
      CreateCommentReplyParams_UnknownParams.internalBinaryWrite(
        message.params,
        writer.tag(5, WireType.LengthDelimited).fork(),
        options,
      ).join();
    }
    if (message.unkNum !== void 0) {
      writer.tag(10, WireType.Varint).int32(message.unkNum);
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(CreateCommentReplyParams$Type, "CreateCommentReplyParams$Type");
var CreateCommentReplyParams = new CreateCommentReplyParams$Type();
var CreateCommentReplyParams_UnknownParams$Type = class extends MessageType {
  constructor() {
    super("youtube.CreateCommentReplyParams.UnknownParams", [
      { no: 1, name: "unk_num", kind: "scalar", T: 5 },
    ]);
  }
  create(value) {
    const message = { unkNum: 0 };
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 1:
          message.unkNum = reader.int32();
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.unkNum !== 0) {
      writer.tag(1, WireType.Varint).int32(message.unkNum);
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(
  CreateCommentReplyParams_UnknownParams$Type,
  "CreateCommentReplyParams_UnknownParams$Type",
);
var CreateCommentReplyParams_UnknownParams =
  new CreateCommentReplyParams_UnknownParams$Type();
var PeformCommentActionParams$Type = class extends MessageType {
  constructor() {
    super("youtube.PeformCommentActionParams", [
      { no: 1, name: "type", kind: "scalar", T: 5 },
      { no: 3, name: "comment_id", kind: "scalar", T: 9 },
      { no: 5, name: "video_id", kind: "scalar", T: 9 },
      { no: 2, name: "unk_num", kind: "scalar", opt: true, T: 5 },
      { no: 23, name: "channel_id", kind: "scalar", opt: true, T: 9 },
      {
        no: 31,
        name: "translate_comment_params",
        kind: "message",
        T: () => PeformCommentActionParams_TranslateCommentParams,
      },
    ]);
  }
  create(value) {
    const message = { type: 0, commentId: "", videoId: "" };
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 1:
          message.type = reader.int32();
          break;
        case 3:
          message.commentId = reader.string();
          break;
        case 5:
          message.videoId = reader.string();
          break;
        case 2:
          message.unkNum = reader.int32();
          break;
        case 23:
          message.channelId = reader.string();
          break;
        case 31:
          message.translateCommentParams =
            PeformCommentActionParams_TranslateCommentParams.internalBinaryRead(
              reader,
              reader.uint32(),
              options,
              message.translateCommentParams,
            );
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.type !== 0) {
      writer.tag(1, WireType.Varint).int32(message.type);
    }
    if (message.commentId !== "") {
      writer.tag(3, WireType.LengthDelimited).string(message.commentId);
    }
    if (message.videoId !== "") {
      writer.tag(5, WireType.LengthDelimited).string(message.videoId);
    }
    if (message.unkNum !== void 0) {
      writer.tag(2, WireType.Varint).int32(message.unkNum);
    }
    if (message.channelId !== void 0) {
      writer.tag(23, WireType.LengthDelimited).string(message.channelId);
    }
    if (message.translateCommentParams) {
      PeformCommentActionParams_TranslateCommentParams.internalBinaryWrite(
        message.translateCommentParams,
        writer.tag(31, WireType.LengthDelimited).fork(),
        options,
      ).join();
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(PeformCommentActionParams$Type, "PeformCommentActionParams$Type");
var PeformCommentActionParams = new PeformCommentActionParams$Type();
var PeformCommentActionParams_TranslateCommentParams$Type = class
  extends MessageType {
  constructor() {
    super("youtube.PeformCommentActionParams.TranslateCommentParams", [
      {
        no: 3,
        name: "params",
        kind: "message",
        T: () => PeformCommentActionParams_TranslateCommentParams_Params,
      },
      { no: 2, name: "comment_id", kind: "scalar", T: 9 },
      { no: 4, name: "target_language", kind: "scalar", T: 9 },
    ]);
  }
  create(value) {
    const message = { commentId: "", targetLanguage: "" };
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 3:
          message.params =
            PeformCommentActionParams_TranslateCommentParams_Params
              .internalBinaryRead(
                reader,
                reader.uint32(),
                options,
                message.params,
              );
          break;
        case 2:
          message.commentId = reader.string();
          break;
        case 4:
          message.targetLanguage = reader.string();
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.params) {
      PeformCommentActionParams_TranslateCommentParams_Params
        .internalBinaryWrite(
          message.params,
          writer.tag(3, WireType.LengthDelimited).fork(),
          options,
        ).join();
    }
    if (message.commentId !== "") {
      writer.tag(2, WireType.LengthDelimited).string(message.commentId);
    }
    if (message.targetLanguage !== "") {
      writer.tag(4, WireType.LengthDelimited).string(message.targetLanguage);
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(
  PeformCommentActionParams_TranslateCommentParams$Type,
  "PeformCommentActionParams_TranslateCommentParams$Type",
);
var PeformCommentActionParams_TranslateCommentParams =
  new PeformCommentActionParams_TranslateCommentParams$Type();
var PeformCommentActionParams_TranslateCommentParams_Params$Type = class
  extends MessageType {
  constructor() {
    super("youtube.PeformCommentActionParams.TranslateCommentParams.Params", [
      {
        no: 1,
        name: "comment",
        kind: "message",
        T: () =>
          PeformCommentActionParams_TranslateCommentParams_Params_Comment,
      },
    ]);
  }
  create(value) {
    const message = {};
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 1:
          message.comment =
            PeformCommentActionParams_TranslateCommentParams_Params_Comment
              .internalBinaryRead(
                reader,
                reader.uint32(),
                options,
                message.comment,
              );
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.comment) {
      PeformCommentActionParams_TranslateCommentParams_Params_Comment
        .internalBinaryWrite(
          message.comment,
          writer.tag(1, WireType.LengthDelimited).fork(),
          options,
        ).join();
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(
  PeformCommentActionParams_TranslateCommentParams_Params$Type,
  "PeformCommentActionParams_TranslateCommentParams_Params$Type",
);
var PeformCommentActionParams_TranslateCommentParams_Params =
  new PeformCommentActionParams_TranslateCommentParams_Params$Type();
var PeformCommentActionParams_TranslateCommentParams_Params_Comment$Type = class
  extends MessageType {
  constructor() {
    super(
      "youtube.PeformCommentActionParams.TranslateCommentParams.Params.Comment",
      [
        { no: 1, name: "text", kind: "scalar", T: 9 },
      ],
    );
  }
  create(value) {
    const message = { text: "" };
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 1:
          message.text = reader.string();
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.text !== "") {
      writer.tag(1, WireType.LengthDelimited).string(message.text);
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(
  PeformCommentActionParams_TranslateCommentParams_Params_Comment$Type,
  "PeformCommentActionParams_TranslateCommentParams_Params_Comment$Type",
);
var PeformCommentActionParams_TranslateCommentParams_Params_Comment =
  new PeformCommentActionParams_TranslateCommentParams_Params_Comment$Type();
var MusicSearchFilter$Type = class extends MessageType {
  constructor() {
    super("youtube.MusicSearchFilter", [
      {
        no: 2,
        name: "filters",
        kind: "message",
        T: () => MusicSearchFilter_Filters,
      },
    ]);
  }
  create(value) {
    const message = {};
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 2:
          message.filters = MusicSearchFilter_Filters.internalBinaryRead(
            reader,
            reader.uint32(),
            options,
            message.filters,
          );
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.filters) {
      MusicSearchFilter_Filters.internalBinaryWrite(
        message.filters,
        writer.tag(2, WireType.LengthDelimited).fork(),
        options,
      ).join();
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(MusicSearchFilter$Type, "MusicSearchFilter$Type");
var MusicSearchFilter = new MusicSearchFilter$Type();
var MusicSearchFilter_Filters$Type = class extends MessageType {
  constructor() {
    super("youtube.MusicSearchFilter.Filters", [
      {
        no: 17,
        name: "type",
        kind: "message",
        T: () => MusicSearchFilter_Filters_Type,
      },
    ]);
  }
  create(value) {
    const message = {};
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 17:
          message.type = MusicSearchFilter_Filters_Type.internalBinaryRead(
            reader,
            reader.uint32(),
            options,
            message.type,
          );
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.type) {
      MusicSearchFilter_Filters_Type.internalBinaryWrite(
        message.type,
        writer.tag(17, WireType.LengthDelimited).fork(),
        options,
      ).join();
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(MusicSearchFilter_Filters$Type, "MusicSearchFilter_Filters$Type");
var MusicSearchFilter_Filters = new MusicSearchFilter_Filters$Type();
var MusicSearchFilter_Filters_Type$Type = class extends MessageType {
  constructor() {
    super("youtube.MusicSearchFilter.Filters.Type", [
      { no: 1, name: "song", kind: "scalar", opt: true, T: 5 },
      { no: 2, name: "video", kind: "scalar", opt: true, T: 5 },
      { no: 3, name: "album", kind: "scalar", opt: true, T: 5 },
      { no: 4, name: "artist", kind: "scalar", opt: true, T: 5 },
      { no: 5, name: "playlist", kind: "scalar", opt: true, T: 5 },
    ]);
  }
  create(value) {
    const message = {};
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 1:
          message.song = reader.int32();
          break;
        case 2:
          message.video = reader.int32();
          break;
        case 3:
          message.album = reader.int32();
          break;
        case 4:
          message.artist = reader.int32();
          break;
        case 5:
          message.playlist = reader.int32();
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.song !== void 0) {
      writer.tag(1, WireType.Varint).int32(message.song);
    }
    if (message.video !== void 0) {
      writer.tag(2, WireType.Varint).int32(message.video);
    }
    if (message.album !== void 0) {
      writer.tag(3, WireType.Varint).int32(message.album);
    }
    if (message.artist !== void 0) {
      writer.tag(4, WireType.Varint).int32(message.artist);
    }
    if (message.playlist !== void 0) {
      writer.tag(5, WireType.Varint).int32(message.playlist);
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(
  MusicSearchFilter_Filters_Type$Type,
  "MusicSearchFilter_Filters_Type$Type",
);
var MusicSearchFilter_Filters_Type = new MusicSearchFilter_Filters_Type$Type();
var SearchFilter$Type = class extends MessageType {
  constructor() {
    super("youtube.SearchFilter", [
      { no: 1, name: "sort_by", kind: "scalar", opt: true, T: 5 },
      { no: 19, name: "no_filter", kind: "scalar", opt: true, T: 5 },
      {
        no: 2,
        name: "filters",
        kind: "message",
        T: () => SearchFilter_Filters,
      },
    ]);
  }
  create(value) {
    const message = {};
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 1:
          message.sortBy = reader.int32();
          break;
        case 19:
          message.noFilter = reader.int32();
          break;
        case 2:
          message.filters = SearchFilter_Filters.internalBinaryRead(
            reader,
            reader.uint32(),
            options,
            message.filters,
          );
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.sortBy !== void 0) {
      writer.tag(1, WireType.Varint).int32(message.sortBy);
    }
    if (message.noFilter !== void 0) {
      writer.tag(19, WireType.Varint).int32(message.noFilter);
    }
    if (message.filters) {
      SearchFilter_Filters.internalBinaryWrite(
        message.filters,
        writer.tag(2, WireType.LengthDelimited).fork(),
        options,
      ).join();
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(SearchFilter$Type, "SearchFilter$Type");
var SearchFilter = new SearchFilter$Type();
var SearchFilter_Filters$Type = class extends MessageType {
  constructor() {
    super("youtube.SearchFilter.Filters", [
      { no: 1, name: "upload_date", kind: "scalar", opt: true, T: 5 },
      { no: 2, name: "type", kind: "scalar", opt: true, T: 5 },
      { no: 3, name: "duration", kind: "scalar", opt: true, T: 5 },
    ]);
  }
  create(value) {
    const message = {};
    globalThis.Object.defineProperty(message, MESSAGE_TYPE, {
      enumerable: false,
      value: this,
    });
    if (value !== void 0) {
      reflectionMergePartial(this, message, value);
    }
    return message;
  }
  internalBinaryRead(reader, length, options, target) {
    let message = target !== null && target !== void 0 ? target : this.create(),
      end = reader.pos + length;
    while (reader.pos < end) {
      let [fieldNo, wireType] = reader.tag();
      switch (fieldNo) {
        case 1:
          message.uploadDate = reader.int32();
          break;
        case 2:
          message.type = reader.int32();
          break;
        case 3:
          message.duration = reader.int32();
          break;
        default:
          let u = options.readUnknownField;
          if (u === "throw") {
            throw new globalThis.Error(
              `Unknown field ${fieldNo} (wire type ${wireType}) for ${this.typeName}`,
            );
          }
          let d = reader.skip(wireType);
          if (u !== false) {
            (u === true ? UnknownFieldHandler.onRead : u)(
              this.typeName,
              message,
              fieldNo,
              wireType,
              d,
            );
          }
      }
    }
    return message;
  }
  internalBinaryWrite(message, writer, options) {
    if (message.uploadDate !== void 0) {
      writer.tag(1, WireType.Varint).int32(message.uploadDate);
    }
    if (message.type !== void 0) {
      writer.tag(2, WireType.Varint).int32(message.type);
    }
    if (message.duration !== void 0) {
      writer.tag(3, WireType.Varint).int32(message.duration);
    }
    let u = options.writeUnknownFields;
    if (u !== false) {
      (u == true ? UnknownFieldHandler.onWrite : u)(
        this.typeName,
        message,
        writer,
      );
    }
    return writer;
  }
};
__name(SearchFilter_Filters$Type, "SearchFilter_Filters$Type");
var SearchFilter_Filters = new SearchFilter_Filters$Type();

// dist/src/proto/index.js
var Proto = class {
  static encodeVisitorData(id, timestamp) {
    const buf = VisitorData.toBinary({
      id,
      timestamp,
    });
    return encodeURIComponent(u8ToBase64(buf).replace(/\/|\+/g, "_"));
  }
  static encodeChannelAnalyticsParams(channel_id) {
    const buf = ChannelAnalytics.toBinary({
      params: {
        channelId: channel_id,
      },
    });
    return encodeURIComponent(u8ToBase64(buf));
  }
  static encodeSearchFilters(filters2) {
    const upload_date = {
      all: void 0,
      hour: 1,
      today: 2,
      week: 3,
      month: 4,
      year: 5,
    };
    const type = {
      all: void 0,
      video: 1,
      channel: 2,
      playlist: 3,
      movie: 4,
    };
    const duration = {
      all: void 0,
      short: 1,
      long: 2,
      medium: 3,
    };
    const order = {
      relevance: void 0,
      rating: 1,
      upload_date: 2,
      view_count: 3,
    };
    const data = {};
    if (filters2) {
      data.filters = {};
    } else {
      data.noFilter = 0;
    }
    if (data.filters) {
      if (filters2.upload_date && filters2.type !== "video") {
        throw new Error(
          `Upload date filter cannot be used with type ${filters2.type}`,
        );
      }
      if (filters2.upload_date) {
        data.filters.uploadDate = upload_date[filters2.upload_date];
      }
      if (filters2.type) {
        data.filters.type = type[filters2.type];
      }
      if (filters2.duration) {
        data.filters.duration = duration[filters2.duration];
      }
      if (filters2.sort_by && filters2.sort_by !== "relevance") {
        data.sortBy = order[filters2.sort_by];
      }
    }
    const buf = SearchFilter.toBinary(data);
    return encodeURIComponent(u8ToBase64(buf));
  }
  static encodeMusicSearchFilters(filters2) {
    var _a3;
    const data = {
      filters: {
        type: {},
      },
    };
    if (
      filters2.type && filters2.type !== "all" &&
      ((_a3 = data.filters) === null || _a3 === void 0 ? void 0 : _a3.type)
    ) {
      data.filters.type[filters2.type] = 1;
    }
    const buf = MusicSearchFilter.toBinary(data);
    return encodeURIComponent(u8ToBase64(buf));
  }
  static encodeMessageParams(channel_id, video_id) {
    const buf = LiveMessageParams.toBinary({
      params: {
        ids: {
          channelId: channel_id,
          videoId: video_id,
        },
      },
      number0: 1,
      number1: 4,
    });
    return btoa(encodeURIComponent(u8ToBase64(buf)));
  }
  static encodeCommentsSectionParams(video_id, options = {}) {
    const sort_options = {
      TOP_COMMENTS: 0,
      NEWEST_FIRST: 1,
    };
    const buf = GetCommentsSectionParams.toBinary({
      ctx: {
        videoId: video_id,
      },
      unkParam: 6,
      params: {
        opts: {
          videoId: video_id,
          sortBy: sort_options[options.sort_by || "TOP_COMMENTS"],
          type: options.type || 2,
        },
        target: "comments-section",
      },
    });
    return encodeURIComponent(u8ToBase64(buf));
  }
  static encodeCommentRepliesParams(video_id, comment_id) {
    const buf = GetCommentsSectionParams.toBinary({
      ctx: {
        videoId: video_id,
      },
      unkParam: 6,
      params: {
        repliesOpts: {
          videoId: video_id,
          commentId: comment_id,
          unkopts: {
            unkParam: 0,
          },
          unkParam1: 1,
          unkParam2: 10,
          channelId: " ",
        },
        target: `comment-replies-item-${comment_id}`,
      },
    });
    return encodeURIComponent(u8ToBase64(buf));
  }
  static encodeCommentParams(video_id) {
    const buf = CreateCommentParams.toBinary({
      videoId: video_id,
      params: {
        index: 0,
      },
      number: 7,
    });
    return encodeURIComponent(u8ToBase64(buf));
  }
  static encodeCommentReplyParams(comment_id, video_id) {
    const buf = CreateCommentReplyParams.toBinary({
      videoId: video_id,
      commentId: comment_id,
      params: {
        unkNum: 0,
      },
      unkNum: 7,
    });
    return encodeURIComponent(u8ToBase64(buf));
  }
  static encodeCommentActionParams(type, args = {}) {
    const data = {
      type,
      commentId: args.comment_id || "",
      videoId: args.video_id || "",
      unkNum: 2,
    };
    if (args.hasOwnProperty("text")) {
      if (typeof args.target_language !== "string") {
        throw new Error("target_language must be a string");
      }
      args.comment_id && delete data.unkNum;
      data.translateCommentParams = {
        params: {
          comment: {
            text: args.text,
          },
        },
        commentId: args.comment_id || "",
        targetLanguage: args.target_language,
      };
    }
    const buf = PeformCommentActionParams.toBinary(data);
    return encodeURIComponent(u8ToBase64(buf));
  }
  static encodeNotificationPref(channel_id, index) {
    const buf = NotificationPreferences.toBinary({
      channelId: channel_id,
      prefId: {
        index,
      },
      number0: 0,
      number1: 4,
    });
    return encodeURIComponent(u8ToBase64(buf));
  }
  static encodeCustomThumbnailPayload(video_id, bytes) {
    const data = {
      context: {
        client: {
          unkparam: 14,
          clientName: CLIENTS.ANDROID.NAME,
          clientVersion: CLIENTS.ANDROID.VERSION,
        },
      },
      target: video_id,
      videoSettings: {
        type: 3,
        thumbnail: {
          imageData: bytes,
        },
      },
    };
    const buf = InnertubePayload.toBinary(data);
    return buf;
  }
  static encodeSoundInfoParams(id) {
    const data = {
      sound: {
        params: {
          ids: {
            id1: id,
            id2: id,
            id3: id,
          },
        },
      },
    };
    const buf = SoundInfoParams.toBinary(data);
    return encodeURIComponent(u8ToBase64(buf));
  }
};
__name(Proto, "Proto");
var proto_default = Proto;

// dist/src/parser/classes/misc/Format.js
var Format = class {
  constructor(data) {
    this.itag = data.itag;
    this.mime_type = data.mimeType;
    this.bitrate = data.bitrate;
    this.average_bitrate = data.averageBitrate;
    this.width = data.width || null;
    this.height = data.height || null;
    this.init_range = data.initRange
      ? {
        start: parseInt(data.initRange.start),
        end: parseInt(data.initRange.end),
      }
      : void 0;
    this.index_range = data.indexRange
      ? {
        start: parseInt(data.indexRange.start),
        end: parseInt(data.indexRange.end),
      }
      : void 0;
    this.last_modified = new Date(
      Math.floor(parseInt(data.lastModified) / 1e3),
    );
    this.content_length = parseInt(data.contentLength);
    this.quality = data.quality;
    this.quality_label = data.qualityLabel || null;
    this.fps = data.fps || null;
    this.url = data.url || null;
    this.cipher = data.cipher || null;
    this.signature_cipher = data.signatureCipher || null;
    this.audio_quality = data.audioQuality;
    this.approx_duration_ms = parseInt(data.approxDurationMs);
    this.audio_sample_rate = parseInt(data.audioSampleRate);
    this.audio_channels = data.audioChannels;
    this.loudness_db = data.loudnessDb;
    this.has_audio = !!data.audioBitrate || !!data.audioQuality;
    this.has_video = !!data.qualityLabel;
  }
  decipher() {
    return this.url;
  }
};
__name(Format, "Format");
var Format_default = Format;

// dist/src/parser/classes/misc/Thumbnail.js
var Thumbnail = class {
  constructor({ url, width, height }) {
    this.url = url;
    this.width = width;
    this.height = height;
  }
  static fromResponse(data) {
    if (!data || !data.thumbnails) {
      return;
    }
    return data.thumbnails.map((x) => new Thumbnail(x)).sort((a, b) =>
      b.width - a.width
    );
  }
};
__name(Thumbnail, "Thumbnail");
var Thumbnail_default = Thumbnail;

// dist/src/parser/classes/misc/VideoDetails.js
var VideoDetails = class {
  constructor(data) {
    this.id = data.videoId;
    this.channel_id = data.channelId;
    this.title = data.title;
    this.duration = parseInt(data.lengthSeconds);
    this.keywords = data.keywords;
    this.is_owner_viewing = !!data.isOwnerViewing;
    this.short_description = data.shortDescription;
    this.thumbnail = Thumbnail_default.fromResponse(data.thumbnail);
    this.allow_ratings = !!data.allowRatings;
    this.view_count = parseInt(data.viewCount);
    this.author = data.author;
    this.is_private = !!data.isPrivate;
    this.is_live_content = !!data.isLiveContent;
    this.is_crawlable = !!data.isCrawlable;
  }
};
__name(VideoDetails, "VideoDetails");
var VideoDetails_default = VideoDetails;

// dist/src/parser/helpers.js
var __classPrivateFieldGet2 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var __classPrivateFieldSet2 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var _YTNode_instances;
var _YTNode_is;
var _Maybe_instances;
var _Maybe_value;
var _Maybe_checkPrimative;
var _Maybe_assertPrimative;
var _SuperParsedResult_result;
var isObserved = Symbol("ObservedArray.isObserved");
var YTNode = class {
  constructor() {
    _YTNode_instances.add(this);
    this.type = this.constructor.type;
  }
  is(...types) {
    return types.some((type) =>
      __classPrivateFieldGet2(this, _YTNode_instances, "m", _YTNode_is).call(
        this,
        type,
      )
    );
  }
  as(...types) {
    if (!this.is(...types)) {
      throw new ParsingError(
        `Cannot cast ${this.type} to one of ${
          types.map((t) => t.type).join(", ")
        }`,
      );
    }
    return this;
  }
  hasKey(key2) {
    return Reflect.has(this, key2);
  }
  key(key2) {
    if (!this.hasKey(key2)) {
      throw new ParsingError(`Missing key ${key2}`);
    }
    return new Maybe(this[key2]);
  }
};
__name(YTNode, "YTNode");
_YTNode_instances = /* @__PURE__ */ new WeakSet(),
  _YTNode_is = /* @__PURE__ */ __name(function _YTNode_is2(type) {
    return this.type === type.type;
  }, "_YTNode_is");
YTNode.type = "YTNode";
var Maybe = class {
  constructor(value) {
    _Maybe_instances.add(this);
    _Maybe_value.set(this, void 0);
    __classPrivateFieldSet2(this, _Maybe_value, value, "f");
  }
  get typeof() {
    return typeof __classPrivateFieldGet2(this, _Maybe_value, "f");
  }
  string() {
    return __classPrivateFieldGet2(
      this,
      _Maybe_instances,
      "m",
      _Maybe_assertPrimative,
    ).call(this, "string");
  }
  isString() {
    return __classPrivateFieldGet2(
      this,
      _Maybe_instances,
      "m",
      _Maybe_checkPrimative,
    ).call(this, "string");
  }
  number() {
    return __classPrivateFieldGet2(
      this,
      _Maybe_instances,
      "m",
      _Maybe_assertPrimative,
    ).call(this, "number");
  }
  isNumber() {
    return __classPrivateFieldGet2(
      this,
      _Maybe_instances,
      "m",
      _Maybe_checkPrimative,
    ).call(this, "number");
  }
  bigint() {
    return __classPrivateFieldGet2(
      this,
      _Maybe_instances,
      "m",
      _Maybe_assertPrimative,
    ).call(this, "bigint");
  }
  isBigint() {
    return __classPrivateFieldGet2(
      this,
      _Maybe_instances,
      "m",
      _Maybe_checkPrimative,
    ).call(this, "bigint");
  }
  boolean() {
    return __classPrivateFieldGet2(
      this,
      _Maybe_instances,
      "m",
      _Maybe_assertPrimative,
    ).call(this, "boolean");
  }
  isBoolean() {
    return __classPrivateFieldGet2(
      this,
      _Maybe_instances,
      "m",
      _Maybe_checkPrimative,
    ).call(this, "boolean");
  }
  symbol() {
    return __classPrivateFieldGet2(
      this,
      _Maybe_instances,
      "m",
      _Maybe_assertPrimative,
    ).call(this, "symbol");
  }
  isSymbol() {
    return __classPrivateFieldGet2(
      this,
      _Maybe_instances,
      "m",
      _Maybe_checkPrimative,
    ).call(this, "symbol");
  }
  undefined() {
    return __classPrivateFieldGet2(
      this,
      _Maybe_instances,
      "m",
      _Maybe_assertPrimative,
    ).call(this, "undefined");
  }
  isUndefined() {
    return __classPrivateFieldGet2(
      this,
      _Maybe_instances,
      "m",
      _Maybe_checkPrimative,
    ).call(this, "undefined");
  }
  null() {
    if (__classPrivateFieldGet2(this, _Maybe_value, "f") !== null) {
      throw new TypeError(
        `Expected null, got ${typeof __classPrivateFieldGet2(
          this,
          _Maybe_value,
          "f",
        )}`,
      );
    }
    return __classPrivateFieldGet2(this, _Maybe_value, "f");
  }
  isNull() {
    return __classPrivateFieldGet2(this, _Maybe_value, "f") === null;
  }
  object() {
    return __classPrivateFieldGet2(
      this,
      _Maybe_instances,
      "m",
      _Maybe_assertPrimative,
    ).call(this, "object");
  }
  isObject() {
    return __classPrivateFieldGet2(
      this,
      _Maybe_instances,
      "m",
      _Maybe_checkPrimative,
    ).call(this, "object");
  }
  function() {
    return __classPrivateFieldGet2(
      this,
      _Maybe_instances,
      "m",
      _Maybe_assertPrimative,
    ).call(this, "function");
  }
  isFunction() {
    return __classPrivateFieldGet2(
      this,
      _Maybe_instances,
      "m",
      _Maybe_checkPrimative,
    ).call(this, "function");
  }
  array() {
    if (!Array.isArray(__classPrivateFieldGet2(this, _Maybe_value, "f"))) {
      throw new TypeError(
        `Expected array, got ${typeof __classPrivateFieldGet2(
          this,
          _Maybe_value,
          "f",
        )}`,
      );
    }
    return __classPrivateFieldGet2(this, _Maybe_value, "f");
  }
  arrayOfMaybe() {
    const arrayProps = [];
    return new Proxy(this.array(), {
      get(target, prop2) {
        if (Reflect.has(arrayProps, prop2)) {
          return Reflect.get(target, prop2);
        }
        return new Maybe(Reflect.get(target, prop2));
      },
    });
  }
  isArray() {
    return Array.isArray(__classPrivateFieldGet2(this, _Maybe_value, "f"));
  }
  node() {
    if (!(__classPrivateFieldGet2(this, _Maybe_value, "f") instanceof YTNode)) {
      throw new TypeError(
        `Expected YTNode, got ${
          __classPrivateFieldGet2(this, _Maybe_value, "f").constructor.name
        }`,
      );
    }
    return __classPrivateFieldGet2(this, _Maybe_value, "f");
  }
  isNode() {
    return __classPrivateFieldGet2(this, _Maybe_value, "f") instanceof YTNode;
  }
  nodeOfType(...types) {
    return this.node().as(...types);
  }
  isNodeOfType(...types) {
    return this.isNode() && this.node().is(...types);
  }
  observed() {
    if (!this.isObserved()) {
      throw new TypeError(
        `Expected ObservedArray, got ${typeof __classPrivateFieldGet2(
          this,
          _Maybe_value,
          "f",
        )}`,
      );
    }
    return __classPrivateFieldGet2(this, _Maybe_value, "f");
  }
  isObserved() {
    var _a3;
    return (_a3 = __classPrivateFieldGet2(this, _Maybe_value, "f")) === null ||
        _a3 === void 0
      ? void 0
      : _a3[isObserved];
  }
  parsed() {
    if (
      !(__classPrivateFieldGet2(this, _Maybe_value, "f") instanceof
        SuperParsedResult)
    ) {
      throw new TypeError(
        `Expected SuperParsedResult, got ${typeof __classPrivateFieldGet2(
          this,
          _Maybe_value,
          "f",
        )}`,
      );
    }
    return __classPrivateFieldGet2(this, _Maybe_value, "f");
  }
  isParsed() {
    return __classPrivateFieldGet2(this, _Maybe_value, "f") instanceof
      SuperParsedResult;
  }
  any() {
    console.warn(
      "This call is not meant to be used outside of debugging. Please use the specific type getter instead.",
    );
    return __classPrivateFieldGet2(this, _Maybe_value, "f");
  }
  instanceof(type) {
    if (!this.isInstanceof(type)) {
      throw new TypeError(
        `Expected instance of ${type.name}, got ${
          __classPrivateFieldGet2(this, _Maybe_value, "f").constructor.name
        }`,
      );
    }
    return __classPrivateFieldGet2(this, _Maybe_value, "f");
  }
  isInstanceof(type) {
    return __classPrivateFieldGet2(this, _Maybe_value, "f") instanceof type;
  }
};
__name(Maybe, "Maybe");
_Maybe_value = /* @__PURE__ */ new WeakMap(),
  _Maybe_instances = /* @__PURE__ */ new WeakSet(),
  _Maybe_checkPrimative = /* @__PURE__ */ __name(
    function _Maybe_checkPrimative2(type) {
      if (typeof __classPrivateFieldGet2(this, _Maybe_value, "f") !== type) {
        return false;
      }
      return true;
    },
    "_Maybe_checkPrimative",
  ),
  _Maybe_assertPrimative = /* @__PURE__ */ __name(
    function _Maybe_assertPrimative2(type) {
      if (
        !__classPrivateFieldGet2(
          this,
          _Maybe_instances,
          "m",
          _Maybe_checkPrimative,
        ).call(this, type)
      ) {
        throw new TypeError(`Expected ${type}, got ${this.typeof}`);
      }
      return __classPrivateFieldGet2(this, _Maybe_value, "f");
    },
    "_Maybe_assertPrimative",
  );
var SuperParsedResult = class {
  constructor(result) {
    _SuperParsedResult_result.set(this, void 0);
    __classPrivateFieldSet2(this, _SuperParsedResult_result, result, "f");
  }
  get is_null() {
    return __classPrivateFieldGet2(this, _SuperParsedResult_result, "f") ===
      null;
  }
  get is_array() {
    return !this.is_null &&
      Array.isArray(
        __classPrivateFieldGet2(this, _SuperParsedResult_result, "f"),
      );
  }
  get is_node() {
    return !this.is_array;
  }
  array() {
    if (!this.is_array) {
      throw new TypeError("Expected an array, got a node");
    }
    return __classPrivateFieldGet2(this, _SuperParsedResult_result, "f");
  }
  item() {
    if (!this.is_node) {
      throw new TypeError("Expected a node, got an array");
    }
    return __classPrivateFieldGet2(this, _SuperParsedResult_result, "f");
  }
};
__name(SuperParsedResult, "SuperParsedResult");
_SuperParsedResult_result = /* @__PURE__ */ new WeakMap();
function observe(obj) {
  return new Proxy(obj, {
    get(target, prop2) {
      if (prop2 == "get") {
        return (rule, del_item) =>
          target.find((obj2, index) => {
            const match = deepCompare(rule, obj2);
            if (match && del_item) {
              target.splice(index, 1);
            }
            return match;
          });
      }
      if (prop2 == isObserved) {
        return true;
      }
      if (prop2 == "getAll") {
        return (rule, del_items) =>
          target.filter((obj2, index) => {
            const match = deepCompare(rule, obj2);
            if (match && del_items) {
              target.splice(index, 1);
            }
            return match;
          });
      }
      if (prop2 == "filterType") {
        return (...types) => {
          return observe(target.filter((node) => {
            if (node.is(...types)) {
              return true;
            }
            return false;
          }));
        };
      }
      if (prop2 == "firstOfType") {
        return (...types) => {
          return target.find((node) => {
            if (node.is(...types)) {
              return true;
            }
            return false;
          });
        };
      }
      if (prop2 == "as") {
        return (...types) => {
          return observe(target.map((node) => {
            if (node.is(...types)) {
              return node;
            }
            throw new ParsingError(
              `Expected node of any type ${
                types.map((type) => type.type).join(", ")
              }, got ${node.type}`,
            );
          }));
        };
      }
      if (prop2 == "remove") {
        return (index) => target.splice(index, 1);
      }
      return Reflect.get(target, prop2);
    },
  });
}
__name(observe, "observe");
var Memo = class extends Map {
  getType(type) {
    if (Array.isArray(type)) {
      return observe(type.flatMap((type2) => this.get(type2.type) || []));
    }
    return observe(this.get(type.type) || []);
  }
};
__name(Memo, "Memo");

// dist/src/parser/classes/actions/AppendContinuationItemsAction.js
var AppendContinuationItemsAction = class extends YTNode {
  constructor(data) {
    super();
    this.items = Parser.parse(data.continuationItems);
    this.target = data.target;
  }
};
__name(AppendContinuationItemsAction, "AppendContinuationItemsAction");
AppendContinuationItemsAction.type = "AppendContinuationItemsAction";
var AppendContinuationItemsAction_default = AppendContinuationItemsAction;

// dist/src/parser/classes/actions/OpenPopupAction.js
var OpenPopupAction = class extends YTNode {
  constructor(data) {
    super();
    this.popup = Parser.parse(data.popup);
    this.popup_type = data.popupType;
  }
};
__name(OpenPopupAction, "OpenPopupAction");
OpenPopupAction.type = "OpenPopupAction";
var OpenPopupAction_default = OpenPopupAction;

// dist/src/parser/classes/analytics/DataModelSection.js
var DataModelSection = class extends YTNode {
  constructor(data) {
    super();
    this.title = data.title;
    this.subtitle = data.subtitle;
    this.metric_value = data.metricValue;
    this.comparison_indicator = data.comparisonIndicator;
    const line_series = data.seriesConfiguration.lineSeries;
    this.series_configuration = {
      line_series: {
        lines_data: {
          x: line_series.linesData[0].x,
          y: line_series.linesData[0].y,
          style: {
            line_width: line_series.linesData[0].style.lineWidth,
            line_color: line_series.linesData[0].style.lineColor,
          },
        },
        domain_axis: {
          tick_values: line_series.domainAxis.tickValues,
          custom_formatter: line_series.domainAxis.customFormatter,
        },
        measure_axis: {
          tick_values: line_series.measureAxis.tickValues,
          custom_formatter: line_series.measureAxis.customFormatter,
        },
      },
    };
  }
};
__name(DataModelSection, "DataModelSection");
DataModelSection.type = "DataModelSection";
var DataModelSection_default = DataModelSection;

// dist/src/parser/classes/analytics/AnalyticsMainAppKeyMetrics.js
var AnalyticsMainAppKeyMetrics = class extends YTNode {
  constructor(data) {
    super();
    this.period = data.cardData.periodLabel;
    const metrics_data = data.cardData.sections[0].analyticsKeyMetricsData;
    this.sections = metrics_data.dataModel.sections.map((section) =>
      new DataModelSection_default(section)
    );
  }
};
__name(AnalyticsMainAppKeyMetrics, "AnalyticsMainAppKeyMetrics");
AnalyticsMainAppKeyMetrics.type = "AnalyticsMainAppKeyMetrics";
var AnalyticsMainAppKeyMetrics_default = AnalyticsMainAppKeyMetrics;

// dist/src/parser/classes/analytics/AnalyticsRoot.js
var AnalyticsRoot = class extends YTNode {
  constructor(data) {
    super();
    const cards = data.analyticsTableCarouselData.data.tableCards;
    this.title = data.analyticsTableCarouselData.carouselTitle;
    this.selected_card_index_key =
      data.analyticsTableCarouselData.selectedCardIndexKey;
    this.table_cards = cards.map((card) => ({
      title: card.cardData.title,
      rows: card.cardData.rows.map((row) => ({
        label: row.label,
        display_value: row.displayValue,
        display_value_a11y: row.displayValueA11y,
        bar_ratio: row.barRatio,
        bar_color: row.barColor,
        bar_opacity: row.barOpacity,
      })),
    }));
    this.use_main_app_specs = data.analyticsTableCarouselData.useMainAppSpecs;
  }
};
__name(AnalyticsRoot, "AnalyticsRoot");
AnalyticsRoot.type = "AnalyticsRoot";
var AnalyticsRoot_default = AnalyticsRoot;

// dist/src/parser/classes/NavigationEndpoint.js
var __awaiter3 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldGet3 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _NavigationEndpoint_instances;
var _NavigationEndpoint_call;
var NavigationEndpoint = class extends YTNode {
  constructor(data) {
    var _a3,
      _b,
      _c,
      _d,
      _e,
      _f,
      _g,
      _h,
      _j,
      _k,
      _l,
      _m,
      _o,
      _p,
      _q,
      _r,
      _s,
      _t,
      _u,
      _v,
      _w,
      _x,
      _y;
    super();
    _NavigationEndpoint_instances.add(this);
    if (Reflect.has(data || {}, "innertubeCommand")) {
      data = data.innertubeCommand;
    }
    const name = Object.keys(data || {}).find((item) =>
      item.endsWith("Endpoint") || item.endsWith("Command")
    );
    this.payload = name ? Reflect.get(data, name) : {};
    if (Reflect.has(this.payload, "dialog")) {
      this.dialog = Parser.parse(this.payload.dialog);
    }
    if (data === null || data === void 0 ? void 0 : data.serviceEndpoint) {
      data = data.serviceEndpoint;
    }
    this.metadata = {};
    if (
      (_b = (_a3 = data === null || data === void 0
                  ? void 0
                  : data.commandMetadata) === null || _a3 === void 0
            ? void 0
            : _a3.webCommandMetadata) === null || _b === void 0
        ? void 0
        : _b.url
    ) {
      this.metadata.url = data.commandMetadata.webCommandMetadata.url;
    }
    if (
      (_d = (_c = data === null || data === void 0
                  ? void 0
                  : data.commandMetadata) === null || _c === void 0
            ? void 0
            : _c.webCommandMetadata) === null || _d === void 0
        ? void 0
        : _d.webPageType
    ) {
      this.metadata.page_type =
        data.commandMetadata.webCommandMetadata.webPageType;
    }
    if (
      (_f = (_e = data === null || data === void 0
                  ? void 0
                  : data.commandMetadata) === null || _e === void 0
            ? void 0
            : _e.webCommandMetadata) === null || _f === void 0
        ? void 0
        : _f.apiUrl
    ) {
      this.metadata.api_url = data.commandMetadata.webCommandMetadata.apiUrl
        .replace("/youtubei/v1/", "");
    }
    if (
      (_h = (_g = data === null || data === void 0
                  ? void 0
                  : data.commandMetadata) === null || _g === void 0
            ? void 0
            : _g.webCommandMetadata) === null || _h === void 0
        ? void 0
        : _h.sendPost
    ) {
      this.metadata.send_post =
        data.commandMetadata.webCommandMetadata.sendPost;
    }
    if (data === null || data === void 0 ? void 0 : data.browseEndpoint) {
      const configs = (_k = (_j = data === null || data === void 0
                    ? void 0
                    : data.browseEndpoint) === null || _j === void 0
              ? void 0
              : _j.browseEndpointContextSupportedConfigs) === null ||
          _k === void 0
        ? void 0
        : _k.browseEndpointContextMusicConfig;
      this.browse = {
        id: ((_l = data === null || data === void 0
                ? void 0
                : data.browseEndpoint) === null || _l === void 0
          ? void 0
          : _l.browseId) || null,
        params: (data === null || data === void 0
          ? void 0
          : data.browseEndpoint.params) || null,
        base_url: ((_m = data === null || data === void 0
                ? void 0
                : data.browseEndpoint) === null || _m === void 0
          ? void 0
          : _m.canonicalBaseUrl) || null,
        page_type: (configs === null || configs === void 0
          ? void 0
          : configs.pageType) || null,
      };
    }
    if (data === null || data === void 0 ? void 0 : data.watchEndpoint) {
      const configs = (_p = (_o = data === null || data === void 0
                    ? void 0
                    : data.watchEndpoint) === null || _o === void 0
              ? void 0
              : _o.watchEndpointMusicSupportedConfigs) === null || _p === void 0
        ? void 0
        : _p.watchEndpointMusicConfig;
      this.watch = {
        video_id: (_q = data === null || data === void 0
                ? void 0
                : data.watchEndpoint) === null || _q === void 0
          ? void 0
          : _q.videoId,
        playlist_id: (data === null || data === void 0
          ? void 0
          : data.watchEndpoint.playlistId) || null,
        params: (data === null || data === void 0
          ? void 0
          : data.watchEndpoint.params) || null,
        index: (data === null || data === void 0
          ? void 0
          : data.watchEndpoint.index) || null,
        supported_onesie_config: (_r = data === null || data === void 0
                ? void 0
                : data.watchEndpoint) === null || _r === void 0
          ? void 0
          : _r.watchEndpointSupportedOnesieConfig,
        music_video_type: (configs === null || configs === void 0
          ? void 0
          : configs.musicVideoType) || null,
      };
    }
    if (data === null || data === void 0 ? void 0 : data.searchEndpoint) {
      this.search = {
        query: data.searchEndpoint.query,
        params: data.searchEndpoint.params,
      };
    }
    if (data === null || data === void 0 ? void 0 : data.subscribeEndpoint) {
      this.subscribe = {
        channel_ids: data.subscribeEndpoint.channelIds,
        params: data.subscribeEndpoint.params,
      };
    }
    if (data === null || data === void 0 ? void 0 : data.unsubscribeEndpoint) {
      this.unsubscribe = {
        channel_ids: data.unsubscribeEndpoint.channelIds,
        params: data.unsubscribeEndpoint.params,
      };
    }
    if (data === null || data === void 0 ? void 0 : data.likeEndpoint) {
      this.like = {
        status: data.likeEndpoint.status,
        target: {
          video_id: data.likeEndpoint.target.videoId,
          playlist_id: data.likeEndpoint.target.playlistId,
        },
        params: ((_s = data.likeEndpoint) === null || _s === void 0
          ? void 0
          : _s.removeLikeParams) ||
          ((_t = data.likeEndpoint) === null || _t === void 0
            ? void 0
            : _t.likeParams) ||
          ((_u = data.likeEndpoint) === null || _u === void 0
            ? void 0
            : _u.dislikeParams),
      };
    }
    if (
      data === null || data === void 0
        ? void 0
        : data.performCommentActionEndpoint
    ) {
      this.perform_comment_action = {
        action: data === null || data === void 0
          ? void 0
          : data.performCommentActionEndpoint.action,
      };
    }
    if (data === null || data === void 0 ? void 0 : data.offlineVideoEndpoint) {
      this.offline_video = {
        video_id: data.offlineVideoEndpoint.videoId,
        on_add_command: {
          get_download_action: {
            video_id: data.offlineVideoEndpoint.videoId,
            params:
              data.offlineVideoEndpoint.onAddCommand.getDownloadActionCommand
                .params,
          },
        },
      };
    }
    if (data === null || data === void 0 ? void 0 : data.continuationCommand) {
      this.continuation = {
        request: ((_v = data === null || data === void 0
                ? void 0
                : data.continuationCommand) === null || _v === void 0
          ? void 0
          : _v.request) || null,
        token: ((_w = data === null || data === void 0
                ? void 0
                : data.continuationCommand) === null || _w === void 0
          ? void 0
          : _w.token) || null,
      };
    }
    if (data === null || data === void 0 ? void 0 : data.feedbackEndpoint) {
      this.feedback = {
        token: data.feedbackEndpoint.feedbackToken,
      };
    }
    if (
      data === null || data === void 0
        ? void 0
        : data.watchPlaylistEndpoint
    ) {
      this.watch_playlist = {
        playlist_id: (_x = data.watchPlaylistEndpoint) === null || _x === void 0
          ? void 0
          : _x.playlistId,
      };
    }
    if (data === null || data === void 0 ? void 0 : data.playlistEditEndpoint) {
      this.playlist_edit = {
        playlist_id: data.playlistEditEndpoint.playlistId,
        actions: data.playlistEditEndpoint.actions.map((item) => ({
          action: item.action,
          removed_video_id: item.removedVideoId,
        })),
      };
    }
    if (
      data === null || data === void 0
        ? void 0
        : data.addToPlaylistEndpoint
    ) {
      this.add_to_playlist = {
        video_id: data.addToPlaylistEndpoint.videoId,
      };
    }
    if (
      data === null || data === void 0
        ? void 0
        : data.addToPlaylistServiceEndpoint
    ) {
      this.add_to_playlist = {
        video_id: data.addToPlaylistServiceEndpoint.videoId,
      };
    }
    if (
      data === null || data === void 0
        ? void 0
        : data.getReportFormEndpoint
    ) {
      this.get_report_form = {
        params: data.getReportFormEndpoint.params,
      };
    }
    if (
      data === null || data === void 0
        ? void 0
        : data.liveChatItemContextMenuEndpoint
    ) {
      this.live_chat_item_context_menu = {
        params: (_y = data === null || data === void 0
                ? void 0
                : data.liveChatItemContextMenuEndpoint) === null ||
            _y === void 0
          ? void 0
          : _y.params,
      };
    }
    if (
      data === null || data === void 0
        ? void 0
        : data.sendLiveChatVoteEndpoint
    ) {
      this.send_live_chat_vote = {
        params: data.sendLiveChatVoteEndpoint.params,
      };
    }
    if (
      data === null || data === void 0
        ? void 0
        : data.liveChatItemContextMenuEndpoint
    ) {
      this.live_chat_item_context_menu = {
        params: data.liveChatItemContextMenuEndpoint.params,
      };
    }
  }
  callTest(actions, args = { parse: true, params: {} }) {
    return __awaiter3(this, void 0, void 0, function* () {
      if (!actions) {
        throw new Error("An active caller must be provided");
      }
      if (!this.metadata.api_url) {
        throw new Error(
          "Expected an api_url, but none was found, this is a bug.",
        );
      }
      const response = yield actions.execute(
        this.metadata.api_url,
        Object.assign(
          Object.assign(Object.assign({}, this.payload), args.params),
          { parse: args.parse },
        ),
      );
      return response;
    });
  }
  call(actions, client, parse5) {
    return __awaiter3(this, void 0, void 0, function* () {
      const result = yield __classPrivateFieldGet3(
        this,
        _NavigationEndpoint_instances,
        "m",
        _NavigationEndpoint_call,
      ).call(this, actions, client);
      if (parse5 && result) {
        return Parser.parseResponse(result.data);
      }
      return __classPrivateFieldGet3(
        this,
        _NavigationEndpoint_instances,
        "m",
        _NavigationEndpoint_call,
      ).call(this, actions, client);
    });
  }
};
__name(NavigationEndpoint, "NavigationEndpoint");
_NavigationEndpoint_instances = /* @__PURE__ */ new WeakSet(),
  _NavigationEndpoint_call = /* @__PURE__ */ __name(
    function _NavigationEndpoint_call2(actions, client) {
      return __awaiter3(this, void 0, void 0, function* () {
        if (!actions) {
          throw new Error("An active caller must be provided");
        }
        if (this.continuation) {
          switch (this.continuation.request) {
            case "CONTINUATION_REQUEST_TYPE_BROWSE": {
              return yield actions.browse(this.continuation.token, {
                is_ctoken: true,
              });
            }
            case "CONTINUATION_REQUEST_TYPE_SEARCH": {
              return yield actions.search({ ctoken: this.continuation.token });
            }
            case "CONTINUATION_REQUEST_TYPE_WATCH_NEXT": {
              return yield actions.next({ ctoken: this.continuation.token });
            }
            default:
              throw new Error(`${this.continuation.request} not implemented`);
          }
        }
        if (this.search) {
          return yield actions.search({
            query: this.search.query,
            params: this.search.params,
            client,
          });
        }
        if (this.browse) {
          return yield actions.browse(
            this.browse.id,
            Object.assign(Object.assign({}, this.browse), { client }),
          );
        }
        if (this.like) {
          if (!this.metadata.api_url) {
            throw new Error(
              "Like endpoint requires an api_url, but was not parsed from the response.",
            );
          }
          const response = yield actions.engage(this.metadata.api_url, {
            video_id: this.like.target.video_id,
            params: this.like.params,
          });
          return response;
        }
      });
    },
    "_NavigationEndpoint_call",
  );
NavigationEndpoint.type = "NavigationEndpoint";
var NavigationEndpoint_default = NavigationEndpoint;

// dist/src/parser/classes/analytics/AnalyticsShortsCarouselCard.js
var AnalyticsShortsCarouselCard = class extends YTNode {
  constructor(data) {
    super();
    this.title = data.title;
    this.shorts = data.shortsCarouselData.shorts.map((short) => ({
      description: short.shortsDescription,
      thumbnail_url: short.thumbnailUrl,
      endpoint: new NavigationEndpoint_default(short.videoEndpoint),
    }));
  }
};
__name(AnalyticsShortsCarouselCard, "AnalyticsShortsCarouselCard");
AnalyticsShortsCarouselCard.type = "AnalyticsShortsCarouselCard";
var AnalyticsShortsCarouselCard_default = AnalyticsShortsCarouselCard;

// dist/src/parser/classes/analytics/AnalyticsVideo.js
var AnalyticsVideo = class extends YTNode {
  constructor(data) {
    super();
    this.title = data.videoTitle;
    this.metadata = {
      views: data.videoDescription.split("\xB7")[0].trim(),
      published: data.videoDescription.split("\xB7")[1].trim(),
      thumbnails: Thumbnail_default.fromResponse(data.thumbnailDetails),
      duration: data.formattedLength,
      is_short: data.isShort,
    };
  }
};
__name(AnalyticsVideo, "AnalyticsVideo");
AnalyticsVideo.type = "AnalyticsVideo";
var AnalyticsVideo_default = AnalyticsVideo;

// dist/src/parser/classes/analytics/AnalyticsVodCarouselCard.js
var AnalyticsVodCarouselCard = class extends YTNode {
  constructor(data) {
    super();
    this.title = data.title;
    this.videos = data.videoCarouselData.videos.map((video) =>
      new AnalyticsVideo_default(video)
    );
  }
};
__name(AnalyticsVodCarouselCard, "AnalyticsVodCarouselCard");
AnalyticsVodCarouselCard.type = "AnalyticsVodCarouselCard";
var AnalyticsVodCarouselCard_default = AnalyticsVodCarouselCard;

// dist/src/parser/classes/analytics/CtaGoToCreatorStudio.js
var CtaGoToCreatorStudio = class extends YTNode {
  constructor(data) {
    super();
    this.title = data.buttonLabel;
    this.use_new_specs = data.useNewSpecs;
  }
};
__name(CtaGoToCreatorStudio, "CtaGoToCreatorStudio");
CtaGoToCreatorStudio.type = "CtaGoToCreatorStudio";
var CtaGoToCreatorStudio_default = CtaGoToCreatorStudio;

// dist/src/parser/classes/BackstageImage.js
var BackstageImage = class extends YTNode {
  constructor(data) {
    super();
    this.image = Thumbnail_default.fromResponse(data.image);
  }
};
__name(BackstageImage, "BackstageImage");
BackstageImage.type = "BackstageImage";
var BackstageImage_default = BackstageImage;

// dist/src/parser/classes/misc/TextRun.js
var TextRun = class {
  constructor(data) {
    this.text = data.text;
    this.endpoint = data.navigationEndpoint
      ? new NavigationEndpoint_default(data.navigationEndpoint)
      : void 0;
  }
};
__name(TextRun, "TextRun");
var TextRun_default = TextRun;

// dist/src/parser/classes/misc/EmojiRun.js
var EmojiRun = class {
  constructor(data) {
    var _a3, _b, _c;
    this.text =
      ((_a3 = data.emoji) === null || _a3 === void 0 ? void 0 : _a3.emojiId) ||
      ((_c = (_b = data.emoji) === null || _b === void 0
              ? void 0
              : _b.shortcuts) === null || _c === void 0
        ? void 0
        : _c[0]) ||
      "";
    this.emoji = {
      emoji_id: data.emoji.emojiId,
      shortcuts: data.emoji.shortcuts,
      search_terms: data.emoji.searchTerms,
      image: Thumbnail_default.fromResponse(data.emoji.image),
    };
  }
};
__name(EmojiRun, "EmojiRun");
var EmojiRun_default = EmojiRun;

// dist/src/parser/classes/misc/Text.js
var Text = class {
  constructor(data) {
    if (
      (data === null || data === void 0
        ? void 0
        : data.hasOwnProperty("runs")) && Array.isArray(data.runs)
    ) {
      this.runs = data.runs.map((run) =>
        run.emoji ? new EmojiRun_default(run) : new TextRun_default(run)
      );
      this.text = this.runs.map((run) => run.text).join("");
    } else {
      this.text =
        (data === null || data === void 0 ? void 0 : data.simpleText) || "N/A";
    }
  }
  toString() {
    return this.text;
  }
};
__name(Text, "Text");
var Text_default = Text;

// dist/src/parser/classes/misc/NavigatableText.js
var NavigatableText = class extends Text_default {
  constructor(node) {
    var _a3, _b;
    super(node);
    this.endpoint =
      ((_b = (_a3 = node.runs) === null || _a3 === void 0 ? void 0 : _a3[0]) ===
              null || _b === void 0
          ? void 0
          : _b.navigationEndpoint)
        ? new NavigationEndpoint_default(node.runs[0].navigationEndpoint)
        : node.navigationEndpoint
        ? new NavigationEndpoint_default(node.navigationEndpoint)
        : node.titleNavigationEndpoint
        ? new NavigationEndpoint_default(node.titleNavigationEndpoint)
        : null;
  }
  toJSON() {
    return this;
  }
};
__name(NavigatableText, "NavigatableText");
NavigatableText.type = "NavigatableText";
var NavigatableText_default = NavigatableText;

// dist/src/parser/classes/misc/Author.js
var __classPrivateFieldSet3 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet4 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _Author_nav_text;
var Author = class {
  constructor(item, badges, thumbs) {
    var _a3, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t;
    _Author_nav_text.set(this, void 0);
    __classPrivateFieldSet3(
      this,
      _Author_nav_text,
      new NavigatableText_default(item),
      "f",
    );
    this.id =
      ((_c =
              (_b =
                    (_a3 =
                          __classPrivateFieldGet4(this, _Author_nav_text, "f")
                            .runs) === null || _a3 === void 0
                      ? void 0
                      : _a3[0].endpoint) === null || _b === void 0
                ? void 0
                : _b.browse) === null || _c === void 0
        ? void 0
        : _c.id) ||
      ((_e =
              (_d =
                    __classPrivateFieldGet4(this, _Author_nav_text, "f")
                      .endpoint) === null || _d === void 0
                ? void 0
                : _d.browse) === null || _e === void 0
        ? void 0
        : _e.id) ||
      "N/A";
    this.name = __classPrivateFieldGet4(this, _Author_nav_text, "f").text ||
      "N/A";
    this.thumbnails = thumbs ? Thumbnail_default.fromResponse(thumbs) : [];
    this.endpoint =
      ((_f = __classPrivateFieldGet4(this, _Author_nav_text, "f").runs) ===
            null || _f === void 0
        ? void 0
        : _f[0].endpoint) ||
      __classPrivateFieldGet4(this, _Author_nav_text, "f").endpoint;
    this.badges = Array.isArray(badges) ? Parser.parseArray(badges) : [];
    this.is_verified =
      ((_g = this.badges) === null || _g === void 0
        ? void 0
        : _g.some((badge) => badge.style == "BADGE_STYLE_TYPE_VERIFIED")) ||
      null;
    this.is_verified_artist =
      ((_h = this.badges) === null || _h === void 0
        ? void 0
        : _h.some((badge) =>
          badge.style == "BADGE_STYLE_TYPE_VERIFIED_ARTIST"
        )) || null;
    this.url =
      ((_k =
                (_j =
                      __classPrivateFieldGet4(this, _Author_nav_text, "f")
                        .runs) === null || _j === void 0
                  ? void 0
                  : _j[0].endpoint) === null || _k === void 0
          ? void 0
          : _k.browse) &&
        `${Constants_default.URLS.YT_BASE}${
          ((_m =
                  (_l =
                        __classPrivateFieldGet4(this, _Author_nav_text, "f")
                          .runs[0].endpoint) === null || _l === void 0
                    ? void 0
                    : _l.browse) === null || _m === void 0
            ? void 0
            : _m.base_url) ||
          `/u/${
            (_p =
                  (_o =
                        __classPrivateFieldGet4(this, _Author_nav_text, "f")
                          .runs[0].endpoint) === null || _o === void 0
                    ? void 0
                    : _o.browse) === null || _p === void 0
              ? void 0
              : _p.id
          }`
        }` ||
      `${Constants_default.URLS.YT_BASE}${
        ((_r =
                (_q =
                      __classPrivateFieldGet4(this, _Author_nav_text, "f")
                        .endpoint) === null || _q === void 0
                  ? void 0
                  : _q.browse) === null || _r === void 0
          ? void 0
          : _r.base_url) ||
        `/u/${
          (_t =
                (_s =
                      __classPrivateFieldGet4(this, _Author_nav_text, "f")
                        .endpoint) === null || _s === void 0
                  ? void 0
                  : _s.browse) === null || _t === void 0
            ? void 0
            : _t.id
        }`
      }` || null;
  }
  get best_thumbnail() {
    return this.thumbnails[0];
  }
};
__name(Author, "Author");
_Author_nav_text = /* @__PURE__ */ new WeakMap();
var Author_default = Author;

// dist/src/parser/classes/BackstagePost.js
var BackstagePost = class extends YTNode {
  constructor(data) {
    super();
    this.id = data.postId;
    this.author = new Author_default(
      Object.assign(Object.assign({}, data.authorText), {
        navigationEndpoint: data.authorEndpoint,
      }),
      null,
      data.authorThumbnail,
    );
    this.content = new Text_default(data.contentText, "");
    this.published = new Text_default(data.publishedTimeText);
    this.poll_status = data.pollStatus;
    this.vote_status = data.voteStatus;
    this.likes = new Text_default(data.voteCount);
    this.menu = Parser.parse(data.actionMenu) || null;
    this.actions = Parser.parse(data.actionButtons);
    this.vote_button = Parser.parse(data.voteButton);
    this.surface = data.surface;
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
    this.attachment = Parser.parse(data.backstageAttachment) || null;
  }
};
__name(BackstagePost, "BackstagePost");
BackstagePost.type = "BackstagePost";
var BackstagePost_default = BackstagePost;

// dist/src/parser/classes/BackstagePostThread.js
var BackstagePostThread = class extends YTNode {
  constructor(data) {
    super();
    this.post = Parser.parse(data.post);
  }
};
__name(BackstagePostThread, "BackstagePostThread");
BackstagePostThread.type = "BackstagePostThread";
var BackstagePostThread_default = BackstagePostThread;

// dist/src/parser/classes/BrowseFeedActions.js
var BrowseFeedActions = class extends YTNode {
  constructor(data) {
    super();
    this.contents = Parser.parseArray(data.contents);
  }
};
__name(BrowseFeedActions, "BrowseFeedActions");
BrowseFeedActions.type = "BrowseFeedActions";
var BrowseFeedActions_default = BrowseFeedActions;

// dist/src/parser/classes/Button.js
var Button = class extends YTNode {
  constructor(data) {
    var _a3, _b, _c, _d;
    super();
    this.text = new Text_default(data.text).toString();
    if (
      (_a3 = data.accessibility) === null || _a3 === void 0
        ? void 0
        : _a3.label
    ) {
      this.label = (_b = data.accessibility) === null || _b === void 0
        ? void 0
        : _b.label;
    }
    if (data.tooltip) {
      this.tooltip = data.tooltip;
    }
    if ((_c = data.icon) === null || _c === void 0 ? void 0 : _c.iconType) {
      this.iconType = (_d = data.icon) === null || _d === void 0
        ? void 0
        : _d.iconType;
    }
    this.endpoint = new NavigationEndpoint_default(
      data.navigationEndpoint || data.serviceEndpoint || data.command,
    );
  }
};
__name(Button, "Button");
Button.type = "Button";
var Button_default = Button;

// dist/src/parser/classes/C4TabbedHeader.js
var C4TabbedHeader = class extends YTNode {
  constructor(data) {
    super();
    this.author = new Author_default(
      {
        simpleText: data.title,
        navigationEndpoint: data.navigationEndpoint,
      },
      data.badges,
      data.avatar,
    );
    this.banner = data.banner
      ? Thumbnail_default.fromResponse(data.banner)
      : [];
    this.tv_banner = data.tvBanner
      ? Thumbnail_default.fromResponse(data.tvBanner)
      : [];
    this.mobile_banner = data.mobileBanner
      ? Thumbnail_default.fromResponse(data.mobileBanner)
      : [];
    this.subscribers = new Text_default(data.subscriberCountText);
    this.sponsor_button = data.sponsorButton
      ? Parser.parseItem(data.sponsorButton)
      : void 0;
    this.subscribe_button = data.subscribeButton
      ? Parser.parseItem(data.subscribeButton)
      : void 0;
    this.header_links = data.headerLinks
      ? Parser.parse(data.headerLinks)
      : void 0;
  }
};
__name(C4TabbedHeader, "C4TabbedHeader");
C4TabbedHeader.type = "C4TabbedHeader";
var C4TabbedHeader_default = C4TabbedHeader;

// dist/src/parser/classes/CallToActionButton.js
var CallToActionButton = class extends YTNode {
  constructor(data) {
    super();
    this.label = new Text_default(data.label);
    this.icon_type = data.icon.iconType;
    this.style = data.style;
  }
};
__name(CallToActionButton, "CallToActionButton");
CallToActionButton.type = "CallToActionButton";
var CallToActionButton_default = CallToActionButton;

// dist/src/parser/classes/Card.js
var Card = class extends YTNode {
  constructor(data) {
    super();
    this.teaser = Parser.parse(data.teaser);
    this.content = Parser.parse(data.content);
    this.card_id = data.cardId;
    this.feature = data.feature;
    this.cue_ranges = data.cueRanges.map((cr) => ({
      start_card_active_ms: cr.startCardActiveMs,
      end_card_active_ms: cr.endCardActiveMs,
      teaser_duration_ms: cr.teaserDurationMs,
      icon_after_teaser_ms: cr.iconAfterTeaserMs,
    }));
  }
};
__name(Card, "Card");
Card.type = "Card";
var Card_default = Card;

// dist/src/parser/classes/CardCollection.js
var CardCollection = class extends YTNode {
  constructor(data) {
    super();
    this.cards = Parser.parse(data.cards);
    this.header = new Text_default(data.headerText);
    this.allow_teaser_dismiss = data.allowTeaserDismiss;
  }
};
__name(CardCollection, "CardCollection");
CardCollection.type = "CardCollection";
var CardCollection_default = CardCollection;

// dist/src/parser/classes/Channel.js
var Channel = class extends YTNode {
  constructor(data) {
    super();
    this.id = data.channelId;
    this.author = new Author_default(
      Object.assign(Object.assign({}, data.title), {
        navigationEndpoint: data.navigationEndpoint,
      }),
      data.ownerBadges,
      data.thumbnail,
    );
    this.subscribers = new Text_default(data.subscriberCountText);
    this.videos = new Text_default(data.videoCountText);
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
    this.description_snippet = new Text_default(data.descriptionSnippet);
  }
};
__name(Channel, "Channel");
Channel.type = "Channel";
var Channel_default = Channel;

// dist/src/parser/classes/ChannelAboutFullMetadata.js
var ChannelAboutFullMetadata = class extends YTNode {
  constructor(data) {
    super();
    this.id = data.channelId;
    this.name = new Text_default(data.title);
    this.avatar = Thumbnail_default.fromResponse(data.avatar);
    this.canonical_channel_url = data.canonicalChannelUrl;
    this.views = new Text_default(data.viewCountText);
    this.joined = new Text_default(data.joinedDateText);
    this.description = new Text_default(data.description);
    this.email_reveal = new NavigationEndpoint_default(
      data.onBusinessEmailRevealClickCommand,
    );
    this.can_reveal_email = !data.signInForBusinessEmail;
    this.country = new Text_default(data.country);
    this.buttons = Parser.parse(data.actionButtons);
  }
};
__name(ChannelAboutFullMetadata, "ChannelAboutFullMetadata");
ChannelAboutFullMetadata.type = "ChannelAboutFullMetadata";
var ChannelAboutFullMetadata_default = ChannelAboutFullMetadata;

// dist/src/parser/classes/ChannelFeaturedContent.js
var ChannelFeaturedContent = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.title);
    this.items = Parser.parse(data.items);
  }
};
__name(ChannelFeaturedContent, "ChannelFeaturedContent");
ChannelFeaturedContent.type = "ChannelFeaturedContent";
var ChannelFeaturedContent_default = ChannelFeaturedContent;

// dist/src/parser/classes/ChannelHeaderLinks.js
var HeaderLink = class {
  constructor(data) {
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
    this.icon = Thumbnail_default.fromResponse(data.icon);
    this.title = new Text_default(data.title);
  }
};
__name(HeaderLink, "HeaderLink");
var ChannelHeaderLinks = class extends YTNode {
  constructor(data) {
    var _a3, _b;
    super();
    this.primary =
      ((_a3 = data.primaryLinks) === null || _a3 === void 0
        ? void 0
        : _a3.map((link) => new HeaderLink(link))) || [];
    this.secondary =
      ((_b = data.secondaryLinks) === null || _b === void 0
        ? void 0
        : _b.map((link) => new HeaderLink(link))) || [];
  }
};
__name(ChannelHeaderLinks, "ChannelHeaderLinks");
ChannelHeaderLinks.type = "ChannelHeaderLinks";
var ChannelHeaderLinks_default = ChannelHeaderLinks;

// dist/src/parser/classes/ChannelMetadata.js
var ChannelMetadata = class extends YTNode {
  constructor(data) {
    super();
    this.title = data.title;
    this.description = data.description;
    this.url = data.channelUrl;
    this.rss_urls = data.rssUrl;
    this.vanity_channel_url = data.vanityChannelUrl;
    this.external_id = data.externalId;
    this.is_family_safe = data.isFamilySafe;
    this.keywords = data.keywords;
    this.avatar = Thumbnail_default.fromResponse(data.avatar);
    this.available_countries = data.availableCountryCodes;
    this.android_deep_link = data.androidDeepLink;
    this.android_appindexing_link = data.androidAppindexingLink;
    this.ios_appindexing_link = data.iosAppindexingLink;
  }
};
__name(ChannelMetadata, "ChannelMetadata");
ChannelMetadata.type = "ChannelMetadata";
var ChannelMetadata_default = ChannelMetadata;

// dist/src/parser/classes/ChannelMobileHeader.js
var ChannelMobileHeader = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.title);
  }
};
__name(ChannelMobileHeader, "ChannelMobileHeader");
ChannelMobileHeader.type = "ChannelMobileHeader";
var ChannelMobileHeader_default = ChannelMobileHeader;

// dist/src/parser/classes/ChannelThumbnailWithLink.js
var ChannelThumbnailWithLink = class extends YTNode {
  constructor(data) {
    super();
    this.thumbnails = Thumbnail_default.fromResponse(data.thumbnail);
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
    this.label = data.accessibility.accessibilityData.label;
  }
};
__name(ChannelThumbnailWithLink, "ChannelThumbnailWithLink");
ChannelThumbnailWithLink.type = "ChannelThumbnailWithLink";
var ChannelThumbnailWithLink_default = ChannelThumbnailWithLink;

// dist/src/parser/classes/ChannelVideoPlayer.js
var ChannelVideoPlayer = class extends YTNode {
  constructor(data) {
    super();
    this.id = data.videoId;
    this.title = new Text_default(data.title, "");
    this.description = new Text_default(data.description, "");
    this.views = new Text_default(data.viewCountText, "");
    this.published_at = new Text_default(data.publishedTimeText, "");
  }
};
__name(ChannelVideoPlayer, "ChannelVideoPlayer");
ChannelVideoPlayer.type = "ChannelVideoPlayer";
var ChannelVideoPlayer_default = ChannelVideoPlayer;

// dist/src/parser/classes/ChildVideo.js
var ChildVideo = class extends YTNode {
  constructor(data) {
    super();
    this.id = data.videoId;
    this.title = new Text_default(data.title);
    this.duration = {
      text: data.lengthText.simpleText,
      seconds: timeToSeconds(data.lengthText.simpleText),
    };
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
  }
};
__name(ChildVideo, "ChildVideo");
ChildVideo.type = "ChildVideo";
var ChildVideo_default = ChildVideo;

// dist/src/parser/classes/ChipCloudChip.js
var ChipCloudChip = class extends YTNode {
  constructor(data) {
    super();
    this.is_selected = data.isSelected;
    this.endpoint = data.navigationEndpoint
      ? new NavigationEndpoint_default(data.navigationEndpoint)
      : void 0;
    this.text = new Text_default(data.text).toString();
  }
};
__name(ChipCloudChip, "ChipCloudChip");
ChipCloudChip.type = "ChipCloudChip";
var ChipCloudChip_default = ChipCloudChip;

// dist/src/parser/classes/ChipCloud.js
var ChipCloud = class extends YTNode {
  constructor(data) {
    super();
    this.chips = Parser.parse(data.chips, true, ChipCloudChip_default);
    this.next_button = Parser.parse(data.nextButton);
    this.previous_button = Parser.parse(data.previousButton);
    this.horizontal_scrollable = data.horizontalScrollable;
  }
};
__name(ChipCloud, "ChipCloud");
ChipCloud.type = "ChipCloud";
var ChipCloud_default = ChipCloud;

// dist/src/parser/classes/CollageHeroImage.js
var CollageHeroImage = class extends YTNode {
  constructor(data) {
    super();
    this.left = Thumbnail_default.fromResponse(data.leftThumbnail);
    this.top_right = Thumbnail_default.fromResponse(data.topRightThumbnail);
    this.bottom_right = Thumbnail_default.fromResponse(
      data.bottomRightThumbnail,
    );
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
  }
};
__name(CollageHeroImage, "CollageHeroImage");
CollageHeroImage.type = "CollageHeroImage";
var CollageHeroImage_default = CollageHeroImage;

// dist/src/parser/classes/comments/AuthorCommentBadge.js
var __classPrivateFieldSet4 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet5 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _AuthorCommentBadge_data;
var AuthorCommentBadge = class extends YTNode {
  constructor(data) {
    var _a3;
    super();
    _AuthorCommentBadge_data.set(this, void 0);
    this.icon_type =
      ((_a3 = data.icon) === null || _a3 === void 0 ? void 0 : _a3.iconType) ||
      null;
    this.tooltip = data.iconTooltip;
    this.tooltip === "Verified" && (this.style = "BADGE_STYLE_TYPE_VERIFIED") &&
      (data.style = "BADGE_STYLE_TYPE_VERIFIED");
    __classPrivateFieldSet4(this, _AuthorCommentBadge_data, data, "f");
  }
  get orig_badge() {
    return __classPrivateFieldGet5(this, _AuthorCommentBadge_data, "f");
  }
};
__name(AuthorCommentBadge, "AuthorCommentBadge");
_AuthorCommentBadge_data = /* @__PURE__ */ new WeakMap();
AuthorCommentBadge.type = "AuthorCommentBadge";
var AuthorCommentBadge_default = AuthorCommentBadge;

// dist/src/parser/classes/comments/Comment.js
var __awaiter4 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldGet6 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var __classPrivateFieldSet5 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var _Comment_actions;
var Comment = class extends YTNode {
  constructor(data) {
    var _a3, _b;
    super();
    _Comment_actions.set(this, void 0);
    this.content = new Text_default(data.contentText);
    this.published = new Text_default(data.publishedTimeText);
    this.author_is_channel_owner = data.authorIsChannelOwner;
    this.current_user_reply_thumbnail = Thumbnail_default.fromResponse(
      data.currentUserReplyThumbnail,
    );
    this.author_badge = Parser.parse(data.authorCommentBadge);
    this.author = new Author_default(
      Object.assign(Object.assign({}, data.authorText), {
        navigationEndpoint: data.authorEndpoint,
      }),
      this.author_badge
        ? [{
          metadataBadgeRenderer:
            (_a3 = this.author_badge) === null || _a3 === void 0
              ? void 0
              : _a3.orig_badge,
        }]
        : null,
      data.authorThumbnail,
    );
    this.action_menu = Parser.parse(data.actionMenu);
    this.action_buttons = Parser.parse(data.actionButtons);
    this.comment_id = data.commentId;
    this.vote_status = data.voteStatus;
    this.vote_count = {
      text: data.voteCount
        ? (_b = data.voteCount.accessibility.accessibilityData) === null ||
            _b === void 0
          ? void 0
          : _b.label.replace(/\D/g, "")
        : "0",
      short_text: data.voteCount
        ? new Text_default(data.voteCount).toString()
        : "0",
    };
    this.reply_count = data.replyCount || 0;
    this.is_liked = this.action_buttons.item().like_button.item().is_toggled;
    this.is_disliked =
      this.action_buttons.item().dislike_button.item().is_toggled;
    this.is_pinned = !!data.pinnedCommentBadge;
  }
  like() {
    return __awaiter4(this, void 0, void 0, function* () {
      const button = this.action_buttons.item().like_button.item();
      if (button.is_toggled) {
        throw new InnertubeError("This comment is already liked", {
          comment_id: this.comment_id,
        });
      }
      const response = yield button.endpoint.callTest(
        __classPrivateFieldGet6(this, _Comment_actions, "f"),
        { parse: false },
      );
      return response;
    });
  }
  dislike() {
    return __awaiter4(this, void 0, void 0, function* () {
      const button = this.action_buttons.item().dislike_button.item();
      if (button.is_toggled) {
        throw new InnertubeError("This comment is already disliked", {
          comment_id: this.comment_id,
        });
      }
      const response = yield button.endpoint.callTest(
        __classPrivateFieldGet6(this, _Comment_actions, "f"),
        { parse: false },
      );
      return response;
    });
  }
  reply(text) {
    return __awaiter4(this, void 0, void 0, function* () {
      if (!this.action_buttons.item().reply_button) {
        throw new InnertubeError(
          "Cannot reply to another reply. Try mentioning the user instead.",
          { comment_id: this.comment_id },
        );
      }
      const button = this.action_buttons.item().reply_button.item();
      const dialog_button = button.endpoint.dialog.item().reply_button.item();
      const payload = {
        params: {
          commentText: text,
        },
      };
      const response = yield dialog_button.endpoint.callTest(
        __classPrivateFieldGet6(this, _Comment_actions, "f"),
        payload,
      );
      return response;
    });
  }
  translate(target_language) {
    return __awaiter4(this, void 0, void 0, function* () {
      const text = this.content.toString().replace(
        /[^\p{L}\p{N}\p{P}\p{Z}]/gu,
        "",
      );
      const payload = {
        text,
        target_language,
        comment_id: this.comment_id,
      };
      const action = proto_default.encodeCommentActionParams(22, payload);
      const response = yield __classPrivateFieldGet6(
        this,
        _Comment_actions,
        "f",
      ).execute("comment/perform_comment_action", {
        action,
        client: "ANDROID",
      });
      const mutations =
        response.data.frameworkUpdates.entityBatchUpdate.mutations;
      const content =
        mutations[0].payload.commentEntityPayload.translatedContent.content;
      return Object.assign(Object.assign({}, response), { content });
    });
  }
  setActions(actions) {
    __classPrivateFieldSet5(this, _Comment_actions, actions, "f");
  }
};
__name(Comment, "Comment");
_Comment_actions = /* @__PURE__ */ new WeakMap();
Comment.type = "Comment";
var Comment_default = Comment;

// dist/src/parser/classes/comments/CommentActionButtons.js
var CommentActionButtons = class extends YTNode {
  constructor(data) {
    super();
    this.like_button = Parser.parse(data.likeButton);
    this.dislike_button = Parser.parse(data.dislikeButton);
    this.reply_button = Parser.parse(data.replyButton);
  }
};
__name(CommentActionButtons, "CommentActionButtons");
CommentActionButtons.type = "CommentActionButtons";
var CommentActionButtons_default = CommentActionButtons;

// dist/src/parser/classes/comments/CommentReplies.js
var CommentReplies = class extends YTNode {
  constructor(data) {
    super();
    this.contents = Parser.parse(data.contents);
    this.view_replies = Parser.parse(data.viewReplies);
    this.hide_replies = Parser.parse(data.hideReplies);
  }
};
__name(CommentReplies, "CommentReplies");
CommentReplies.type = "CommentReplies";
var CommentReplies_default = CommentReplies;

// dist/src/parser/classes/comments/CommentReplyDialog.js
var CommentReplyDialog = class extends YTNode {
  constructor(data) {
    super();
    this.reply_button = Parser.parse(data.replyButton);
    this.cancel_button = Parser.parse(data.cancelButton);
    this.author_thumbnail = Thumbnail_default.fromResponse(
      data.authorThumbnail,
    );
    this.placeholder = new Text_default(data.placeholderText);
    this.error_message = new Text_default(data.errorMessage);
  }
};
__name(CommentReplyDialog, "CommentReplyDialog");
CommentReplyDialog.type = "CommentReplyDialog";
var CommentReplyDialog_default = CommentReplyDialog;

// dist/src/parser/classes/comments/CommentsEntryPointHeader.js
var CommentsEntryPointHeader = class extends YTNode {
  constructor(data) {
    super();
    this.header = new Text_default(data.headerText);
    this.comment_count = new Text_default(data.commentCount);
    this.teaser_avatar = Thumbnail_default.fromResponse(
      data.teaserAvatar || data.simpleboxAvatar,
    );
    this.teaser_content = new Text_default(data.teaserContent);
    this.simplebox_placeholder = new Text_default(data.simpleboxPlaceholder);
  }
};
__name(CommentsEntryPointHeader, "CommentsEntryPointHeader");
CommentsEntryPointHeader.type = "CommentsEntryPointHeader";
var CommentsEntryPointHeader_default = CommentsEntryPointHeader;

// dist/src/parser/classes/comments/CommentsHeader.js
var CommentsHeader = class extends YTNode {
  constructor(data) {
    var _a3;
    super();
    this.title = new Text_default(data.titleText);
    this.count = new Text_default(data.countText);
    this.comments_count = new Text_default(data.commentsCount);
    this.create_renderer = Parser.parseItem(data.createRenderer);
    this.sort_menu = Parser.parse(data.sortMenu);
    this.custom_emojis =
      ((_a3 = data.customEmojis) === null || _a3 === void 0
        ? void 0
        : _a3.map((emoji) => ({
          emoji_id: emoji.emojiId,
          shortcuts: emoji.shortcuts,
          search_terms: emoji.searchTerms,
          image: Thumbnail_default.fromResponse(emoji.image),
          is_custom_emoji: emoji.isCustomEmoji,
        }))) || null;
  }
};
__name(CommentsHeader, "CommentsHeader");
CommentsHeader.type = "CommentsHeader";
var CommentsHeader_default = CommentsHeader;

// dist/src/parser/classes/comments/CommentSimplebox.js
var CommentSimplebox = class extends YTNode {
  constructor(data) {
    super();
    this.submit_button = Parser.parse(data.submitButton);
    this.cancel_button = Parser.parse(data.cancelButton);
    this.author_thumbnails = Thumbnail_default.fromResponse(
      data.authorThumbnail,
    );
    this.placeholder = new Text_default(data.placeholderText);
    this.avatar_size = data.avatarSize;
  }
};
__name(CommentSimplebox, "CommentSimplebox");
CommentSimplebox.type = "CommentSimplebox";
var CommentSimplebox_default = CommentSimplebox;

// dist/src/parser/classes/ContinuationItem.js
var ContinuationItem = class extends YTNode {
  constructor(data) {
    super();
    this.trigger = data.trigger;
    if (data.button) {
      this.button = Parser.parse(data.button);
    }
    this.endpoint = new NavigationEndpoint_default(data.continuationEndpoint);
  }
};
__name(ContinuationItem, "ContinuationItem");
ContinuationItem.type = "ContinuationItem";
var ContinuationItem_default = ContinuationItem;

// dist/src/parser/classes/comments/CommentThread.js
var __awaiter5 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldSet6 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet7 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _CommentThread_replies;
var _CommentThread_actions;
var _CommentThread_continuation;
var CommentThread = class extends YTNode {
  constructor(data) {
    super();
    _CommentThread_replies.set(this, void 0);
    _CommentThread_actions.set(this, void 0);
    _CommentThread_continuation.set(this, void 0);
    this.comment = Parser.parseItem(data.comment, Comment_default);
    __classPrivateFieldSet6(
      this,
      _CommentThread_replies,
      Parser.parseItem(data.replies),
      "f",
    );
    this.is_moderated_elq_comment = data.isModeratedElqComment;
  }
  getReplies() {
    var _a3, _b, _c, _d;
    return __awaiter5(this, void 0, void 0, function* () {
      if (!__classPrivateFieldGet7(this, _CommentThread_actions, "f")) {
        throw new InnertubeError("Actions not set for this CommentThread.");
      }
      if (!__classPrivateFieldGet7(this, _CommentThread_replies, "f")) {
        throw new InnertubeError("This comment has no replies.", {
          comment_id: (_a3 = this.comment) === null || _a3 === void 0
            ? void 0
            : _a3.comment_id,
        });
      }
      const continuation =
        (_b = __classPrivateFieldGet7(this, _CommentThread_replies, "f").key(
              "contents",
            ).parsed().array().get({ type: "ContinuationItem" })) === null ||
          _b === void 0
          ? void 0
          : _b.as(ContinuationItem_default);
      const response = yield continuation === null || continuation === void 0
        ? void 0
        : continuation.endpoint.callTest(
          __classPrivateFieldGet7(this, _CommentThread_actions, "f"),
        );
      this.replies = (_c = response === null || response === void 0
              ? void 0
              : response.on_response_received_endpoints_memo) === null ||
          _c === void 0
        ? void 0
        : _c.getType(Comment_default).map((comment) => {
          comment.setActions(
            __classPrivateFieldGet7(this, _CommentThread_actions, "f"),
          );
          return comment;
        });
      __classPrivateFieldSet6(
        this,
        _CommentThread_continuation,
        (_d = response === null || response === void 0
              ? void 0
              : response.on_response_received_endpoints_memo.getType(
                ContinuationItem_default,
              )) === null || _d === void 0
          ? void 0
          : _d[0],
        "f",
      );
      return this;
    });
  }
  getContinuation() {
    var _a3, _b;
    return __awaiter5(this, void 0, void 0, function* () {
      if (!this.replies) {
        throw new InnertubeError("Continuation not available.");
      }
      if (!__classPrivateFieldGet7(this, _CommentThread_continuation, "f")) {
        throw new InnertubeError("Continuation not found.");
      }
      if (!__classPrivateFieldGet7(this, _CommentThread_actions, "f")) {
        throw new InnertubeError("Actions not set for this CommentThread.");
      }
      const response =
        yield (_a3 =
                __classPrivateFieldGet7(this, _CommentThread_continuation, "f")
                  .button) === null || _a3 === void 0
          ? void 0
          : _a3.item().key("endpoint").nodeOfType(NavigationEndpoint_default)
            .callTest(
              __classPrivateFieldGet7(this, _CommentThread_actions, "f"),
            );
      this.replies = response === null || response === void 0
        ? void 0
        : response.on_response_received_endpoints_memo.getType(Comment_default)
          .map((comment) => {
            comment.setActions(
              __classPrivateFieldGet7(this, _CommentThread_actions, "f"),
            );
            return comment;
          });
      __classPrivateFieldSet6(
        this,
        _CommentThread_continuation,
        (_b = response === null || response === void 0
              ? void 0
              : response.on_response_received_endpoints_memo.getType(
                ContinuationItem_default,
              )) === null || _b === void 0
          ? void 0
          : _b[0],
        "f",
      );
      return this;
    });
  }
  setActions(actions) {
    __classPrivateFieldSet6(this, _CommentThread_actions, actions, "f");
  }
};
__name(CommentThread, "CommentThread");
_CommentThread_replies = /* @__PURE__ */ new WeakMap(),
  _CommentThread_actions = /* @__PURE__ */ new WeakMap(),
  _CommentThread_continuation = /* @__PURE__ */ new WeakMap();
CommentThread.type = "CommentThread";
var CommentThread_default = CommentThread;

// dist/src/parser/classes/CompactLink.js
var CompactLink = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.title).toString();
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
    this.style = data.style;
  }
};
__name(CompactLink, "CompactLink");
CompactLink.type = "CompactLink";
var CompactLink_default = CompactLink;

// dist/src/parser/classes/misc/PlaylistAuthor.js
var PlaylistAuthor = class extends Author_default {
  constructor(item, badges, thumbs) {
    super(item, badges, thumbs);
    delete this.badges;
    delete this.is_verified;
    delete this.is_verified_artist;
  }
};
__name(PlaylistAuthor, "PlaylistAuthor");
var PlaylistAuthor_default = PlaylistAuthor;

// dist/src/parser/classes/Playlist.js
var Playlist = class extends YTNode {
  constructor(data) {
    var _a3;
    super();
    this.id = data.playlistId;
    this.title = new Text_default(data.title);
    this.author =
      ((_a3 = data.shortBylineText) === null || _a3 === void 0
          ? void 0
          : _a3.simpleText)
        ? new Text_default(data.shortBylineText)
        : new PlaylistAuthor_default(
          data.longBylineText,
          data.ownerBadges,
          null,
        );
    this.thumbnails = Thumbnail_default.fromResponse(
      data.thumbnail || {
        thumbnails: data.thumbnails.map((th) => th.thumbnails).flat(1),
      },
    );
    this.video_count = new Text_default(data.thumbnailText);
    this.video_count_short = new Text_default(data.videoCountShortText);
    this.first_videos = Parser.parse(data.videos) || [];
    this.share_url = data.shareUrl || null;
    this.menu = Parser.parse(data.menu);
    this.badges = Parser.parse(data.ownerBadges);
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
    this.thumbnail_overlays = Parser.parse(data.thumbnailOverlays) || [];
  }
};
__name(Playlist, "Playlist");
Playlist.type = "Playlist";
var Playlist_default = Playlist;

// dist/src/parser/classes/CompactMix.js
var CompactMix = class extends Playlist_default {
  constructor(data) {
    super(data);
  }
};
__name(CompactMix, "CompactMix");
CompactMix.type = "CompactMix";
var CompactMix_default = CompactMix;

// dist/src/parser/classes/CompactPlaylist.js
var CompactPlaylist = class extends Playlist_default {
  constructor(data) {
    super(data);
  }
};
__name(CompactPlaylist, "CompactPlaylist");
CompactPlaylist.type = "CompactPlaylist";
var CompactPlaylist_default = CompactPlaylist;

// dist/src/parser/classes/CompactVideo.js
var CompactVideo = class extends YTNode {
  constructor(data) {
    super();
    this.id = data.videoId;
    this.thumbnails = Thumbnail_default.fromResponse(data.thumbnail) || null;
    this.rich_thumbnail = data.richThumbnail &&
      Parser.parse(data.richThumbnail);
    this.title = new Text_default(data.title);
    this.author = new Author_default(
      data.longBylineText,
      data.ownerBadges,
      data.channelThumbnail,
    );
    this.view_count = new Text_default(data.viewCountText);
    this.short_view_count = new Text_default(data.shortViewCountText);
    this.published = new Text_default(data.publishedTimeText);
    this.duration = {
      text: new Text_default(data.lengthText).toString(),
      seconds: timeToSeconds(new Text_default(data.lengthText).toString()),
    };
    this.thumbnail_overlays = Parser.parse(data.thumbnailOverlays);
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
    this.menu = Parser.parse(data.menu);
  }
  get best_thumbnail() {
    return this.thumbnails[0];
  }
};
__name(CompactVideo, "CompactVideo");
CompactVideo.type = "CompactVideo";
var CompactVideo_default = CompactVideo;

// dist/src/parser/classes/DidYouMean.js
var DidYouMean = class extends YTNode {
  constructor(data) {
    super();
    this.corrected_query = new Text_default(data.correctedQuery);
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
  }
};
__name(DidYouMean, "DidYouMean");
DidYouMean.type = "DidYouMean";
var DidYouMean_default = DidYouMean;

// dist/src/parser/classes/DownloadButton.js
var DownloadButton = class extends YTNode {
  constructor(data) {
    super();
    this.style = data.style;
    this.size = data.size;
    this.endpoint = new NavigationEndpoint_default(data.command);
    this.target_id = data.targetId;
  }
};
__name(DownloadButton, "DownloadButton");
DownloadButton.type = "DownloadButton";
var DownloadButton_default = DownloadButton;

// dist/src/parser/classes/Element.js
var Element = class extends YTNode {
  constructor(data) {
    super();
    const type = data.newElement.type.componentType;
    this.model = Parser.parse(type.model);
  }
};
__name(Element, "Element");
Element.type = "Element";
var Element_default = Element;

// dist/src/parser/classes/EmergencyOnebox.js
var EmergencyOnebox = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.title);
    this.first_option = Parser.parse(data.firstOption);
    this.menu = Parser.parse(data.menu);
  }
};
__name(EmergencyOnebox, "EmergencyOnebox");
EmergencyOnebox.type = "EmergencyOnebox";
var EmergencyOnebox_default = EmergencyOnebox;

// dist/src/parser/classes/Endscreen.js
var Endscreen = class extends YTNode {
  constructor(data) {
    super();
    this.elements = Parser.parse(data.elements);
    this.start_ms = data.startMs;
  }
};
__name(Endscreen, "Endscreen");
Endscreen.type = "Endscreen";
var Endscreen_default = Endscreen;

// dist/src/parser/classes/EndscreenElement.js
var EndscreenElement = class extends YTNode {
  constructor(data) {
    super();
    this.style = `${data.style}`;
    this.title = new Text_default(data.title);
    this.endpoint = new NavigationEndpoint_default(data.endpoint);
    if (data.image) {
      this.image = Thumbnail_default.fromResponse(data.image);
    }
    if (data.icon) {
      this.icon = Thumbnail_default.fromResponse(data.icon);
    }
    if (data.metadata) {
      this.metadata = new Text_default(data.metadata);
    }
    if (data.callToAction) {
      this.call_to_action = new Text_default(data.callToAction);
    }
    if (data.hovercardButton) {
      this.hovercard_button = Parser.parseItem(data.hovercardButton);
    }
    if (data.isSubscribe) {
      this.is_subscribe = !!data.isSubscribe;
    }
    if (data.playlistLength) {
      this.playlist_length = new Text_default(data.playlistLength);
    }
    this.thumbnail_overlays = data.thumbnailOverlays
      ? Parser.parseArray(data.thumbnailOverlays)
      : void 0;
    this.left = parseFloat(data.left);
    this.width = parseFloat(data.width);
    this.top = parseFloat(data.top);
    this.aspect_ratio = parseFloat(data.aspectRatio);
    this.start_ms = parseFloat(data.startMs);
    this.end_ms = parseFloat(data.endMs);
    this.id = data.id;
  }
};
__name(EndscreenElement, "EndscreenElement");
EndscreenElement.type = "EndscreenElement";
var EndscreenElement_default = EndscreenElement;

// dist/src/parser/classes/EndScreenPlaylist.js
var EndScreenPlaylist = class extends YTNode {
  constructor(data) {
    super();
    this.id = data.playlistId;
    this.title = new Text_default(data.title);
    this.author = new Text_default(data.longBylineText);
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
    this.thumbnails = Thumbnail_default.fromResponse(data.thumbnail);
    this.video_count = new Text_default(data.videoCountText);
  }
};
__name(EndScreenPlaylist, "EndScreenPlaylist");
EndScreenPlaylist.type = "EndScreenPlaylist";
var EndScreenPlaylist_default = EndScreenPlaylist;

// dist/src/parser/classes/EndScreenVideo.js
var EndScreenVideo = class extends YTNode {
  constructor(data) {
    super();
    this.id = data.videoId;
    this.title = new Text_default(data.title);
    this.thumbnails = Thumbnail_default.fromResponse(data.thumbnail);
    this.thumbnail_overlays = Parser.parse(data.thumbnailOverlays);
    this.author = new Author_default(data.shortBylineText, data.ownerBadges);
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
    this.short_view_count_text = new Text_default(data.shortViewCountText);
    this.badges = Parser.parse(data.badges);
    this.duration = {
      text: new Text_default(data.lengthText).toString(),
      seconds: data.lengthInSeconds,
    };
  }
};
__name(EndScreenVideo, "EndScreenVideo");
EndScreenVideo.type = "EndScreenVideo";
var EndScreenVideo_default = EndScreenVideo;

// dist/src/parser/classes/ExpandableTab.js
var ExpandableTab = class extends YTNode {
  constructor(data) {
    super();
    this.title = data.title;
    this.endpoint = new NavigationEndpoint_default(data.endpoint);
    this.selected = data.selected;
    this.content = data.content ? Parser.parse(data.content) : null;
  }
};
__name(ExpandableTab, "ExpandableTab");
ExpandableTab.type = "ExpandableTab";
var ExpandableTab_default = ExpandableTab;

// dist/src/parser/classes/ExpandedShelfContents.js
var ExpandedShelfContents = class extends YTNode {
  constructor(data) {
    super();
    this.items = Parser.parse(data.items);
  }
  get contents() {
    return this.items;
  }
};
__name(ExpandedShelfContents, "ExpandedShelfContents");
ExpandedShelfContents.type = "ExpandedShelfContents";
var ExpandedShelfContents_default = ExpandedShelfContents;

// dist/src/parser/classes/FeedFilterChipBar.js
var FeedFilterChipBar = class extends YTNode {
  constructor(data) {
    super();
    this.contents = Parser.parse(data.contents);
  }
};
__name(FeedFilterChipBar, "FeedFilterChipBar");
FeedFilterChipBar.type = "FeedFilterChipBar";
var FeedFilterChipBar_default = FeedFilterChipBar;

// dist/src/parser/classes/FeedTabbedHeader.js
var FeedTabbedHeader = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.title);
  }
};
__name(FeedTabbedHeader, "FeedTabbedHeader");
FeedTabbedHeader.type = "FeedTabbedHeader";
var FeedTabbedHeader_default = FeedTabbedHeader;

// dist/src/parser/classes/Grid.js
var Grid = class extends YTNode {
  constructor(data) {
    super();
    this.items = Parser.parse(data.items);
    this.is_collapsible = data.isCollapsible;
    this.visible_row_count = data.visibleRowCount;
    this.target_id = data.targetId;
  }
  get contents() {
    return this.items;
  }
};
__name(Grid, "Grid");
Grid.type = "Grid";
var Grid_default = Grid;

// dist/src/parser/classes/GridChannel.js
var GridChannel = class extends YTNode {
  constructor(data) {
    super();
    this.id = data.channelId;
    this.author = new Author_default(
      Object.assign(Object.assign({}, data.title), {
        navigationEndpoint: data.navigationEndpoint,
      }),
      data.ownerBadges,
      data.thumbnail,
    );
    this.subscribers = new Text_default(data.subscriberCountText);
    this.video_count = new Text_default(data.videoCountText);
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
    this.subscribe_button = Parser.parse(data.subscribeButton);
  }
};
__name(GridChannel, "GridChannel");
GridChannel.type = "GridChannel";
var GridChannel_default = GridChannel;

// dist/src/parser/classes/GridPlaylist.js
var GridPlaylist = class extends YTNode {
  constructor(data) {
    var _a3;
    super();
    this.id = data.playlistId;
    this.title = new Text_default(data.title);
    if (data.shortBylineText) {
      this.author = new PlaylistAuthor_default(
        data.shortBylineText,
        data.ownerBadges,
      );
    }
    this.badges = Parser.parse(data.ownerBadges);
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
    this.view_playlist = new NavigatableText_default(data.viewPlaylistText);
    this.thumbnails = Thumbnail_default.fromResponse(data.thumbnail);
    this.thumbnail_renderer = Parser.parse(data.thumbnailRenderer);
    this.sidebar_thumbnails =
      [].concat(
        ...((_a3 = data.sidebarThumbnails) === null || _a3 === void 0
          ? void 0
          : _a3.map((thumbnail) =>
            Thumbnail_default.fromResponse(thumbnail)
          )) || [],
      ) || null;
    this.video_count = new Text_default(data.thumbnailText);
    this.video_count_short_text = new Text_default(data.videoCountShortText);
  }
};
__name(GridPlaylist, "GridPlaylist");
GridPlaylist.type = "GridPlaylist";
var GridPlaylist_default = GridPlaylist;

// dist/src/parser/classes/GridVideo.js
var GridVideo = class extends YTNode {
  constructor(data) {
    var _a3;
    super();
    const length_alt =
      (_a3 = data.thumbnailOverlays.find((overlay) =>
            overlay.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")
          )) === null || _a3 === void 0
        ? void 0
        : _a3.thumbnailOverlayTimeStatusRenderer;
    this.id = data.videoId;
    this.title = new Text_default(data.title);
    this.thumbnails = Thumbnail_default.fromResponse(data.thumbnail);
    this.thumbnail_overlays = Parser.parse(data.thumbnailOverlays);
    this.rich_thumbnail = data.richThumbnail &&
      Parser.parse(data.richThumbnail);
    this.published = new Text_default(data.publishedTimeText);
    this.duration = data.lengthText
      ? new Text_default(data.lengthText)
      : (length_alt === null || length_alt === void 0
          ? void 0
          : length_alt.text)
      ? new Text_default(length_alt.text)
      : "";
    this.author = data.shortBylineText &&
      new Author_default(data.shortBylineText, data.ownerBadges);
    this.views = new Text_default(data.viewCountText);
    this.short_view_count = new Text_default(data.shortViewCountText);
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
    this.menu = Parser.parse(data.menu);
  }
};
__name(GridVideo, "GridVideo");
GridVideo.type = "GridVideo";
var GridVideo_default = GridVideo;

// dist/src/parser/classes/SearchSuggestion.js
var SearchSuggestion = class extends YTNode {
  constructor(data) {
    super();
    this.suggestion = new Text_default(data.suggestion);
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
    this.icon_type = data.icon.iconType;
    if (data.serviceEndpoint) {
      this.service_endpoint = new NavigationEndpoint_default(
        data.serviceEndpoint,
      );
    }
  }
};
__name(SearchSuggestion, "SearchSuggestion");
SearchSuggestion.type = "SearchSuggestion";
var SearchSuggestion_default = SearchSuggestion;

// dist/src/parser/classes/HistorySuggestion.js
var HistorySuggestion = class extends SearchSuggestion_default {
  constructor(data) {
    super(data);
  }
};
__name(HistorySuggestion, "HistorySuggestion");
HistorySuggestion.type = "HistorySuggestion";
var HistorySuggestion_default = HistorySuggestion;

// dist/src/parser/classes/HorizontalCardList.js
var HorizontalCardList = class extends YTNode {
  constructor(data) {
    super();
    this.cards = Parser.parse(data.cards);
    this.header = Parser.parse(data.header);
    this.previous_button = Parser.parse(data.previousButton);
    this.next_button = Parser.parse(data.nextButton);
  }
};
__name(HorizontalCardList, "HorizontalCardList");
HorizontalCardList.type = "HorizontalCardList";
var HorizontalCardList_default = HorizontalCardList;

// dist/src/parser/classes/HorizontalList.js
var HorizontalList = class extends YTNode {
  constructor(data) {
    super();
    this.visible_item_count = data.visibleItemCount;
    this.items = Parser.parse(data.items);
  }
  get contents() {
    return this.items;
  }
};
__name(HorizontalList, "HorizontalList");
HorizontalList.type = "HorizontalList";
var HorizontalList_default = HorizontalList;

// dist/src/parser/classes/ItemSectionHeader.js
var ItemSectionHeader = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.title);
  }
};
__name(ItemSectionHeader, "ItemSectionHeader");
ItemSectionHeader.type = "ItemSectionHeader";
var ItemSectionHeader_default = ItemSectionHeader;

// dist/src/parser/classes/ItemSection.js
var ItemSection = class extends YTNode {
  constructor(data) {
    super();
    this.header = Parser.parseItem(data.header, ItemSectionHeader_default);
    this.contents = Parser.parse(data.contents, true);
    if (data.targetId || data.sectionIdentifier) {
      this.target_id =
        (data === null || data === void 0 ? void 0 : data.target_id) ||
        (data === null || data === void 0 ? void 0 : data.sectionIdentifier);
    }
  }
};
__name(ItemSection, "ItemSection");
ItemSection.type = "ItemSection";
var ItemSection_default = ItemSection;

// dist/src/parser/classes/LikeButton.js
var LikeButton = class extends YTNode {
  constructor(data) {
    var _a3;
    super();
    this.target = {
      video_id: data.target.videoId,
    };
    this.like_status = data.likeStatus;
    this.likes_allowed = data.likesAllowed;
    if (data.serviceEndpoints) {
      this.endpoints = (_a3 = data.serviceEndpoints) === null || _a3 === void 0
        ? void 0
        : _a3.map((endpoint) => new NavigationEndpoint_default(endpoint));
    }
  }
};
__name(LikeButton, "LikeButton");
LikeButton.type = "LikeButton";
var LikeButton_default = LikeButton;

// dist/src/parser/classes/LiveChat.js
var LiveChat = class extends YTNode {
  constructor(data) {
    var _a3, _b;
    super();
    this.header = Parser.parse(data.header);
    this.initial_display_state = data.initialDisplayState;
    this.continuation =
      (_b = (_a3 = data.continuations[0]) === null || _a3 === void 0
            ? void 0
            : _a3.reloadContinuationData) === null || _b === void 0
        ? void 0
        : _b.continuation;
    this.client_messages = {
      reconnect_message: new Text_default(data.clientMessages.reconnectMessage),
      unable_to_reconnect_message: new Text_default(
        data.clientMessages.unableToReconnectMessage,
      ),
      fatal_error: new Text_default(data.clientMessages.fatalError),
      reconnected_message: new Text_default(
        data.clientMessages.reconnectedMessage,
      ),
      generic_error: new Text_default(data.clientMessages.genericError),
    };
    this.is_replay = data.isReplay || false;
  }
};
__name(LiveChat, "LiveChat");
LiveChat.type = "LiveChat";
var LiveChat_default = LiveChat;

// dist/src/parser/classes/livechat/AddBannerToLiveChatCommand.js
var AddBannerToLiveChatCommand = class extends YTNode {
  constructor(data) {
    super();
    return Parser.parse(data.bannerRenderer);
  }
};
__name(AddBannerToLiveChatCommand, "AddBannerToLiveChatCommand");
AddBannerToLiveChatCommand.type = "AddBannerToLiveChatCommand";
var AddBannerToLiveChatCommand_default = AddBannerToLiveChatCommand;

// dist/src/parser/classes/livechat/AddChatItemAction.js
var AddChatItemAction = class extends YTNode {
  constructor(data) {
    super();
    this.item = Parser.parseItem(data.item);
    this.client_id = data.clientId || null;
  }
};
__name(AddChatItemAction, "AddChatItemAction");
AddChatItemAction.type = "AddChatItemAction";
var AddChatItemAction_default = AddChatItemAction;

// dist/src/parser/classes/livechat/AddLiveChatTickerItemAction.js
var AddLiveChatTickerItemAction = class extends YTNode {
  constructor(data) {
    super();
    this.item = Parser.parseItem(data.item);
    this.duration_sec = data.durationSec;
  }
};
__name(AddLiveChatTickerItemAction, "AddLiveChatTickerItemAction");
AddLiveChatTickerItemAction.type = "AddLiveChatTickerItemAction";
var AddLiveChatTickerItemAction_default = AddLiveChatTickerItemAction;

// dist/src/parser/classes/livechat/items/LiveChatBanner.js
var LiveChatBanner = class extends YTNode {
  constructor(data) {
    super();
    this.header = Parser.parse(data.header);
    this.contents = Parser.parse(data.contents);
    this.action_id = data.actionId;
    this.viewer_is_creator = data.viewerIsCreator;
    this.target_id = data.targetId;
    this.is_stackable = data.isStackable;
    this.background_type = data.backgroundType;
  }
};
__name(LiveChatBanner, "LiveChatBanner");
LiveChatBanner.type = "LiveChatBanner";
var LiveChatBanner_default = LiveChatBanner;

// dist/src/parser/classes/livechat/items/LiveChatBannerHeader.js
var LiveChatBannerHeader = class extends YTNode {
  constructor(data) {
    super();
    this.text = new Text_default(data.text).toString();
    this.icon_type = data.icon.iconType;
    this.context_menu_button = Parser.parse(data.contextMenuButton);
  }
};
__name(LiveChatBannerHeader, "LiveChatBannerHeader");
LiveChatBannerHeader.type = "LiveChatBannerHeader";
var LiveChatBannerHeader_default = LiveChatBannerHeader;

// dist/src/parser/classes/livechat/items/LiveChatBannerPoll.js
var LiveChatBannerPoll = class extends YTNode {
  constructor(data) {
    super();
    this.poll_question = new Text_default(data.pollQuestion);
    this.author_photo = Thumbnail_default.fromResponse(data.authorPhoto);
    this.choices = data.pollChoices.map((choice) => ({
      option_id: choice.pollOptionId,
      text: new Text_default(choice.text).toString(),
    }));
    this.collapsed_state_entity_key = data.collapsedStateEntityKey;
    this.live_chat_poll_state_entity_key = data.liveChatPollStateEntityKey;
    this.context_menu_button = Parser.parse(data.contextMenuButton);
  }
};
__name(LiveChatBannerPoll, "LiveChatBannerPoll");
LiveChatBannerPoll.type = "LiveChatBannerPoll";
var LiveChatBannerPoll_default = LiveChatBannerPoll;

// dist/src/parser/classes/livechat/items/LiveChatMembershipItem.js
var LiveChatMembershipItem = class extends YTNode {
  constructor(data) {
    super();
    this.id = data.id;
    this.timestamp = Math.floor(parseInt(data.timestampUsec) / 1e3);
    this.header_subtext = new Text_default(data.headerSubtext);
    this.author = {
      id: data.authorExternalChannelId,
      name: new Text_default(
        data === null || data === void 0 ? void 0 : data.authorName,
      ),
      thumbnails: Thumbnail_default.fromResponse(data.authorPhoto),
      badges: Parser.parse(data.authorBadges),
    };
    this.menu_endpoint = new NavigationEndpoint_default(
      data.contextMenuEndpoint,
    );
  }
};
__name(LiveChatMembershipItem, "LiveChatMembershipItem");
LiveChatMembershipItem.type = "LiveChatMembershipItem";
var LiveChatMembershipItem_default = LiveChatMembershipItem;

// dist/src/parser/classes/livechat/items/LiveChatPaidMessage.js
var LiveChatPaidMessage = class extends YTNode {
  constructor(data) {
    super();
    this.message = new Text_default(data.message);
    this.author = {
      id: data.authorExternalChannelId,
      name: new Text_default(data.authorName),
      thumbnails: Thumbnail_default.fromResponse(data.authorPhoto),
      badges: Parser.parse(data.authorBadges),
    };
    const badges = Parser.parse(data.authorBadges);
    this.author.badges = badges;
    this.author.is_moderator =
      (badges === null || badges === void 0
        ? void 0
        : badges.some((badge) => badge.icon_type == "MODERATOR")) || null;
    this.author.is_verified =
      (badges === null || badges === void 0
        ? void 0
        : badges.some((badge) => badge.style == "BADGE_STYLE_TYPE_VERIFIED")) ||
      null;
    this.author.is_verified_artist =
      (badges === null || badges === void 0
        ? void 0
        : badges.some((badge) =>
          badge.style == "BADGE_STYLE_TYPE_VERIFIED_ARTIST"
        )) || null;
    this.purchase_amount = new Text_default(data.purchaseAmountText).toString();
    this.menu_endpoint = new NavigationEndpoint_default(
      data.contextMenuEndpoint,
    );
    this.timestamp = Math.floor(parseInt(data.timestampUsec) / 1e3);
    this.timestamp_text = new Text_default(data.timestampText).toString();
    this.id = data.id;
  }
};
__name(LiveChatPaidMessage, "LiveChatPaidMessage");
LiveChatPaidMessage.type = "LiveChatPaidMessage";
var LiveChatPaidMessage_default = LiveChatPaidMessage;

// dist/src/parser/classes/livechat/items/LiveChatPaidSticker.js
var LiveChatPaidSticker = class extends YTNode {
  constructor(data) {
    super();
    this.id = data.id;
    this.author = {
      id: data.authorExternalChannelId,
      name: new Text_default(data.authorName),
      thumbnails: Thumbnail_default.fromResponse(data.authorPhoto),
      badges: Parser.parse(data.authorBadges),
    };
    this.sticker = Thumbnail_default.fromResponse(data.sticker);
    this.purchase_amount = new Text_default(data.purchaseAmountText).toString();
    this.context_menu = new NavigationEndpoint_default(
      data.contextMenuEndpoint,
    );
    this.timestamp = Math.floor(parseInt(data.timestampUsec) / 1e3);
  }
};
__name(LiveChatPaidSticker, "LiveChatPaidSticker");
LiveChatPaidSticker.type = "LiveChatPaidSticker";
var LiveChatPaidSticker_default = LiveChatPaidSticker;

// dist/src/parser/classes/livechat/items/LiveChatPlaceholderItem.js
var LiveChatPlaceholderItem = class extends YTNode {
  constructor(data) {
    super();
    this.id = data.id;
    this.timestamp = Math.floor(parseInt(data.timestampUsec) / 1e3);
  }
};
__name(LiveChatPlaceholderItem, "LiveChatPlaceholderItem");
LiveChatPlaceholderItem.type = "LiveChatPlaceholderItem";
var LiveChatPlaceholderItem_default = LiveChatPlaceholderItem;

// dist/src/parser/classes/livechat/items/LiveChatProductItem.js
var LiveChatProductItem = class extends YTNode {
  constructor(data) {
    super();
    this.title = data.title;
    this.accessibility_title = data.accessibilityTitle;
    this.thumbnail = Thumbnail_default.fromResponse(data.thumbnail);
    this.price = data.price;
    this.vendor_name = data.vendorName;
    this.from_vendor_text = data.fromVendorText;
    this.information_button = Parser.parse(data.informationButton);
    this.endpoint = new NavigationEndpoint_default(data.onClickCommand);
    this.creator_message = data.creatorMessage;
    this.creator_name = data.creatorName;
    this.author_photo = Thumbnail_default.fromResponse(data.authorPhoto);
    this.information_dialog = Parser.parse(data.informationDialog);
    this.is_verified = data.isVerified;
    this.creator_custom_message = new Text_default(data.creatorCustomMessage);
  }
};
__name(LiveChatProductItem, "LiveChatProductItem");
LiveChatProductItem.type = "LiveChatProductItem";
var LiveChatProductItem_default = LiveChatProductItem;

// dist/src/parser/classes/livechat/items/LiveChatTextMessage.js
var LiveChatTextMessage = class extends YTNode {
  constructor(data) {
    super();
    this.message = new Text_default(data.message);
    this.author = {
      id: data.authorExternalChannelId,
      name: new Text_default(data.authorName),
      thumbnails: Thumbnail_default.fromResponse(data.authorPhoto),
    };
    const badges = Parser.parse(data.authorBadges);
    this.author.badges = badges;
    this.author.is_moderator = badges
      ? badges.some((badge) => badge.icon_type == "MODERATOR")
      : null;
    this.author.is_verified = badges
      ? badges.some((badge) => badge.style == "BADGE_STYLE_TYPE_VERIFIED")
      : null;
    this.author.is_verified_artist = badges
      ? badges.some((badge) =>
        badge.style == "BADGE_STYLE_TYPE_VERIFIED_ARTIST"
      )
      : null;
    this.menu_endpoint = new NavigationEndpoint_default(
      data.contextMenuEndpoint,
    );
    this.timestamp = Math.floor(parseInt(data.timestampUsec) / 1e3);
    this.id = data.id;
  }
};
__name(LiveChatTextMessage, "LiveChatTextMessage");
LiveChatTextMessage.type = "LiveChatTextMessage";
var LiveChatTextMessage_default = LiveChatTextMessage;

// dist/src/parser/classes/livechat/items/LiveChatTickerPaidMessageItem.js
var LiveChatTickerPaidMessageItem = class extends YTNode {
  constructor(data) {
    super();
    this.author = {
      id: data.authorExternalChannelId,
      thumbnails: Thumbnail_default.fromResponse(data.authorPhoto),
      badges: Parser.parse(data.authorBadges),
    };
    const badges = Parser.parse(data.authorBadges);
    this.author.badges = badges;
    this.author.is_moderator =
      (badges === null || badges === void 0
        ? void 0
        : badges.some((badge) => badge.icon_type == "MODERATOR")) || null;
    this.author.is_verified =
      (badges === null || badges === void 0
        ? void 0
        : badges.some((badge) => badge.style == "BADGE_STYLE_TYPE_VERIFIED")) ||
      null;
    this.author.is_verified_artist =
      (badges === null || badges === void 0
        ? void 0
        : badges.some((badge) =>
          badge.style == "BADGE_STYLE_TYPE_VERIFIED_ARTIST"
        )) || null;
    this.amount = new Text_default(data.amount);
    this.duration_sec = data.durationSec;
    this.full_duration_sec = data.fullDurationSec;
    this.show_item = Parser.parse(
      data.showItemEndpoint.showLiveChatItemEndpoint.renderer,
      "livechat/items",
    );
    this.show_item_endpoint = new NavigationEndpoint_default(
      data.showItemEndpoint,
    );
    this.id = data.id;
  }
};
__name(LiveChatTickerPaidMessageItem, "LiveChatTickerPaidMessageItem");
LiveChatTickerPaidMessageItem.type = "LiveChatTickerPaidMessageItem";
var LiveChatTickerPaidMessageItem_default = LiveChatTickerPaidMessageItem;

// dist/src/parser/classes/livechat/items/LiveChatTickerSponsorItem.js
var LiveChatTickerSponsorItem = class extends YTNode {
  constructor(data) {
    super();
    this.id = data.id;
    this.detail_text = new Text_default(data.detailText).toString();
    this.author = {
      id: data.authorExternalChannelId,
      name: new Text_default(
        data === null || data === void 0 ? void 0 : data.authorName,
      ),
      thumbnails: Thumbnail_default.fromResponse(data.sponsorPhoto),
    };
    this.duration_sec = data.durationSec;
  }
};
__name(LiveChatTickerSponsorItem, "LiveChatTickerSponsorItem");
LiveChatTickerSponsorItem.type = "LiveChatTickerSponsorItem";
var LiveChatTickerSponsorItem_default = LiveChatTickerSponsorItem;

// dist/src/parser/classes/livechat/items/LiveChatViewerEngagementMessage.js
var LiveChatViewerEngagementMessage = class
  extends LiveChatTextMessage_default {
  constructor(data) {
    super(data);
    delete this.author;
    delete this.menu_endpoint;
    this.icon_type = data.icon.iconType;
    this.action_button = Parser.parse(data.actionButton);
  }
};
__name(LiveChatViewerEngagementMessage, "LiveChatViewerEngagementMessage");
LiveChatViewerEngagementMessage.type = "LiveChatViewerEngagementMessage";
var LiveChatViewerEngagementMessage_default = LiveChatViewerEngagementMessage;

// dist/src/parser/classes/livechat/items/PollHeader.js
var PollHeader = class extends YTNode {
  constructor(data) {
    super();
    this.poll_question = new Text_default(data.pollQuestion);
    this.thumbnails = Thumbnail_default.fromResponse(data.thumbnail);
    this.metadata = new Text_default(data.metadataText);
    this.live_chat_poll_type = data.liveChatPollType;
    this.context_menu_button = Parser.parse(data.contextMenuButton);
  }
};
__name(PollHeader, "PollHeader");
PollHeader.type = "PollHeader";
var PollHeader_default = PollHeader;

// dist/src/parser/classes/livechat/LiveChatActionPanel.js
var LiveChatActionPanel = class extends YTNode {
  constructor(data) {
    super();
    this.id = data.id;
    this.contents = Parser.parse(data.contents);
    this.target_id = data.targetId;
  }
};
__name(LiveChatActionPanel, "LiveChatActionPanel");
LiveChatActionPanel.type = "LiveChatActionPanel";
var LiveChatActionPanel_default = LiveChatActionPanel;

// dist/src/parser/classes/livechat/MarkChatItemAsDeletedAction.js
var MarkChatItemAsDeletedAction = class extends YTNode {
  constructor(data) {
    super();
    this.deleted_state_message = new Text_default(data.deletedStateMessage);
    this.target_item_id = data.targetItemId;
  }
};
__name(MarkChatItemAsDeletedAction, "MarkChatItemAsDeletedAction");
MarkChatItemAsDeletedAction.type = "MarkChatItemAsDeletedAction";
var MarkChatItemAsDeletedAction_default = MarkChatItemAsDeletedAction;

// dist/src/parser/classes/livechat/MarkChatItemsByAuthorAsDeletedAction.js
var MarkChatItemsByAuthorAsDeletedAction = class extends YTNode {
  constructor(data) {
    super();
    this.deleted_state_message = new Text_default(data.deletedStateMessage);
    this.channel_id = data.externalChannelId;
  }
};
__name(
  MarkChatItemsByAuthorAsDeletedAction,
  "MarkChatItemsByAuthorAsDeletedAction",
);
MarkChatItemsByAuthorAsDeletedAction.type =
  "MarkChatItemsByAuthorAsDeletedAction";
var MarkChatItemsByAuthorAsDeletedAction_default =
  MarkChatItemsByAuthorAsDeletedAction;

// dist/src/parser/classes/livechat/RemoveBannerForLiveChatCommand.js
var RemoveBannerForLiveChatCommand = class extends YTNode {
  constructor(data) {
    super();
    this.target_action_id = data.targetActionId;
  }
};
__name(RemoveBannerForLiveChatCommand, "RemoveBannerForLiveChatCommand");
RemoveBannerForLiveChatCommand.type = "RemoveBannerForLiveChatCommand";
var RemoveBannerForLiveChatCommand_default = RemoveBannerForLiveChatCommand;

// dist/src/parser/classes/livechat/ReplaceChatItemAction.js
var ReplaceChatItemAction = class extends YTNode {
  constructor(data) {
    super();
    this.target_item_id = data.targetItemId;
    this.replacement_item = Parser.parse(data.replacementItem);
  }
};
__name(ReplaceChatItemAction, "ReplaceChatItemAction");
ReplaceChatItemAction.type = "ReplaceChatItemAction";
var ReplaceChatItemAction_default = ReplaceChatItemAction;

// dist/src/parser/classes/livechat/ReplayChatItemAction.js
var ReplayChatItemAction = class extends YTNode {
  constructor(data) {
    var _a3;
    super();
    this.actions =
      Parser.parse(
        (_a3 = data.actions) === null || _a3 === void 0
          ? void 0
          : _a3.map((action) => {
            delete action.clickTrackingParams;
            return action;
          }),
      ) || [];
    this.video_offset_time_msec = data.videoOffsetTimeMsec;
  }
};
__name(ReplayChatItemAction, "ReplayChatItemAction");
ReplayChatItemAction.type = "ReplayChatItemAction";
var ReplayChatItemAction_default = ReplayChatItemAction;

// dist/src/parser/classes/livechat/ShowLiveChatActionPanelAction.js
var ShowLiveChatActionPanelAction = class extends YTNode {
  constructor(data) {
    super();
    this.panel_to_show = Parser.parse(data.panelToShow);
  }
};
__name(ShowLiveChatActionPanelAction, "ShowLiveChatActionPanelAction");
ShowLiveChatActionPanelAction.type = "ShowLiveChatActionPanelAction";
var ShowLiveChatActionPanelAction_default = ShowLiveChatActionPanelAction;

// dist/src/parser/classes/livechat/ShowLiveChatTooltipCommand.js
var ShowLiveChatTooltipCommand = class extends YTNode {
  constructor(data) {
    super();
    this.tooltip = Parser.parse(data.tooltip);
  }
};
__name(ShowLiveChatTooltipCommand, "ShowLiveChatTooltipCommand");
ShowLiveChatTooltipCommand.type = "ShowLiveChatTooltipCommand";
var ShowLiveChatTooltipCommand_default = ShowLiveChatTooltipCommand;

// dist/src/parser/classes/livechat/UpdateDateTextAction.js
var UpdateDateTextAction = class extends YTNode {
  constructor(data) {
    super();
    this.date_text = new Text_default(data.dateText).toString();
  }
};
__name(UpdateDateTextAction, "UpdateDateTextAction");
UpdateDateTextAction.type = "UpdateDateTextAction";
var UpdateDateTextAction_default = UpdateDateTextAction;

// dist/src/parser/classes/livechat/UpdateDescriptionAction.js
var UpdateDescriptionAction = class extends YTNode {
  constructor(data) {
    super();
    this.description = new Text_default(data.description);
  }
};
__name(UpdateDescriptionAction, "UpdateDescriptionAction");
UpdateDescriptionAction.type = "UpdateDescriptionAction";
var UpdateDescriptionAction_default = UpdateDescriptionAction;

// dist/src/parser/classes/livechat/UpdateLiveChatPollAction.js
var UpdateLiveChatPollAction = class extends YTNode {
  constructor(data) {
    super();
    this.poll_to_update = Parser.parse(data.pollToUpdate);
  }
};
__name(UpdateLiveChatPollAction, "UpdateLiveChatPollAction");
UpdateLiveChatPollAction.type = "UpdateLiveChatPollAction";
var UpdateLiveChatPollAction_default = UpdateLiveChatPollAction;

// dist/src/parser/classes/livechat/UpdateTitleAction.js
var UpdateTitleAction = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.title);
  }
};
__name(UpdateTitleAction, "UpdateTitleAction");
UpdateTitleAction.type = "UpdateTitleAction";
var UpdateTitleAction_default = UpdateTitleAction;

// dist/src/parser/classes/livechat/UpdateToggleButtonTextAction.js
var UpdateToggleButtonTextAction = class extends YTNode {
  constructor(data) {
    super();
    this.default_text = new Text_default(data.defaultText).toString();
    this.toggled_text = new Text_default(data.toggledText).toString();
    this.button_id = data.buttonId;
  }
};
__name(UpdateToggleButtonTextAction, "UpdateToggleButtonTextAction");
UpdateToggleButtonTextAction.type = "UpdateToggleButtonTextAction";
var UpdateToggleButtonTextAction_default = UpdateToggleButtonTextAction;

// dist/src/parser/classes/livechat/UpdateViewershipAction.js
var UpdateViewershipAction = class extends YTNode {
  constructor(data) {
    super();
    const view_count_renderer = data.viewCount.videoViewCountRenderer;
    this.view_count = new Text_default(view_count_renderer.viewCount);
    this.extra_short_view_count = new Text_default(
      view_count_renderer.extraShortViewCount,
    );
    this.is_live = view_count_renderer.isLive;
  }
};
__name(UpdateViewershipAction, "UpdateViewershipAction");
UpdateViewershipAction.type = "UpdateViewershipAction";
var UpdateViewershipAction_default = UpdateViewershipAction;

// dist/src/parser/classes/MetadataBadge.js
var MetadataBadge = class extends YTNode {
  constructor(data) {
    super();
    if (data === null || data === void 0 ? void 0 : data.icon) {
      this.icon_type = data.icon.iconType;
    }
    if (data === null || data === void 0 ? void 0 : data.style) {
      this.style = data.style;
    }
    this.tooltip = (data === null || data === void 0 ? void 0 : data.tooltip) ||
      (data === null || data === void 0 ? void 0 : data.iconTooltip) || null;
  }
};
__name(MetadataBadge, "MetadataBadge");
MetadataBadge.type = "MetadataBadge";
var MetadataBadge_default = MetadataBadge;

// dist/src/parser/classes/LiveChatAuthorBadge.js
var LiveChatAuthorBadge = class extends MetadataBadge_default {
  constructor(data) {
    super(data);
    this.custom_thumbnail = data.customThumbnail
      ? Thumbnail_default.fromResponse(data.customThumbnail)
      : null;
  }
};
__name(LiveChatAuthorBadge, "LiveChatAuthorBadge");
LiveChatAuthorBadge.type = "LiveChatAuthorBadge";
var LiveChatAuthorBadge_default = LiveChatAuthorBadge;

// dist/src/parser/classes/LiveChatHeader.js
var LiveChatHeader = class extends YTNode {
  constructor(data) {
    super();
    this.overflow_menu = Parser.parse(data.overflowMenu);
    this.collapse_button = Parser.parse(data.collapseButton);
    this.view_selector = Parser.parse(data.viewSelector);
  }
};
__name(LiveChatHeader, "LiveChatHeader");
LiveChatHeader.type = "LiveChatHeader";
var LiveChatHeader_default = LiveChatHeader;

// dist/src/parser/classes/LiveChatItemList.js
var LiveChatItemList = class extends YTNode {
  constructor(data) {
    super();
    this.max_items_to_display = data.maxItemsToDisplay;
    this.more_comments_below_button = Parser.parse(
      data.moreCommentsBelowButton,
    );
  }
};
__name(LiveChatItemList, "LiveChatItemList");
LiveChatItemList.type = "LiveChatItemList";
var LiveChatItemList_default = LiveChatItemList;

// dist/src/parser/classes/LiveChatMessageInput.js
var LiveChatMessageInput = class extends YTNode {
  constructor(data) {
    super();
    this.author_name = new Text_default(data.authorName);
    this.author_photo = Thumbnail_default.fromResponse(data.authorPhoto);
    this.send_button = Parser.parse(data.sendButton);
    this.target_id = data.targetId;
  }
};
__name(LiveChatMessageInput, "LiveChatMessageInput");
LiveChatMessageInput.type = "LiveChatMessageInput";
var LiveChatMessageInput_default = LiveChatMessageInput;

// dist/src/parser/classes/LiveChatParticipant.js
var LiveChatParticipant = class extends YTNode {
  constructor(data) {
    super();
    this.name = new Text_default(data.authorName);
    this.photo = Thumbnail_default.fromResponse(data.authorPhoto);
    this.badges = Parser.parse(data.authorBadges);
  }
};
__name(LiveChatParticipant, "LiveChatParticipant");
LiveChatParticipant.type = "LiveChatParticipant";
var LiveChatParticipant_default = LiveChatParticipant;

// dist/src/parser/classes/LiveChatParticipantsList.js
var LiveChatParticipantsList = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.title);
    this.participants = Parser.parse(data.participants);
  }
};
__name(LiveChatParticipantsList, "LiveChatParticipantsList");
LiveChatParticipantsList.type = "LiveChatParticipantsList";
var LiveChatParticipantsList_default = LiveChatParticipantsList;

// dist/src/parser/classes/menus/Menu.js
var Menu = class extends YTNode {
  constructor(data) {
    var _a3, _b;
    super();
    this.items = Parser.parseArray(data.items);
    this.top_level_buttons = Parser.parseArray(data.topLevelButtons);
    this.label =
      ((_b = (_a3 = data.accessibility) === null || _a3 === void 0
              ? void 0
              : _a3.accessibilityData) === null || _b === void 0
        ? void 0
        : _b.label) || null;
  }
  get contents() {
    return this.items;
  }
};
__name(Menu, "Menu");
Menu.type = "Menu";
var Menu_default = Menu;

// dist/src/parser/classes/menus/MenuNavigationItem.js
var MenuNavigationItem = class extends Button_default {
  constructor(data) {
    super(data);
  }
};
__name(MenuNavigationItem, "MenuNavigationItem");
MenuNavigationItem.type = "MenuNavigationItem";
var MenuNavigationItem_default = MenuNavigationItem;

// dist/src/parser/classes/menus/MenuServiceItem.js
var MenuServiceItem = class extends Button_default {
  constructor(data) {
    super(data);
  }
};
__name(MenuServiceItem, "MenuServiceItem");
MenuServiceItem.type = "MenuServiceItem";
var MenuServiceItem_default = MenuServiceItem;

// dist/src/parser/classes/menus/MenuServiceItemDownload.js
var MenuServiceItemDownload = class extends YTNode {
  constructor(data) {
    super();
    this.has_separator = data.hasSeparator;
    this.endpoint = new NavigationEndpoint_default(
      data.navigationEndpoint || data.serviceEndpoint,
    );
  }
};
__name(MenuServiceItemDownload, "MenuServiceItemDownload");
MenuServiceItemDownload.type = "MenuServiceItemDownload";
var MenuServiceItemDownload_default = MenuServiceItemDownload;

// dist/src/parser/classes/menus/MultiPageMenu.js
var MultiPageMenu = class extends YTNode {
  constructor(data) {
    super();
    this.header = Parser.parse(data.header);
    this.sections = Parser.parse(data.sections);
    this.style = data.style;
  }
};
__name(MultiPageMenu, "MultiPageMenu");
MultiPageMenu.type = "MultiPageMenu";
var MultiPageMenu_default = MultiPageMenu;

// dist/src/parser/classes/menus/MultiPageMenuNotificationSection.js
var MultiPageMenuNotificationSection = class extends YTNode {
  constructor(data) {
    super();
    this.items = Parser.parse(data.items);
  }
  get contents() {
    return this.items;
  }
};
__name(MultiPageMenuNotificationSection, "MultiPageMenuNotificationSection");
MultiPageMenuNotificationSection.type = "MultiPageMenuNotificationSection";
var MultiPageMenuNotificationSection_default = MultiPageMenuNotificationSection;

// dist/src/parser/classes/menus/SimpleMenuHeader.js
var SimpleMenuHeader = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.title);
    this.buttons = Parser.parse(data.buttons);
  }
};
__name(SimpleMenuHeader, "SimpleMenuHeader");
SimpleMenuHeader.type = "SimpleMenuHeader";
var SimpleMenuHeader_default = SimpleMenuHeader;

// dist/src/parser/classes/MerchandiseItem.js
var MerchandiseItem = class extends YTNode {
  constructor(data) {
    super();
    this.title = data.title;
    this.description = data.description;
    this.thumbnails = Thumbnail_default.fromResponse(data.thumbnail);
    this.price = data.price;
    this.vendor_name = data.vendorName;
    this.button_text = data.buttonText;
    this.button_accessibility_text = data.buttonAccessibilityText;
    this.from_vendor_text = data.fromVendorText;
    this.additional_fees_text = data.additionalFeesText;
    this.region_format = data.regionFormat;
    this.endpoint = new NavigationEndpoint_default(data.buttonCommand);
  }
};
__name(MerchandiseItem, "MerchandiseItem");
MerchandiseItem.type = "MerchandiseItem";
var MerchandiseItem_default = MerchandiseItem;

// dist/src/parser/classes/MerchandiseShelf.js
var MerchandiseShelf = class extends YTNode {
  constructor(data) {
    super();
    this.title = data.title;
    this.menu = Parser.parse(data.actionButton);
    this.items = Parser.parse(data.items);
  }
  get contents() {
    return this.items;
  }
};
__name(MerchandiseShelf, "MerchandiseShelf");
MerchandiseShelf.type = "MerchandiseShelf";
var MerchandiseShelf_default = MerchandiseShelf;

// dist/src/parser/classes/Message.js
var Message = class extends YTNode {
  constructor(data) {
    super();
    this.text = new Text_default(data.text).toString();
  }
};
__name(Message, "Message");
Message.type = "Message";
var Message_default = Message;

// dist/src/parser/classes/MetadataRow.js
var MetadataRow = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.title);
    this.contents = data.contents.map((content) => new Text_default(content));
  }
};
__name(MetadataRow, "MetadataRow");
MetadataRow.type = "MetadataRow";
var MetadataRow_default = MetadataRow;

// dist/src/parser/classes/MetadataRowContainer.js
var MetadataRowContainer = class extends YTNode {
  constructor(data) {
    super();
    this.rows = Parser.parseArray(data.rows);
    this.collapsed_item_count = data.collapsedItemCount;
  }
};
__name(MetadataRowContainer, "MetadataRowContainer");
MetadataRowContainer.type = "MetadataRowContainer";
var MetadataRowContainer_default = MetadataRowContainer;

// dist/src/parser/classes/MetadataRowHeader.js
var MetadataRowHeader = class extends YTNode {
  constructor(data) {
    super();
    this.content = new Text_default(data.content);
    this.has_divider_line = data.hasDividerLine;
  }
};
__name(MetadataRowHeader, "MetadataRowHeader");
MetadataRowHeader.type = "MetadataRowHeader";
var MetadataRowHeader_default = MetadataRowHeader;

// dist/src/parser/classes/MicroformatData.js
var MicroformatData = class extends YTNode {
  constructor(data) {
    super();
    this.url_canonical = data.urlCanonical;
    this.title = data.title;
    this.description = data.description;
    this.thumbnail = data.thumbnail &&
      Thumbnail_default.fromResponse(data.thumbnail);
    this.site_name = data.siteName;
    this.app_name = data.appName;
    this.android_package = data.androidPackage;
    this.ios_app_store_id = data.iosAppStoreId;
    this.ios_app_arguments = data.iosAppArguments;
    this.og_type = data.ogType;
    this.url_applinks_web = data.urlApplinksWeb;
    this.url_applinks_ios = data.urlApplinksIos;
    this.url_applinks_android = data.urlApplinksAndroid;
    this.url_twitter_ios = data.urlTwitterIos;
    this.url_twitter_android = data.urlTwitterAndroid;
    this.twitter_card_type = data.twitterCardType;
    this.twitter_site_handle = data.twitterSiteHandle;
    this.schema_dot_org_type = data.schemaDotOrgType;
    this.noindex = data.noindex;
    this.is_unlisted = data.unlisted;
    this.is_family_safe = data.familySafe;
    this.tags = data.tags;
    this.available_countries = data.availableCountries;
  }
};
__name(MicroformatData, "MicroformatData");
MicroformatData.type = "MicroformatData";
var MicroformatData_default = MicroformatData;

// dist/src/parser/classes/Mix.js
var Mix = class extends Playlist_default {
  constructor(data) {
    super(data);
  }
};
__name(Mix, "Mix");
Mix.type = "Mix";
var Mix_default = Mix;

// dist/src/parser/classes/Movie.js
var Movie = class extends YTNode {
  constructor(data) {
    var _a3, _b, _c;
    super();
    const overlay_time_status =
      ((_a3 = data.thumbnailOverlays.find((overlay) =>
              overlay.thumbnailOverlayTimeStatusRenderer
            )) === null || _a3 === void 0
        ? void 0
        : _a3.thumbnailOverlayTimeStatusRenderer.text) || "N/A";
    this.id = data.videoId;
    this.title = new Text_default(data.title);
    this.description_snippet = data.descriptionSnippet
      ? new Text_default(data.descriptionSnippet, "")
      : null;
    this.top_metadata_items = new Text_default(data.topMetadataItems);
    this.thumbnails = Thumbnail_default.fromResponse(data.thumbnail);
    this.thumbnail_overlays = Parser.parse(data.thumbnailOverlays);
    this.author = new Author_default(
      data.longBylineText,
      data.ownerBadges,
      (_c =
            (_b = data.channelThumbnailSupportedRenderers) === null ||
              _b === void 0
              ? void 0
              : _b.channelThumbnailWithLinkRenderer) === null || _c === void 0
        ? void 0
        : _c.thumbnail,
    );
    this.duration = {
      text: data.lengthText
        ? new Text_default(data.lengthText).text
        : new Text_default(overlay_time_status).text,
      seconds: timeToSeconds(
        data.lengthText
          ? new Text_default(data.lengthText).text
          : new Text_default(overlay_time_status).text,
      ),
    };
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
    this.badges = Parser.parse(data.badges);
    this.use_vertical_poster = data.useVerticalPoster;
    this.show_action_menu = data.showActionMenu;
    this.menu = Parser.parse(data.menu);
  }
};
__name(Movie, "Movie");
Movie.type = "Movie";
var Movie_default = Movie;

// dist/src/parser/classes/MovingThumbnail.js
var MovingThumbnail = class extends YTNode {
  constructor(data) {
    var _a3;
    super();
    return (_a3 = data.movingThumbnailDetails) === null || _a3 === void 0
      ? void 0
      : _a3.thumbnails.map((thumbnail) => new Thumbnail_default(thumbnail))
        .sort((a, b) => b.width - a.width);
  }
};
__name(MovingThumbnail, "MovingThumbnail");
MovingThumbnail.type = "MovingThumbnail";
var MovingThumbnail_default = MovingThumbnail;

// dist/src/parser/classes/MusicTwoRowItem.js
var MusicTwoRowItem = class extends YTNode {
  constructor(data) {
    var _a3, _b, _c, _d, _e, _f, _g, _h;
    super();
    this.title = new Text_default(data.title);
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
    this.id =
      ((_b = (_a3 = this.endpoint) === null || _a3 === void 0
              ? void 0
              : _a3.browse) === null || _b === void 0
        ? void 0
        : _b.id) ||
      ((_d = (_c = this.endpoint) === null || _c === void 0
              ? void 0
              : _c.watch) === null || _d === void 0
        ? void 0
        : _d.video_id);
    this.subtitle = new Text_default(data.subtitle);
    this.badges = Parser.parse(data.subtitleBadges);
    switch (
      (_f = (_e = this.endpoint) === null || _e === void 0
            ? void 0
            : _e.browse) === null || _f === void 0
        ? void 0
        : _f.page_type
    ) {
      case "MUSIC_PAGE_TYPE_ARTIST":
        this.item_type = "artist";
        this.subscribers = this.subtitle.toString();
        break;
      case "MUSIC_PAGE_TYPE_PLAYLIST":
        this.item_type = "playlist";
        this.item_count =
          ((_g = this.subtitle.runs.find((run) =>
                  run.text.match(/\d+ songs|song/)
                )) === null || _g === void 0
            ? void 0
            : _g.item) || null;
        break;
      case "MUSIC_PAGE_TYPE_ALBUM":
        this.item_type = "album";
        const artists = this.subtitle.runs.filter((run) => {
          var _a4, _b2;
          return (_b2 = (_a4 = run.endpoint) === null || _a4 === void 0
                  ? void 0
                  : _a4.browse) === null || _b2 === void 0
            ? void 0
            : _b2.id.startsWith("UC");
        });
        if (artists) {
          this.artists = artists.map((artist) => ({
            name: artist.text,
            channel_id: artist.endpoint.browse.id,
            endpoint: artist.endpoint,
          }));
        }
        this.year = this.subtitle.runs.slice(-1)[0].text;
        if (isNaN(this.year)) {
          delete this.year;
        }
        break;
      default:
        if (this.subtitle.runs[0].text !== "Song") {
          this.item_type = "video";
        } else {
          this.item_type = "song";
        }
        if (this.item_type == "video") {
          this.views = ((_h = this.subtitle.runs.find((run) =>
                  run === null || run === void 0
                    ? void 0
                    : run.text.match(/(.*?) views/)
                )) === null || _h === void 0
            ? void 0
            : _h.text) || "N/A";
          const author = this.subtitle.runs.find((run) => {
            var _a4, _b2;
            return (_b2 = (_a4 = run.endpoint) === null || _a4 === void 0
                    ? void 0
                    : _a4.browse) === null || _b2 === void 0
              ? void 0
              : _b2.id.startsWith("UC");
          });
          if (author) {
            this.author = {
              name: author.text,
              channel_id: author.endpoint.browse.id,
              endpoint: author.endpoint,
            };
          }
        } else {
          const artists2 = this.subtitle.runs.filter((run) => {
            var _a4, _b2;
            return (_b2 = (_a4 = run.endpoint) === null || _a4 === void 0
                    ? void 0
                    : _a4.browse) === null || _b2 === void 0
              ? void 0
              : _b2.id.startsWith("UC");
          });
          if (artists2) {
            this.artists = artists2.map((artist) => ({
              name: artist.text,
              channel_id: artist.endpoint.browse.id,
              endpoint: artist.endpoint,
            }));
          }
        }
        break;
    }
    this.thumbnail = Thumbnail_default.fromResponse(
      data.thumbnailRenderer.musicThumbnailRenderer.thumbnail,
    );
    this.thumbnail_overlay = Parser.parse(data.thumbnailOverlay);
    this.menu = Parser.parse(data.menu);
  }
};
__name(MusicTwoRowItem, "MusicTwoRowItem");
MusicTwoRowItem.type = "MusicTwoRowItem";
var MusicTwoRowItem_default = MusicTwoRowItem;

// dist/src/parser/classes/MusicResponsiveListItem.js
var __classPrivateFieldSet7 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet8 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _MusicResponsiveListItem_instances;
var _MusicResponsiveListItem_flex_columns;
var _MusicResponsiveListItem_fixed_columns;
var _MusicResponsiveListItem_playlist_item_data;
var _MusicResponsiveListItem_parseVideoOrSong;
var _MusicResponsiveListItem_parseSong;
var _MusicResponsiveListItem_parseVideo;
var _MusicResponsiveListItem_parseArtist;
var _MusicResponsiveListItem_parseAlbum;
var _MusicResponsiveListItem_parsePlaylist;
var MusicResponsiveListItem = class extends YTNode {
  constructor(data) {
    var _a3, _b, _c, _d;
    super();
    _MusicResponsiveListItem_instances.add(this);
    _MusicResponsiveListItem_flex_columns.set(this, void 0);
    _MusicResponsiveListItem_fixed_columns.set(this, void 0);
    _MusicResponsiveListItem_playlist_item_data.set(this, void 0);
    __classPrivateFieldSet7(
      this,
      _MusicResponsiveListItem_flex_columns,
      Parser.parseArray(data.flexColumns),
      "f",
    );
    __classPrivateFieldSet7(
      this,
      _MusicResponsiveListItem_fixed_columns,
      Parser.parseArray(data.fixedColumns),
      "f",
    );
    __classPrivateFieldSet7(this, _MusicResponsiveListItem_playlist_item_data, {
      video_id: ((_a3 = data === null || data === void 0
              ? void 0
              : data.playlistItemData) === null || _a3 === void 0
        ? void 0
        : _a3.videoId) || null,
      playlist_set_video_id: ((_b = data === null || data === void 0
              ? void 0
              : data.playlistItemData) === null || _b === void 0
        ? void 0
        : _b.playlistSetVideoId) || null,
    }, "f");
    this.endpoint = data.navigationEndpoint
      ? new NavigationEndpoint_default(data.navigationEndpoint)
      : null;
    switch (
      (_d = (_c = this.endpoint) === null || _c === void 0
            ? void 0
            : _c.browse) === null || _d === void 0
        ? void 0
        : _d.page_type
    ) {
      case "MUSIC_PAGE_TYPE_ALBUM":
        this.item_type = "album";
        __classPrivateFieldGet8(
          this,
          _MusicResponsiveListItem_instances,
          "m",
          _MusicResponsiveListItem_parseAlbum,
        ).call(this);
        break;
      case "MUSIC_PAGE_TYPE_PLAYLIST":
        this.item_type = "playlist";
        __classPrivateFieldGet8(
          this,
          _MusicResponsiveListItem_instances,
          "m",
          _MusicResponsiveListItem_parsePlaylist,
        ).call(this);
        break;
      case "MUSIC_PAGE_TYPE_ARTIST":
      case "MUSIC_PAGE_TYPE_USER_CHANNEL":
        this.item_type = "artist";
        __classPrivateFieldGet8(
          this,
          _MusicResponsiveListItem_instances,
          "m",
          _MusicResponsiveListItem_parseArtist,
        ).call(this);
        break;
      default:
        __classPrivateFieldGet8(
          this,
          _MusicResponsiveListItem_instances,
          "m",
          _MusicResponsiveListItem_parseVideoOrSong,
        ).call(this);
        break;
    }
    if (data.index) {
      this.index = new Text_default(data.index);
    }
    this.thumbnails = data.thumbnail
      ? Thumbnail_default.fromResponse(
        data.thumbnail.musicThumbnailRenderer.thumbnail,
      )
      : [];
    this.badges = Parser.parseArray(data.badges);
    this.menu = Parser.parse(data.menu);
    this.overlay = Parser.parse(data.overlay);
  }
};
__name(MusicResponsiveListItem, "MusicResponsiveListItem");
_MusicResponsiveListItem_flex_columns = /* @__PURE__ */ new WeakMap(),
  _MusicResponsiveListItem_fixed_columns = /* @__PURE__ */ new WeakMap(),
  _MusicResponsiveListItem_playlist_item_data = /* @__PURE__ */ new WeakMap(),
  _MusicResponsiveListItem_instances = /* @__PURE__ */ new WeakSet(),
  _MusicResponsiveListItem_parseVideoOrSong = /* @__PURE__ */ __name(
    function _MusicResponsiveListItem_parseVideoOrSong2() {
      var _a3;
      const is_video =
        (_a3 =
              __classPrivateFieldGet8(
                this,
                _MusicResponsiveListItem_flex_columns,
                "f",
              )[1].key("title").instanceof(Text_default).runs) === null ||
          _a3 === void 0
          ? void 0
          : _a3.some((run) => run.text.match(/(.*?) views/));
      if (is_video) {
        this.item_type = "video";
        __classPrivateFieldGet8(
          this,
          _MusicResponsiveListItem_instances,
          "m",
          _MusicResponsiveListItem_parseVideo,
        ).call(this);
      } else {
        this.item_type = "song";
        __classPrivateFieldGet8(
          this,
          _MusicResponsiveListItem_instances,
          "m",
          _MusicResponsiveListItem_parseSong,
        ).call(this);
      }
    },
    "_MusicResponsiveListItem_parseVideoOrSong",
  ),
  _MusicResponsiveListItem_parseSong = /* @__PURE__ */ __name(
    function _MusicResponsiveListItem_parseSong2() {
      var _a3, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l;
      this.id =
        __classPrivateFieldGet8(
          this,
          _MusicResponsiveListItem_playlist_item_data,
          "f",
        ).video_id || ((_b = (_a3 = this.endpoint) === null || _a3 === void 0
                ? void 0
                : _a3.watch) === null || _b === void 0
          ? void 0
          : _b.video_id);
      this.title = __classPrivateFieldGet8(
        this,
        _MusicResponsiveListItem_flex_columns,
        "f",
      )[0].key("title").instanceof(Text_default).toString();
      const duration_text =
        ((_d =
                (_c =
                      __classPrivateFieldGet8(
                        this,
                        _MusicResponsiveListItem_flex_columns,
                        "f",
                      )[1].key("title").instanceof(Text_default).runs) ===
                    null || _c === void 0
                  ? void 0
                  : _c.find((run) =>
                    /^\d+$/.test(run.text.replace(/:/g, ""))
                  )) === null || _d === void 0
          ? void 0
          : _d.text) ||
        ((_g =
                (_f =
                      (_e = __classPrivateFieldGet8(
                            this,
                            _MusicResponsiveListItem_fixed_columns,
                            "f",
                          )) === null || _e === void 0
                        ? void 0
                        : _e[0]) === null || _f === void 0
                  ? void 0
                  : _f.key("title").instanceof(Text_default)) === null ||
            _g === void 0
          ? void 0
          : _g.toString());
      duration_text && (this.duration = {
        text: duration_text,
        seconds: timeToSeconds(duration_text),
      });
      const album =
        (_h =
              __classPrivateFieldGet8(
                this,
                _MusicResponsiveListItem_flex_columns,
                "f",
              )[1].key("title").instanceof(Text_default).runs) === null ||
          _h === void 0
          ? void 0
          : _h.find((run) => {
            var _a4, _b2;
            return (_b2 =
                    (_a4 = Reflect.get(run, "endpoint")) === null ||
                      _a4 === void 0
                      ? void 0
                      : _a4.browse) === null || _b2 === void 0
              ? void 0
              : _b2.id.startsWith("MPR");
          });
      if (album) {
        this.album = {
          id: (_k = (_j = album.endpoint) === null || _j === void 0
                  ? void 0
                  : _j.browse) === null || _k === void 0
            ? void 0
            : _k.id,
          name: album.text,
          endpoint: album.endpoint,
        };
      }
      const artists =
        (_l =
              __classPrivateFieldGet8(
                this,
                _MusicResponsiveListItem_flex_columns,
                "f",
              )[1].key("title").instanceof(Text_default).runs) === null ||
          _l === void 0
          ? void 0
          : _l.filter((run) => {
            var _a4, _b2;
            return (_b2 =
                    (_a4 = Reflect.get(run, "endpoint")) === null ||
                      _a4 === void 0
                      ? void 0
                      : _a4.browse) === null || _b2 === void 0
              ? void 0
              : _b2.id.startsWith("UC");
          });
      if (artists) {
        this.artists = artists.map((artist) => {
          var _a4, _b2;
          return {
            name: artist.text,
            channel_id:
              (_b2 = (_a4 = artist.endpoint) === null || _a4 === void 0
                    ? void 0
                    : _a4.browse) === null || _b2 === void 0
                ? void 0
                : _b2.id,
            endpoint: artist.endpoint,
          };
        });
      }
    },
    "_MusicResponsiveListItem_parseSong",
  ),
  _MusicResponsiveListItem_parseVideo = /* @__PURE__ */ __name(
    function _MusicResponsiveListItem_parseVideo2() {
      var _a3, _b, _c, _d, _e;
      this.id =
        __classPrivateFieldGet8(
          this,
          _MusicResponsiveListItem_playlist_item_data,
          "f",
        ).video_id;
      this.title = __classPrivateFieldGet8(
        this,
        _MusicResponsiveListItem_flex_columns,
        "f",
      )[0].key("title").instanceof(Text_default).toString();
      this.views =
        (_b =
              (_a3 =
                    __classPrivateFieldGet8(
                      this,
                      _MusicResponsiveListItem_flex_columns,
                      "f",
                    )[1].key("title").instanceof(Text_default).runs) === null ||
                _a3 === void 0
                ? void 0
                : _a3.find((run) => run.text.match(/(.*?) views/))) === null ||
          _b === void 0
          ? void 0
          : _b.text;
      const authors =
        (_c =
              __classPrivateFieldGet8(
                this,
                _MusicResponsiveListItem_flex_columns,
                "f",
              )[1].key("title").instanceof(Text_default).runs) === null ||
          _c === void 0
          ? void 0
          : _c.filter((run) => {
            var _a4, _b2;
            return (_b2 =
                    (_a4 = Reflect.get(run, "endpoint")) === null ||
                      _a4 === void 0
                      ? void 0
                      : _a4.browse) === null || _b2 === void 0
              ? void 0
              : _b2.id.startsWith("UC");
          });
      if (authors) {
        this.authors = authors.map((author) => {
          var _a4, _b2;
          return {
            name: author.text,
            channel_id:
              (_b2 = (_a4 = author.endpoint) === null || _a4 === void 0
                    ? void 0
                    : _a4.browse) === null || _b2 === void 0
                ? void 0
                : _b2.id,
            endpoint: author.endpoint,
          };
        });
      }
      const duration_text =
        (_e =
              (_d =
                    __classPrivateFieldGet8(
                      this,
                      _MusicResponsiveListItem_flex_columns,
                      "f",
                    )[1].key("title").instanceof(Text_default).runs) === null ||
                _d === void 0
                ? void 0
                : _d.find((run) =>
                  /^\d+$/.test(run.text.replace(/:/g, ""))
                )) === null || _e === void 0
          ? void 0
          : _e.text;
      duration_text && (this.duration = {
        text: duration_text,
        seconds: timeToSeconds(duration_text),
      });
    },
    "_MusicResponsiveListItem_parseVideo",
  ),
  _MusicResponsiveListItem_parseArtist = /* @__PURE__ */ __name(
    function _MusicResponsiveListItem_parseArtist2() {
      var _a3, _b, _c, _d;
      this.id = (_b = (_a3 = this.endpoint) === null || _a3 === void 0
              ? void 0
              : _a3.browse) === null || _b === void 0
        ? void 0
        : _b.id;
      this.name = __classPrivateFieldGet8(
        this,
        _MusicResponsiveListItem_flex_columns,
        "f",
      )[0].key("title").instanceof(Text_default).toString();
      this.subscribers =
        ((_d =
                (_c =
                      __classPrivateFieldGet8(
                        this,
                        _MusicResponsiveListItem_flex_columns,
                        "f",
                      )[1].key("title").instanceof(Text_default).runs) ===
                    null || _c === void 0
                  ? void 0
                  : _c[2]) === null || _d === void 0
          ? void 0
          : _d.text) || "";
    },
    "_MusicResponsiveListItem_parseArtist",
  ),
  _MusicResponsiveListItem_parseAlbum = /* @__PURE__ */ __name(
    function _MusicResponsiveListItem_parseAlbum2() {
      var _a3, _b, _c, _d, _e, _f, _g;
      this.id = (_b = (_a3 = this.endpoint) === null || _a3 === void 0
              ? void 0
              : _a3.browse) === null || _b === void 0
        ? void 0
        : _b.id;
      this.title = __classPrivateFieldGet8(
        this,
        _MusicResponsiveListItem_flex_columns,
        "f",
      )[0].key("title").instanceof(Text_default).toString();
      const author =
        (_c =
              __classPrivateFieldGet8(
                this,
                _MusicResponsiveListItem_flex_columns,
                "f",
              )[1].key("title").instanceof(Text_default).runs) === null ||
          _c === void 0
          ? void 0
          : _c.find((run) => {
            var _a4, _b2;
            return (_b2 =
                    (_a4 = Reflect.get(run, "endpoint")) === null ||
                      _a4 === void 0
                      ? void 0
                      : _a4.browse) === null || _b2 === void 0
              ? void 0
              : _b2.id.startsWith("UC");
          });
      author && (this.author = {
        name: author.text,
        channel_id: (_e = (_d = author.endpoint) === null || _d === void 0
                ? void 0
                : _d.browse) === null || _e === void 0
          ? void 0
          : _e.id,
        endpoint: author.endpoint,
      });
      this.year =
        (_g =
              (_f =
                    __classPrivateFieldGet8(
                      this,
                      _MusicResponsiveListItem_flex_columns,
                      "f",
                    )[1].key("title").instanceof(Text_default).runs) === null ||
                _f === void 0
                ? void 0
                : _f.find((run) =>
                  /^[12][0-9]{3}$/.test(run.text)
                )) === null || _g === void 0
          ? void 0
          : _g.text;
    },
    "_MusicResponsiveListItem_parseAlbum",
  ),
  _MusicResponsiveListItem_parsePlaylist = /* @__PURE__ */ __name(
    function _MusicResponsiveListItem_parsePlaylist2() {
      var _a3, _b, _c, _d, _e, _f;
      this.id = (_b = (_a3 = this.endpoint) === null || _a3 === void 0
              ? void 0
              : _a3.browse) === null || _b === void 0
        ? void 0
        : _b.id;
      this.title = __classPrivateFieldGet8(
        this,
        _MusicResponsiveListItem_flex_columns,
        "f",
      )[0].key("title").instanceof(Text_default).toString();
      const item_count_run =
        (_c =
              __classPrivateFieldGet8(
                this,
                _MusicResponsiveListItem_flex_columns,
                "f",
              )[1].key("title").instanceof(Text_default).runs) === null ||
          _c === void 0
          ? void 0
          : _c.find((run) =>
            run.text.match(/\d+ (song|songs)/)
          );
      this.item_count = item_count_run ? item_count_run.text : void 0;
      const author =
        (_d =
              __classPrivateFieldGet8(
                this,
                _MusicResponsiveListItem_flex_columns,
                "f",
              )[1].key("title").instanceof(Text_default).runs) === null ||
          _d === void 0
          ? void 0
          : _d.find((run) => {
            var _a4, _b2;
            return (_b2 =
                    (_a4 = Reflect.get(run, "endpoint")) === null ||
                      _a4 === void 0
                      ? void 0
                      : _a4.browse) === null || _b2 === void 0
              ? void 0
              : _b2.id.startsWith("UC");
          });
      if (author) {
        this.author = {
          name: author.text,
          channel_id: (_f = (_e = author.endpoint) === null || _e === void 0
                  ? void 0
                  : _e.browse) === null || _f === void 0
            ? void 0
            : _f.id,
          endpoint: author.endpoint,
        };
      }
    },
    "_MusicResponsiveListItem_parsePlaylist",
  );
MusicResponsiveListItem.type = "MusicResponsiveListItem";
var MusicResponsiveListItem_default = MusicResponsiveListItem;

// dist/src/parser/classes/MusicThumbnail.js
var MusicThumbnail = class extends YTNode {
  constructor(data) {
    super();
    this.contents = Thumbnail_default.fromResponse(data.thumbnail);
  }
};
__name(MusicThumbnail, "MusicThumbnail");
MusicThumbnail.type = "MusicThumbnail";
var MusicThumbnail_default = MusicThumbnail;

// dist/src/parser/classes/MusicCarouselShelfBasicHeader.js
var MusicCarouselShelfBasicHeader = class extends YTNode {
  constructor(data) {
    super();
    if (data.strapline) {
      this.strapline = new Text_default(data.strapline);
    }
    this.title = new Text_default(data.title);
    if (data.thumbnail) {
      this.thumbnail = Parser.parseItem(data.thumbnail, MusicThumbnail_default);
    }
    if (data.moreContentButton) {
      this.more_content = Parser.parseItem(
        data.moreContentButton,
        Button_default,
      );
    }
  }
};
__name(MusicCarouselShelfBasicHeader, "MusicCarouselShelfBasicHeader");
MusicCarouselShelfBasicHeader.type = "MusicCarouselShelfBasicHeader";
var MusicCarouselShelfBasicHeader_default = MusicCarouselShelfBasicHeader;

// dist/src/parser/classes/MusicNavigationButton.js
var MusicNavigationButton = class extends YTNode {
  constructor(data) {
    super();
    this.button_text = new Text_default(data.buttonText).toString();
    this.endpoint = new NavigationEndpoint_default(data.clickCommand);
  }
};
__name(MusicNavigationButton, "MusicNavigationButton");
MusicNavigationButton.type = "MusicNavigationButton";
var MusicNavigationButton_default = MusicNavigationButton;

// dist/src/parser/classes/MusicCarouselShelf.js
var MusicCarouselShelf = class extends YTNode {
  constructor(data) {
    super();
    this.header = Parser.parseItem(
      data.header,
      MusicCarouselShelfBasicHeader_default,
    );
    this.contents = Parser.parseArray(data.contents, [
      MusicTwoRowItem_default,
      MusicResponsiveListItem_default,
      MusicNavigationButton_default,
    ]);
    this.num_items_per_column = Reflect.has(data, "numItemsPerColumn")
      ? parseInt(data.numItemsPerColumn)
      : null;
  }
};
__name(MusicCarouselShelf, "MusicCarouselShelf");
MusicCarouselShelf.type = "MusicCarouselShelf";
var MusicCarouselShelf_default = MusicCarouselShelf;

// dist/src/parser/classes/MusicDescriptionShelf.js
var MusicDescriptionShelf = class extends YTNode {
  constructor(data) {
    super();
    this.description = new Text_default(data.description);
    if (this.max_collapsed_lines) {
      this.max_collapsed_lines = data.maxCollapsedLines;
    }
    if (this.max_expanded_lines) {
      this.max_expanded_lines = data.maxExpandedLines;
    }
    this.footer = new Text_default(data.footer);
  }
};
__name(MusicDescriptionShelf, "MusicDescriptionShelf");
MusicDescriptionShelf.type = "MusicDescriptionShelf";
var MusicDescriptionShelf_default = MusicDescriptionShelf;

// dist/src/parser/classes/MusicDetailHeader.js
var MusicDetailHeader = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.title);
    this.description = new Text_default(data.description);
    this.subtitle = new Text_default(data.subtitle);
    this.second_subtitle = new Text_default(data.secondSubtitle);
    this.year =
      this.subtitle.runs.find((run) => /^[12][0-9]{3}$/.test(run.text)).text;
    this.song_count = this.second_subtitle.runs[0].text;
    this.total_duration = this.second_subtitle.runs[2].text;
    this.thumbnails = Thumbnail_default.fromResponse(
      data.thumbnail.croppedSquareThumbnailRenderer.thumbnail,
    );
    this.badges = Parser.parse(data.subtitleBadges);
    const author = this.subtitle.runs.find((run) => {
      var _a3, _b;
      return (_b = (_a3 = run.endpoint) === null || _a3 === void 0
              ? void 0
              : _a3.browse) === null || _b === void 0
        ? void 0
        : _b.id.startsWith("UC");
    });
    if (author) {
      this.author = {
        name: author.text,
        channel_id: author.endpoint.browse.id,
        endpoint: author.endpoint,
      };
    }
    this.menu = Parser.parse(data.menu);
  }
};
__name(MusicDetailHeader, "MusicDetailHeader");
MusicDetailHeader.type = "MusicDetailHeader";
var MusicDetailHeader_default = MusicDetailHeader;

// dist/src/parser/classes/MusicHeader.js
var MusicHeader = class extends YTNode {
  constructor(data) {
    super();
    this.header = Parser.parse(data.header);
  }
};
__name(MusicHeader, "MusicHeader");
MusicHeader.type = "MusicHeader";
var MusicHeader_default = MusicHeader;

// dist/src/parser/classes/MusicImmersiveHeader.js
var MusicImmersiveHeader = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.title);
    this.description = new Text_default(data.description);
    this.thumbnail = Parser.parseItem(data.thumbnail, MusicThumbnail_default);
  }
};
__name(MusicImmersiveHeader, "MusicImmersiveHeader");
MusicImmersiveHeader.type = "MusicImmersiveHeader";
var MusicImmersiveHeader_default = MusicImmersiveHeader;

// dist/src/parser/classes/MusicInlineBadge.js
var MusicInlineBadge = class extends YTNode {
  constructor(data) {
    super();
    this.icon_type = data.icon.iconType;
    this.label = data.accessibilityData.accessibilityData.label;
  }
};
__name(MusicInlineBadge, "MusicInlineBadge");
MusicInlineBadge.type = "MusicInlineBadge";
var MusicInlineBadge_default = MusicInlineBadge;

// dist/src/parser/classes/MusicItemThumbnailOverlay.js
var MusicItemThumbnailOverlay = class extends YTNode {
  constructor(data) {
    super();
    this.content = Parser.parse(data.content);
    this.content_position = data.contentPosition;
    this.display_style = data.displayStyle;
  }
};
__name(MusicItemThumbnailOverlay, "MusicItemThumbnailOverlay");
MusicItemThumbnailOverlay.type = "MusicItemThumbnailOverlay";
var MusicItemThumbnailOverlay_default = MusicItemThumbnailOverlay;

// dist/src/parser/classes/MusicPlayButton.js
var MusicPlayButton = class extends YTNode {
  constructor(data) {
    var _a3;
    super();
    this.endpoint = new NavigationEndpoint_default(data.playNavigationEndpoint);
    this.play_icon_type = data.playIcon.iconType;
    this.pause_icon_type = data.pauseIcon.iconType;
    if (data.accessibilityPlayData) {
      this.play_label = data.accessibilityPlayData.accessibilityData.label;
    }
    if (data.accessibilityPlayData) {
      this.pause_label =
        (_a3 = data.accessibilityPauseData) === null || _a3 === void 0
          ? void 0
          : _a3.accessibilityData.label;
    }
    this.icon_color = data.iconColor;
  }
};
__name(MusicPlayButton, "MusicPlayButton");
MusicPlayButton.type = "MusicPlayButton";
var MusicPlayButton_default = MusicPlayButton;

// dist/src/parser/classes/MusicPlaylistShelf.js
var MusicPlaylistShelf = class extends YTNode {
  constructor(data) {
    var _a3, _b, _c;
    super();
    this.playlist_id = data.playlistId;
    this.contents = Parser.parseArray(
      data.contents,
      MusicResponsiveListItem_default,
    );
    this.collapsed_item_count = data.collapsedItemCount;
    this.continuation =
      ((_c = (_b = (_a3 = data.continuations) === null || _a3 === void 0
                    ? void 0
                    : _a3[0]) === null || _b === void 0
              ? void 0
              : _b.nextContinuationData) === null || _c === void 0
        ? void 0
        : _c.continuation) || null;
  }
};
__name(MusicPlaylistShelf, "MusicPlaylistShelf");
MusicPlaylistShelf.type = "MusicPlaylistShelf";
var MusicPlaylistShelf_default = MusicPlaylistShelf;

// dist/src/parser/classes/MusicQueue.js
var MusicQueue = class extends YTNode {
  constructor(data) {
    super();
    this.content = Parser.parse(data.content);
  }
};
__name(MusicQueue, "MusicQueue");
MusicQueue.type = "MusicQueue";
var MusicQueue_default = MusicQueue;

// dist/src/parser/classes/MusicResponsiveListItemFixedColumn.js
var MusicResponsiveListItemFixedColumn = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.text);
    this.display_priority = data.displayPriority;
  }
};
__name(
  MusicResponsiveListItemFixedColumn,
  "MusicResponsiveListItemFixedColumn",
);
MusicResponsiveListItemFixedColumn.type =
  "musicResponsiveListItemFlexColumnRenderer";
var MusicResponsiveListItemFixedColumn_default =
  MusicResponsiveListItemFixedColumn;

// dist/src/parser/classes/MusicResponsiveListItemFlexColumn.js
var MusicResponsiveListItemFlexColumn = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.text);
    this.display_priority = data.displayPriority;
  }
};
__name(MusicResponsiveListItemFlexColumn, "MusicResponsiveListItemFlexColumn");
MusicResponsiveListItemFlexColumn.type =
  "musicResponsiveListItemFlexColumnRenderer";
var MusicResponsiveListItemFlexColumn_default =
  MusicResponsiveListItemFlexColumn;

// dist/src/parser/classes/MusicShelf.js
var MusicShelf = class extends YTNode {
  constructor(data) {
    var _a3, _b, _c;
    super();
    this.title = new Text_default(data.title);
    this.contents = Parser.parseArray(
      data.contents,
      MusicResponsiveListItem_default,
    );
    this.endpoint = Reflect.has(data, "bottomEndpoint")
      ? new NavigationEndpoint_default(data.bottomEndpoint)
      : null;
    this.continuation =
      ((_c = (_b = (_a3 = data.continuations) === null || _a3 === void 0
                    ? void 0
                    : _a3[0]) === null || _b === void 0
              ? void 0
              : _b.nextContinuationData) === null || _c === void 0
        ? void 0
        : _c.continuation) || null;
    this.bottom_text = Reflect.has(data, "bottomText")
      ? new Text_default(data.bottomText)
      : null;
  }
};
__name(MusicShelf, "MusicShelf");
MusicShelf.type = "MusicShelf";
var MusicShelf_default = MusicShelf;

// dist/src/parser/classes/Notification.js
var Notification = class extends YTNode {
  constructor(data) {
    super();
    this.thumbnails = Thumbnail_default.fromResponse(data.thumbnail);
    this.video_thumbnails = Thumbnail_default.fromResponse(data.videoThumbnail);
    this.short_message = new Text_default(data.shortMessage);
    this.sent_time = new Text_default(data.sentTimeText);
    this.notification_id = data.notificationId;
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
    this.record_click_endpoint = new NavigationEndpoint_default(
      data.recordClickEndpoint,
    );
    this.menu = Parser.parse(data.contextualMenu);
    this.read = data.read;
  }
};
__name(Notification, "Notification");
Notification.type = "Notification";
var Notification_default = Notification;

// dist/src/parser/classes/PlayerAnnotationsExpanded.js
var PlayerAnnotationsExpanded = class extends YTNode {
  constructor(data) {
    super();
    this.featured_channel = {
      start_time_ms: data.featuredChannel.startTimeMs,
      end_time_ms: data.featuredChannel.endTimeMs,
      watermark: Thumbnail_default.fromResponse(data.featuredChannel.watermark),
      channel_name: data.featuredChannel.channelName,
      endpoint: new NavigationEndpoint_default(
        data.featuredChannel.navigationEndpoint,
      ),
      subscribe_button: Parser.parse(data.featuredChannel.subscribeButton),
    };
    this.allow_swipe_dismiss = data.allowSwipeDismiss;
    this.annotation_id = data.annotationId;
  }
};
__name(PlayerAnnotationsExpanded, "PlayerAnnotationsExpanded");
PlayerAnnotationsExpanded.type = "PlayerAnnotationsExpanded";
var PlayerAnnotationsExpanded_default = PlayerAnnotationsExpanded;

// dist/src/parser/classes/PlayerCaptionsTracklist.js
var PlayerCaptionsTracklist = class extends YTNode {
  constructor(data) {
    super();
    this.caption_tracks = data.captionTracks.map((ct) => ({
      base_url: ct.baseUrl,
      name: new Text_default(ct.name),
      vss_id: ct.vssId,
      language_code: ct.languageCode,
      kind: ct.kind,
      is_translatable: ct.isTranslatable,
    }));
    this.audio_tracks = data.audioTracks.map((at) => ({
      caption_track_indices: at.captionTrackIndices,
    }));
    this.translation_languages = data.translationLanguages.map((tl) => ({
      language_code: tl.languageCode,
      language_name: new Text_default(tl.languageName),
    }));
  }
};
__name(PlayerCaptionsTracklist, "PlayerCaptionsTracklist");
PlayerCaptionsTracklist.type = "PlayerCaptionsTracklist";
var PlayerCaptionsTracklist_default = PlayerCaptionsTracklist;

// dist/src/parser/classes/PlayerErrorMessage.js
var PlayerErrorMessage = class extends YTNode {
  constructor(data) {
    super();
    this.subreason = new Text_default(data.subreason);
    this.reason = new Text_default(data.reason);
    this.proceed_button = Parser.parse(data.proceedButton);
    this.thumbnails = Thumbnail_default.fromResponse(data.thumbnail);
    this.icon_type = data.icon.iconType;
  }
};
__name(PlayerErrorMessage, "PlayerErrorMessage");
PlayerErrorMessage.type = "PlayerErrorMessage";
var PlayerErrorMessage_default = PlayerErrorMessage;

// dist/src/parser/classes/PlayerLiveStoryboardSpec.js
var PlayerLiveStoryboardSpec = class extends YTNode {
  constructor() {
    super();
  }
};
__name(PlayerLiveStoryboardSpec, "PlayerLiveStoryboardSpec");
PlayerLiveStoryboardSpec.type = "PlayerLiveStoryboardSpec";
var PlayerLiveStoryboardSpec_default = PlayerLiveStoryboardSpec;

// dist/src/parser/classes/PlayerMicroformat.js
var PlayerMicroformat = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.title);
    this.description = new Text_default(data.description);
    this.thumbnails = Thumbnail_default.fromResponse(data.thumbnail);
    this.embed = {
      iframe_url: data.embed.iframeUrl,
      flash_url: data.embed.flashUrl,
      flash_secure_url: data.embed.flashSecureUrl,
      width: data.embed.width,
      height: data.embed.height,
    };
    this.length_seconds = parseInt(data.lengthSeconds);
    this.channel = {
      id: data.externalChannelId,
      name: data.ownerChannelName,
      url: data.ownerProfileUrl,
    };
    this.is_family_safe = !!data.isFamilySafe;
    this.is_unlisted = !!data.isUnlisted;
    this.has_ypc_metadata = !!data.hasYpcMetadata;
    this.view_count = parseInt(data.viewCount);
    this.category = data.category;
    this.publish_date = data.publishDate;
    this.upload_date = data.uploadDate;
    this.available_countries = data.availableCountries;
  }
};
__name(PlayerMicroformat, "PlayerMicroformat");
PlayerMicroformat.type = "PlayerMicroformat";
var PlayerMicroformat_default = PlayerMicroformat;

// dist/src/parser/classes/PlayerOverlay.js
var PlayerOverlay = class extends YTNode {
  constructor(data) {
    super();
    this.end_screen = Parser.parse(data.endScreen);
    this.autoplay = Parser.parse(data.autoplay);
    this.share_button = Parser.parse(data.shareButton);
    this.add_to_menu = Parser.parse(data.addToMenu);
    this.fullscreen_engagement = Parser.parse(data.fullscreenEngagement);
  }
};
__name(PlayerOverlay, "PlayerOverlay");
PlayerOverlay.type = "PlayerOverlay";
var PlayerOverlay_default = PlayerOverlay;

// dist/src/parser/classes/PlayerOverlayAutoplay.js
var PlayerOverlayAutoplay = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.title);
    this.video_id = data.videoId;
    this.video_title = new Text_default(data.videoTitle);
    this.short_view_count = new Text_default(data.shortViewCountText);
    this.prefer_immediate_redirect = data.preferImmediateRedirect;
    this.count_down_secs_for_fullscreen = data.countDownSecsForFullscreen;
    this.published = new Text_default(data.publishedTimeText);
    this.background = Thumbnail_default.fromResponse(data.background);
    this.thumbnail_overlays = Parser.parse(data.thumbnailOverlays);
    this.author = new Author_default(data.byline);
    this.cancel_button = Parser.parse(data.cancelButton);
    this.next_button = Parser.parse(data.nextButton);
    this.close_button = Parser.parse(data.closeButton);
  }
};
__name(PlayerOverlayAutoplay, "PlayerOverlayAutoplay");
PlayerOverlayAutoplay.type = "PlayerOverlayAutoplay";
var PlayerOverlayAutoplay_default = PlayerOverlayAutoplay;

// dist/src/parser/classes/PlayerStoryboardSpec.js
var PlayerStoryboardSpec = class extends YTNode {
  constructor(data) {
    super();
    const parts = data.spec.split("|");
    const url = new URL(parts.shift());
    this.boards = parts.map((part, i) => {
      let [
        thumbnail_width,
        thumbnail_height,
        thumbnail_count,
        columns,
        rows,
        interval,
        name,
        sigh,
      ] = part.split("#");
      url.searchParams.set("sigh", sigh);
      thumbnail_count = parseInt(thumbnail_count, 10);
      columns = parseInt(columns, 10);
      rows = parseInt(rows, 10);
      const storyboard_count = Math.ceil(thumbnail_count / (columns * rows));
      return {
        template_url: url.toString().replace("$L", i).replace("$N", name),
        thumbnail_width: parseInt(thumbnail_width, 10),
        thumbnail_height: parseInt(thumbnail_height, 10),
        thumbnail_count,
        interval: parseInt(interval, 10),
        columns,
        rows,
        storyboard_count,
      };
    });
  }
};
__name(PlayerStoryboardSpec, "PlayerStoryboardSpec");
PlayerStoryboardSpec.type = "PlayerStoryboardSpec";
var PlayerStoryboardSpec_default = PlayerStoryboardSpec;

// dist/src/parser/classes/PlaylistHeader.js
var PlaylistHeader = class extends YTNode {
  constructor(data) {
    super();
    this.id = data.playlistId;
    this.title = new Text_default(data.title);
    this.stats = data.stats.map((stat) => new Text_default(stat));
    this.brief_stats = data.briefStats.map((stat) => new Text_default(stat));
    this.author = new PlaylistAuthor_default(
      Object.assign(Object.assign({}, data.ownerText), {
        navigationEndpoint: data.ownerEndpoint,
      }),
      data.ownerBadges,
      null,
    );
    this.description = new Text_default(data.descriptionText);
    this.num_videos = new Text_default(data.numVideosText);
    this.view_count = new Text_default(data.viewCountText);
    this.can_share = data.shareData.canShare;
    this.can_delete = data.editableDetails.canDelete;
    this.is_editable = data.isEditable;
    this.privacy = data.privacy;
    this.save_button = Parser.parse(data.saveButton);
    this.shuffle_play_button = Parser.parse(data.shufflePlayButton);
    this.menu = Parser.parse(data.moreActionsMenu);
  }
};
__name(PlaylistHeader, "PlaylistHeader");
PlaylistHeader.type = "PlaylistHeader";
var PlaylistHeader_default = PlaylistHeader;

// dist/src/parser/classes/PlaylistInfoCardContent.js
var PlaylistInfoCardContent = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.playlistTitle);
    this.thumbnails = Thumbnail_default.fromResponse(data.thumbnail);
    this.video_count = new Text_default(data.playlistVideoCount);
    this.channel_name = new Text_default(data.channelName);
    this.endpoint = new NavigationEndpoint_default(data.action);
  }
};
__name(PlaylistInfoCardContent, "PlaylistInfoCardContent");
PlaylistInfoCardContent.type = "PlaylistInfoCardContent";
var PlaylistInfoCardContent_default = PlaylistInfoCardContent;

// dist/src/parser/classes/PlaylistMetadata.js
var PlaylistMetadata = class extends YTNode {
  constructor(data) {
    super();
    this.title = data.title;
    this.description = data.description || null;
  }
};
__name(PlaylistMetadata, "PlaylistMetadata");
PlaylistMetadata.type = "PlaylistMetadata";
var PlaylistMetadata_default = PlaylistMetadata;

// dist/src/parser/classes/PlaylistPanelVideo.js
var PlaylistPanelVideo = class extends YTNode {
  constructor(data) {
    var _a3, _b, _c, _d, _e;
    super();
    this.title = new Text_default(data.title);
    this.thumbnail = Thumbnail_default.fromResponse(data.thumbnail);
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
    this.selected = data.selected;
    this.video_id = data.videoId;
    this.duration = {
      text: new Text_default(data.lengthText).toString(),
      seconds: timeToSeconds(new Text_default(data.lengthText).toString()),
    };
    const album =
      (_a3 = new Text_default(data.longBylineText).runs) === null ||
        _a3 === void 0
        ? void 0
        : _a3.find((run) => {
          var _a4, _b2;
          return (_b2 = (_a4 = run.endpoint) === null || _a4 === void 0
                  ? void 0
                  : _a4.browse) === null || _b2 === void 0
            ? void 0
            : _b2.id.startsWith("MPR");
        });
    const artists =
      (_b = new Text_default(data.longBylineText).runs) === null ||
        _b === void 0
        ? void 0
        : _b.filter((run) => {
          var _a4, _b2;
          return (_b2 = (_a4 = run.endpoint) === null || _a4 === void 0
                  ? void 0
                  : _a4.browse) === null || _b2 === void 0
            ? void 0
            : _b2.id.startsWith("UC");
        });
    this.author = new Text_default(data.shortBylineText).toString();
    if (album) {
      this.album = {
        id: (_d = (_c = album.endpoint) === null || _c === void 0
                ? void 0
                : _c.browse) === null || _d === void 0
          ? void 0
          : _d.id,
        name: album.text,
        year:
          (_e = new Text_default(data.longBylineText).runs) === null ||
            _e === void 0
            ? void 0
            : _e.slice(-1)[0].text,
        endpoint: album.endpoint,
      };
    }
    if (artists) {
      this.artists = artists.map((artist) => {
        var _a4, _b2;
        return {
          name: artist.text,
          channel_id: (_b2 = (_a4 = artist.endpoint) === null || _a4 === void 0
                  ? void 0
                  : _a4.browse) === null || _b2 === void 0
            ? void 0
            : _b2.id,
          endpoint: artist.endpoint,
        };
      });
    }
    this.badges = Parser.parse(data.badges);
    this.menu = Parser.parse(data.menu);
    this.set_video_id = data.playlistSetVideoId;
  }
};
__name(PlaylistPanelVideo, "PlaylistPanelVideo");
PlaylistPanelVideo.type = "PlaylistPanelVideo";
var PlaylistPanelVideo_default = PlaylistPanelVideo;

// dist/src/parser/classes/PlaylistPanel.js
var PlaylistPanel = class extends YTNode {
  constructor(data) {
    var _a3, _b;
    super();
    this.title = data.title;
    this.title_text = new Text_default(data.titleText);
    this.contents = Parser.parseArray(
      data.contents,
      PlaylistPanelVideo_default,
    );
    this.playlist_id = data.playlistId;
    this.is_infinite = data.isInfinite;
    this.continuation =
      (_b = (_a3 = data.continuations[0]) === null || _a3 === void 0
            ? void 0
            : _a3.nextRadioContinuationData) === null || _b === void 0
        ? void 0
        : _b.continuation;
    this.is_editable = data.isEditable;
    this.preview_description = data.previewDescription;
    this.num_items_to_show = data.numItemsToShow;
  }
};
__name(PlaylistPanel, "PlaylistPanel");
PlaylistPanel.type = "PlaylistPanel";
var PlaylistPanel_default = PlaylistPanel;

// dist/src/parser/classes/PlaylistSidebar.js
var PlaylistSidebar = class extends YTNode {
  constructor(data) {
    super();
    this.items = Parser.parse(data.items);
  }
  get contents() {
    return this.items;
  }
};
__name(PlaylistSidebar, "PlaylistSidebar");
PlaylistSidebar.type = "PlaylistSidebar";
var PlaylistSidebar_default = PlaylistSidebar;

// dist/src/parser/classes/PlaylistSidebarPrimaryInfo.js
var PlaylistSidebarPrimaryInfo = class extends YTNode {
  constructor(data) {
    super();
    this.stats = data.stats.map((stat) => new Text_default(stat));
    this.thumbnail_renderer = Parser.parse(data.thumbnailRenderer);
    this.title = new Text_default(data.title);
    this.menu = data.menu && Parser.parse(data.menu);
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
    this.description = new Text_default(data.description);
  }
};
__name(PlaylistSidebarPrimaryInfo, "PlaylistSidebarPrimaryInfo");
PlaylistSidebarPrimaryInfo.type = "PlaylistSidebarPrimaryInfo";
var PlaylistSidebarPrimaryInfo_default = PlaylistSidebarPrimaryInfo;

// dist/src/parser/classes/PlaylistSidebarSecondaryInfo.js
var PlaylistSidebarSecondaryInfo = class extends YTNode {
  constructor(data) {
    super();
    this.owner = Parser.parse(data.videoOwner) || null;
    this.button = Parser.parse(data.button) || null;
  }
};
__name(PlaylistSidebarSecondaryInfo, "PlaylistSidebarSecondaryInfo");
PlaylistSidebarSecondaryInfo.type = "PlaylistSidebarSecondaryInfo";
var PlaylistSidebarSecondaryInfo_default = PlaylistSidebarSecondaryInfo;

// dist/src/parser/classes/PlaylistVideo.js
var PlaylistVideo = class extends YTNode {
  constructor(data) {
    super();
    this.id = data.videoId;
    this.index = new Text_default(data.index);
    this.title = new Text_default(data.title);
    this.author = new PlaylistAuthor_default(data.shortBylineText);
    this.thumbnails = Thumbnail_default.fromResponse(data.thumbnail);
    this.thumbnail_overlays = Parser.parse(data.thumbnailOverlays);
    this.set_video_id = data === null || data === void 0
      ? void 0
      : data.setVideoId;
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
    this.is_playable = data.isPlayable;
    this.menu = Parser.parse(data.menu);
    this.duration = {
      text: new Text_default(data.lengthText).text,
      seconds: parseInt(data.lengthSeconds),
    };
  }
};
__name(PlaylistVideo, "PlaylistVideo");
PlaylistVideo.type = "PlaylistVideo";
var PlaylistVideo_default = PlaylistVideo;

// dist/src/parser/classes/PlaylistVideoList.js
var PlaylistVideoList = class extends YTNode {
  constructor(data) {
    super();
    this.id = data.playlistId;
    this.is_editable = data.isEditable;
    this.can_reorder = data.canReorder;
    this.videos = Parser.parse(data.contents);
  }
};
__name(PlaylistVideoList, "PlaylistVideoList");
PlaylistVideoList.type = "PlaylistVideoList";
var PlaylistVideoList_default = PlaylistVideoList;

// dist/src/parser/classes/PlaylistVideoThumbnail.js
var PlaylistVideoThumbnail = class extends YTNode {
  constructor(data) {
    super();
    this.thumbnail = Thumbnail_default.fromResponse(data.thumbnail);
  }
};
__name(PlaylistVideoThumbnail, "PlaylistVideoThumbnail");
PlaylistVideoThumbnail.type = "PlaylistVideoThumbnail";
var PlaylistVideoThumbnail_default = PlaylistVideoThumbnail;

// dist/src/parser/classes/Poll.js
var Poll = class extends YTNode {
  constructor(data) {
    super();
    this.choices = data.choices.map((choice) => ({
      text: new Text_default(choice.text).toString(),
      select_endpoint: choice.selectServiceEndpoint
        ? new NavigationEndpoint_default(choice.selectServiceEndpoint)
        : null,
      deselect_endpoint: choice.deselectServiceEndpoint
        ? new NavigationEndpoint_default(choice.deselectServiceEndpoint)
        : null,
      vote_ratio_if_selected:
        (choice === null || choice === void 0
          ? void 0
          : choice.voteRatioIfSelected) || null,
      vote_percentage_if_selected: new Text_default(
        choice.votePercentageIfSelected,
      ),
      vote_ratio_if_not_selected:
        (choice === null || choice === void 0
          ? void 0
          : choice.voteRatioIfSelected) || null,
      vote_percentage_if_not_selected: new Text_default(
        choice.votePercentageIfSelected,
      ),
      image: choice.image ? Thumbnail_default.fromResponse(choice.image) : null,
    }));
    if (data.type) {
      this.poll_type = data.type;
    }
    if (data.totalVotes) {
      this.total_votes = new Text_default(data.totalVotes);
    }
    if (data.liveChatPollId) {
      this.live_chat_poll_id = data.liveChatPollId;
    }
  }
};
__name(Poll, "Poll");
Poll.type = "Poll";
var Poll_default = Poll;

// dist/src/parser/classes/Post.js
var Post = class extends BackstagePost_default {
  constructor(data) {
    super(data);
  }
};
__name(Post, "Post");
Post.type = "Post";
var Post_default = Post;

// dist/src/parser/classes/ProfileColumn.js
var ProfileColumn = class extends YTNode {
  constructor(data) {
    super();
    this.items = Parser.parse(data.items);
  }
  get contents() {
    return this.items;
  }
};
__name(ProfileColumn, "ProfileColumn");
ProfileColumn.type = "ProfileColumn";
var ProfileColumn_default = ProfileColumn;

// dist/src/parser/classes/ProfileColumnStats.js
var ProfileColumnStats = class extends YTNode {
  constructor(data) {
    super();
    this.items = Parser.parse(data.items);
  }
  get contents() {
    return this.items;
  }
};
__name(ProfileColumnStats, "ProfileColumnStats");
ProfileColumnStats.type = "ProfileColumnStats";
var ProfileColumnStats_default = ProfileColumnStats;

// dist/src/parser/classes/ProfileColumnStatsEntry.js
var ProfileColumnStatsEntry = class extends YTNode {
  constructor(data) {
    super();
    this.label = new Text_default(data.label);
    this.value = new Text_default(data.value);
  }
};
__name(ProfileColumnStatsEntry, "ProfileColumnStatsEntry");
ProfileColumnStatsEntry.type = "ProfileColumnStatsEntry";
var ProfileColumnStatsEntry_default = ProfileColumnStatsEntry;

// dist/src/parser/classes/ProfileColumnUserInfo.js
var ProfileColumnUserInfo = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.title);
    this.thumbnails = Thumbnail_default.fromResponse(data.thumbnail);
  }
};
__name(ProfileColumnUserInfo, "ProfileColumnUserInfo");
ProfileColumnUserInfo.type = "ProfileColumnUserInfo";
var ProfileColumnUserInfo_default = ProfileColumnUserInfo;

// dist/src/parser/classes/ReelItem.js
var ReelItem = class extends YTNode {
  constructor(data) {
    super();
    this.id = data.videoId;
    this.title = new Text_default(data.headline, "");
    this.thumbnails = Thumbnail_default.fromResponse(data.thumbnail);
    this.views = new Text_default(data.viewCountText, "");
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
  }
};
__name(ReelItem, "ReelItem");
ReelItem.type = "ReelItem";
var ReelItem_default = ReelItem;

// dist/src/parser/classes/ReelShelf.js
var ReelShelf = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.title);
    this.items = Parser.parse(data.items);
    this.endpoint = data.endpoint
      ? new NavigationEndpoint_default(data.endpoint)
      : null;
  }
  get contents() {
    return this.items;
  }
};
__name(ReelShelf, "ReelShelf");
ReelShelf.type = "ReelShelf";
var ReelShelf_default = ReelShelf;

// dist/src/parser/classes/RelatedChipCloud.js
var RelatedChipCloud = class extends YTNode {
  constructor(data) {
    super();
    this.content = Parser.parse(data.content);
  }
};
__name(RelatedChipCloud, "RelatedChipCloud");
RelatedChipCloud.type = "RelatedChipCloud";
var RelatedChipCloud_default = RelatedChipCloud;

// dist/src/parser/classes/RichGrid.js
var RichGrid = class extends YTNode {
  constructor(data) {
    super();
    this.header = Parser.parse(data.header);
    this.contents = Parser.parse(data.contents);
  }
};
__name(RichGrid, "RichGrid");
RichGrid.type = "RichGrid";
var RichGrid_default = RichGrid;

// dist/src/parser/classes/RichItem.js
var RichItem = class extends YTNode {
  constructor(data) {
    super();
    return Parser.parse(data.content);
  }
};
__name(RichItem, "RichItem");
RichItem.type = "RichItem";
var RichItem_default = RichItem;

// dist/src/parser/classes/RichListHeader.js
var RichListHeader = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.title);
    this.icon_type = data.icon.iconType;
  }
};
__name(RichListHeader, "RichListHeader");
RichListHeader.type = "RichListHeader";
var RichListHeader_default = RichListHeader;

// dist/src/parser/classes/RichSection.js
var RichSection = class extends YTNode {
  constructor(data) {
    super();
    this.contents = Parser.parse(data.content);
  }
};
__name(RichSection, "RichSection");
RichSection.type = "RichSection";
var RichSection_default = RichSection;

// dist/src/parser/classes/RichShelf.js
var RichShelf = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.title);
    this.contents = Parser.parse(data.contents);
    this.endpoint = data.endpoint
      ? new NavigationEndpoint_default(data.endpoint)
      : null;
  }
};
__name(RichShelf, "RichShelf");
RichShelf.type = "RichShelf";
var RichShelf_default = RichShelf;

// dist/src/parser/classes/SearchBox.js
var SearchBox = class extends YTNode {
  constructor(data) {
    super();
    this.endpoint = new NavigationEndpoint_default(data.endpoint);
    this.search_button = Parser.parse(data.searchButton);
    this.clear_button = Parser.parse(data.clearButton);
    this.placeholder_text = new Text_default(data.placeholderText);
  }
};
__name(SearchBox, "SearchBox");
SearchBox.type = "SearchBox";
var SearchBox_default = SearchBox;

// dist/src/parser/classes/SearchRefinementCard.js
var SearchRefinementCard = class extends YTNode {
  constructor(data) {
    super();
    this.thumbnails = Thumbnail_default.fromResponse(data.thumbnail);
    this.endpoint = new NavigationEndpoint_default(data.searchEndpoint);
    this.query = new Text_default(data.query).toString();
  }
};
__name(SearchRefinementCard, "SearchRefinementCard");
SearchRefinementCard.type = "SearchRefinementCard";
var SearchRefinementCard_default = SearchRefinementCard;

// dist/src/parser/classes/SearchSuggestionsSection.js
var SearchSuggestionsSection = class extends YTNode {
  constructor(data) {
    super();
    this.contents = Parser.parse(data.contents);
  }
};
__name(SearchSuggestionsSection, "SearchSuggestionsSection");
SearchSuggestionsSection.type = "SearchSuggestionsSection";
var SearchSuggestionsSection_default = SearchSuggestionsSection;

// dist/src/parser/classes/SecondarySearchContainer.js
var SecondarySearchContainer = class extends YTNode {
  constructor(data) {
    super();
    this.contents = Parser.parse(data.contents);
  }
};
__name(SecondarySearchContainer, "SecondarySearchContainer");
SecondarySearchContainer.type = "SecondarySearchContainer";
var SecondarySearchContainer_default = SecondarySearchContainer;

// dist/src/parser/classes/SectionList.js
var SectionList = class extends YTNode {
  constructor(data) {
    super();
    if (data.targetId) {
      this.target_id = data.targetId;
    }
    this.contents = Parser.parse(data.contents);
    if (data.continuations) {
      if (data.continuations[0].nextContinuationData) {
        this.continuation =
          data.continuations[0].nextContinuationData.continuation;
      } else if (data.continuations[0].reloadContinuationData) {
        this.continuation =
          data.continuations[0].reloadContinuationData.continuation;
      }
    }
    if (data.header) {
      this.header = Parser.parse(data.header);
    }
  }
};
__name(SectionList, "SectionList");
SectionList.type = "SectionList";
var SectionList_default = SectionList;

// dist/src/parser/classes/Shelf.js
var Shelf = class extends YTNode {
  constructor(data) {
    var _a3, _b;
    super();
    this.title = new Text_default(data.title);
    if (data.endpoint) {
      this.endpoint = new NavigationEndpoint_default(data.endpoint);
    }
    this.content = Parser.parse(data.content) || null;
    if ((_a3 = data.icon) === null || _a3 === void 0 ? void 0 : _a3.iconType) {
      this.icon_type = (_b = data.icon) === null || _b === void 0
        ? void 0
        : _b.iconType;
    }
    if (data.menu) {
      this.menu = Parser.parse(data.menu);
    }
  }
};
__name(Shelf, "Shelf");
Shelf.type = "Shelf";
var Shelf_default = Shelf;

// dist/src/parser/classes/ShowingResultsFor.js
var ShowingResultsFor = class extends YTNode {
  constructor(data) {
    super();
    this.corrected_query = new Text_default(data.correctedQuery);
    this.endpoint = new NavigationEndpoint_default(data.correctedQueryEndpoint);
    this.original_query_endpoint = new NavigationEndpoint_default(
      data.originalQueryEndpoint,
    );
  }
};
__name(ShowingResultsFor, "ShowingResultsFor");
ShowingResultsFor.type = "ShowingResultsFor";
var ShowingResultsFor_default = ShowingResultsFor;

// dist/src/parser/classes/SimpleCardContent.js
var SimpleCardContent = class extends YTNode {
  constructor(data) {
    super();
    this.image = Thumbnail_default.fromResponse(data.image);
    this.title = new Text_default(data.title);
    this.display_domain = new Text_default(data.displayDomain);
    this.show_link_icon = data.showLinkIcon;
    this.call_to_action = data.callToAction;
    this.endpoint = new NavigationEndpoint_default(data.command);
  }
};
__name(SimpleCardContent, "SimpleCardContent");
SimpleCardContent.type = "SimpleCardContent";
var SimpleCardContent_default = SimpleCardContent;

// dist/src/parser/classes/SimpleCardTeaser.js
var SimpleCardTeaser = class extends YTNode {
  constructor(data) {
    super();
    this.message = new Text_default(data.message);
    this.prominent = data.prominent;
  }
};
__name(SimpleCardTeaser, "SimpleCardTeaser");
SimpleCardTeaser.type = "SimpleCardTeaser";
var SimpleCardTeaser_default = SimpleCardTeaser;

// dist/src/parser/classes/SingleActionEmergencySupport.js
var SingleActionEmergencySupport = class extends YTNode {
  constructor(data) {
    super();
    this.action_text = new Text_default(data.actionText);
    this.nav_text = new Text_default(data.navigationText);
    this.details = new Text_default(data.detailsText);
    this.icon_type = data.icon.iconType;
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
  }
};
__name(SingleActionEmergencySupport, "SingleActionEmergencySupport");
SingleActionEmergencySupport.type = "SingleActionEmergencySupport";
var SingleActionEmergencySupport_default = SingleActionEmergencySupport;

// dist/src/parser/classes/Tab.js
var Tab = class extends YTNode {
  constructor(data) {
    super();
    this.title = data.title || "N/A";
    this.selected = data.selected || false;
    this.endpoint = new NavigationEndpoint_default(data.endpoint);
    this.content = Parser.parseItem(data.content, [
      SectionList_default,
      MusicQueue_default,
      RichGrid_default,
    ]);
  }
};
__name(Tab, "Tab");
Tab.type = "Tab";
var Tab_default = Tab;

// dist/src/parser/classes/SingleColumnBrowseResults.js
var SingleColumnBrowseResults = class extends YTNode {
  constructor(data) {
    super();
    this.tabs = Parser.parseArray(data.tabs, Tab_default);
  }
};
__name(SingleColumnBrowseResults, "SingleColumnBrowseResults");
SingleColumnBrowseResults.type = "SingleColumnBrowseResults";
var SingleColumnBrowseResults_default = SingleColumnBrowseResults;

// dist/src/parser/classes/SingleColumnMusicWatchNextResults.js
var SingleColumnMusicWatchNextResults = class extends YTNode {
  constructor(data) {
    super();
    this.contents = Parser.parse(data);
  }
};
__name(SingleColumnMusicWatchNextResults, "SingleColumnMusicWatchNextResults");
SingleColumnMusicWatchNextResults.type = "SingleColumnMusicWatchNextResults";
var SingleColumnMusicWatchNextResults_default =
  SingleColumnMusicWatchNextResults;

// dist/src/parser/classes/SingleHeroImage.js
var SingleHeroImage = class extends YTNode {
  constructor(data) {
    super();
    this.thumbnails = new Thumbnail_default(data.thumbnail).thumbnails;
    this.style = data.style;
  }
};
__name(SingleHeroImage, "SingleHeroImage");
SingleHeroImage.type = "SingleHeroImage";
var SingleHeroImage_default = SingleHeroImage;

// dist/src/parser/classes/SortFilterSubMenu.js
var SortFilterSubMenu = class extends YTNode {
  constructor(data) {
    super();
    this.sub_menu_items = observe(data.subMenuItems.map((item) => {
      var _a3;
      return {
        title: item.title,
        selected: item.selected,
        continuation: (_a3 = item.continuation) === null || _a3 === void 0
          ? void 0
          : _a3.reloadContinuationData.continuation,
        subtitle: item.subtitle,
      };
    }));
    this.label = data.accessibility.accessibilityData.label;
  }
};
__name(SortFilterSubMenu, "SortFilterSubMenu");
SortFilterSubMenu.type = "SortFilterSubMenu";
var SortFilterSubMenu_default = SortFilterSubMenu;

// dist/src/parser/classes/SubFeedOption.js
var SubFeedOption = class extends YTNode {
  constructor(data) {
    super();
    this.name = new Text_default(data.name);
    this.is_selected = data.isSelected;
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
  }
};
__name(SubFeedOption, "SubFeedOption");
SubFeedOption.type = "SubFeedOption";
var SubFeedOption_default = SubFeedOption;

// dist/src/parser/classes/SubFeedSelector.js
var SubFeedSelector = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.title);
    this.options = Parser.parse(data.options);
  }
};
__name(SubFeedSelector, "SubFeedSelector");
SubFeedSelector.type = "SubFeedSelector";
var SubFeedSelector_default = SubFeedSelector;

// dist/src/parser/classes/SubscribeButton.js
var SubscribeButton = class extends YTNode {
  constructor(data) {
    var _a3, _b;
    super();
    this.title = new Text_default(data.buttonText);
    this.subscribed = data.subscribed;
    this.enabled = data.enabled;
    this.type = data.type;
    this.channel_id = data.channelId;
    this.show_preferences = data.showPreferences;
    this.subscribed_text = new Text_default(data.subscribedButtonText);
    this.unsubscribed_text = new Text_default(data.unsubscribedButtonText);
    this.notification_preference_button = Parser.parse(
      data.notificationPreferenceButton,
    );
    this.endpoint = new NavigationEndpoint_default(
      ((_a3 = data.serviceEndpoints) === null || _a3 === void 0
        ? void 0
        : _a3[0]) || ((_b = data.onSubscribeEndpoints) === null || _b === void 0
          ? void 0
          : _b[0]),
    );
  }
};
__name(SubscribeButton, "SubscribeButton");
SubscribeButton.type = "SubscribeButton";
var SubscribeButton_default = SubscribeButton;

// dist/src/parser/classes/SubscriptionNotificationToggleButton.js
var SubscriptionNotificationToggleButton = class extends YTNode {
  constructor(data) {
    super();
    this.states = data.states.map((state) => ({
      id: state.stateId,
      next_id: state.nextStateId,
      state: Parser.parse(state.state),
    }));
    this.current_state_id = data.currentStateId;
    this.target_id = data.targetId;
  }
};
__name(
  SubscriptionNotificationToggleButton,
  "SubscriptionNotificationToggleButton",
);
SubscriptionNotificationToggleButton.type =
  "SubscriptionNotificationToggleButton";
var SubscriptionNotificationToggleButton_default =
  SubscriptionNotificationToggleButton;

// dist/src/parser/classes/Tabbed.js
var Tabbed = class extends YTNode {
  constructor(data) {
    super();
    this.contents = Parser.parse(data);
  }
};
__name(Tabbed, "Tabbed");
Tabbed.type = "Tabbed";
var Tabbed_default = Tabbed;

// dist/src/parser/classes/TabbedSearchResults.js
var TabbedSearchResults = class extends YTNode {
  constructor(data) {
    super();
    this.tabs = Parser.parseArray(data.tabs, Tab_default);
  }
};
__name(TabbedSearchResults, "TabbedSearchResults");
TabbedSearchResults.type = "TabbedSearchResults";
var TabbedSearchResults_default = TabbedSearchResults;

// dist/src/parser/classes/TextHeader.js
var TextHeader = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.title);
    this.style = data.style;
  }
};
__name(TextHeader, "TextHeader");
TextHeader.type = "TextHeader";
var TextHeader_default = TextHeader;

// dist/src/parser/classes/ThumbnailOverlayBottomPanel.js
var ThumbnailOverlayBottomPanel = class extends YTNode {
  constructor(data) {
    super();
    this.type = data.icon.iconType;
  }
};
__name(ThumbnailOverlayBottomPanel, "ThumbnailOverlayBottomPanel");
ThumbnailOverlayBottomPanel.type = "ThumbnailOverlayBottomPanel";
var ThumbnailOverlayBottomPanel_default = ThumbnailOverlayBottomPanel;

// dist/src/parser/classes/ThumbnailOverlayEndorsement.js
var ThumbnailOverlayEndorsement = class extends YTNode {
  constructor(data) {
    super();
    this.text = new Text_default(data.text).toString();
  }
};
__name(ThumbnailOverlayEndorsement, "ThumbnailOverlayEndorsement");
ThumbnailOverlayEndorsement.type = "ThumbnailOverlayEndorsement";
var ThumbnailOverlayEndorsement_default = ThumbnailOverlayEndorsement;

// dist/src/parser/classes/ThumbnailOverlayHoverText.js
var ThumbnailOverlayHoverText = class extends YTNode {
  constructor(data) {
    super();
    this.text = new Text_default(data.text);
    this.type = data.icon.iconType;
  }
};
__name(ThumbnailOverlayHoverText, "ThumbnailOverlayHoverText");
ThumbnailOverlayHoverText.type = "ThumbnailOverlayHoverText";
var ThumbnailOverlayHoverText_default = ThumbnailOverlayHoverText;

// dist/src/parser/classes/ThumbnailOverlayInlineUnplayable.js
var ThumbnailOverlayInlineUnplayable = class extends YTNode {
  constructor(data) {
    super();
    this.text = new Text_default(data.text).toString();
    this.icon_type = data.icon.iconType;
  }
};
__name(ThumbnailOverlayInlineUnplayable, "ThumbnailOverlayInlineUnplayable");
ThumbnailOverlayInlineUnplayable.type = "ThumbnailOverlayInlineUnplayable";
var ThumbnailOverlayInlineUnplayable_default = ThumbnailOverlayInlineUnplayable;

// dist/src/parser/classes/ThumbnailOverlayLoadingPreview.js
var ThumbnailOverlayLoadingPreview = class extends YTNode {
  constructor(data) {
    super();
    this.text = new Text_default(data.text);
  }
};
__name(ThumbnailOverlayLoadingPreview, "ThumbnailOverlayLoadingPreview");
ThumbnailOverlayLoadingPreview.type = "ThumbnailOverlayLoadingPreview";
var ThumbnailOverlayLoadingPreview_default = ThumbnailOverlayLoadingPreview;

// dist/src/parser/classes/ThumbnailOverlayNowPlaying.js
var ThumbnailOverlayNowPlaying = class extends YTNode {
  constructor(data) {
    super();
    this.text = new Text_default(data.text).text;
  }
};
__name(ThumbnailOverlayNowPlaying, "ThumbnailOverlayNowPlaying");
ThumbnailOverlayNowPlaying.type = "ThumbnailOverlayNowPlaying";
var ThumbnailOverlayNowPlaying_default = ThumbnailOverlayNowPlaying;

// dist/src/parser/classes/ThumbnailOverlayPinking.js
var ThumbnailOverlayPinking = class extends YTNode {
  constructor(data) {
    super();
    this.hack = data.hack;
  }
};
__name(ThumbnailOverlayPinking, "ThumbnailOverlayPinking");
ThumbnailOverlayPinking.type = "ThumbnailOverlayPinking";
var ThumbnailOverlayPinking_default = ThumbnailOverlayPinking;

// dist/src/parser/classes/ThumbnailOverlayPlaybackStatus.js
var ThumbnailOverlayPlaybackStatus = class extends YTNode {
  constructor(data) {
    super();
    this.text = data.texts.map((text) => new Text_default(text))[0].toString();
  }
};
__name(ThumbnailOverlayPlaybackStatus, "ThumbnailOverlayPlaybackStatus");
ThumbnailOverlayPlaybackStatus.type = "ThumbnailOverlayPlaybackStatus";
var ThumbnailOverlayPlaybackStatus_default = ThumbnailOverlayPlaybackStatus;

// dist/src/parser/classes/ThumbnailOverlayResumePlayback.js
var ThumbnailOverlayResumePlayback = class extends YTNode {
  constructor(data) {
    super();
    this.percent_duration_watched = data.percentDurationWatched;
  }
};
__name(ThumbnailOverlayResumePlayback, "ThumbnailOverlayResumePlayback");
ThumbnailOverlayResumePlayback.type = "ThumbnailOverlayResumePlayback";
var ThumbnailOverlayResumePlayback_default = ThumbnailOverlayResumePlayback;

// dist/src/parser/classes/ThumbnailOverlaySidePanel.js
var ThumbnailOverlaySidePanel = class extends YTNode {
  constructor(data) {
    super();
    this.text = new Text_default(data.text);
    this.type = data.icon.iconType;
  }
};
__name(ThumbnailOverlaySidePanel, "ThumbnailOverlaySidePanel");
ThumbnailOverlaySidePanel.type = "ThumbnailOverlaySidePanel";
var ThumbnailOverlaySidePanel_default = ThumbnailOverlaySidePanel;

// dist/src/parser/classes/ThumbnailOverlayTimeStatus.js
var ThumbnailOverlayTimeStatus = class extends YTNode {
  constructor(data) {
    super();
    this.text = new Text_default(data.text).text;
  }
};
__name(ThumbnailOverlayTimeStatus, "ThumbnailOverlayTimeStatus");
ThumbnailOverlayTimeStatus.type = "ThumbnailOverlayTimeStatus";
var ThumbnailOverlayTimeStatus_default = ThumbnailOverlayTimeStatus;

// dist/src/parser/classes/ThumbnailOverlayToggleButton.js
var ThumbnailOverlayToggleButton = class extends YTNode {
  constructor(data) {
    super();
    this.is_toggled = data.isToggled || null;
    this.icon_type = {
      toggled: data.toggledIcon.iconType,
      untoggled: data.untoggledIcon.iconType,
    };
    this.tooltip = {
      toggled: data.toggledTooltip,
      untoggled: data.untoggledTooltip,
    };
    this.toggled_endpoint = new NavigationEndpoint_default(
      data.toggledServiceEndpoint,
    );
    this.untoggled_endpoint = new NavigationEndpoint_default(
      data.untoggledServiceEndpoint,
    );
  }
};
__name(ThumbnailOverlayToggleButton, "ThumbnailOverlayToggleButton");
ThumbnailOverlayToggleButton.type = "ThumbnailOverlayToggleButton";
var ThumbnailOverlayToggleButton_default = ThumbnailOverlayToggleButton;

// dist/src/parser/classes/ToggleButton.js
var ToggleButton = class extends YTNode {
  constructor(data) {
    var _a3, _b, _c, _d, _e, _f, _g, _h;
    super();
    this.text = new Text_default(data.defaultText);
    this.toggled_text = new Text_default(data.toggledText);
    this.tooltip = data.defaultTooltip;
    this.toggled_tooltip = data.toggledTooltip;
    this.is_toggled = data.isToggled;
    this.is_disabled = data.isDisabled;
    this.icon_type = data.defaultIcon.iconType;
    const acc_label =
      ((_b = (_a3 = data === null || data === void 0
                    ? void 0
                    : data.defaultText) === null || _a3 === void 0
              ? void 0
              : _a3.accessibility) === null || _b === void 0
        ? void 0
        : _b.accessibilityData.label) ||
      ((_c = data === null || data === void 0
              ? void 0
              : data.accessibilityData) === null || _c === void 0
        ? void 0
        : _c.accessibilityData.label) ||
      ((_d = data === null || data === void 0
              ? void 0
              : data.accessibility) === null || _d === void 0
        ? void 0
        : _d.label);
    if (this.icon_type == "LIKE") {
      this.like_count = parseInt(acc_label.replace(/\D/g, ""));
      this.short_like_count = new Text_default(data.defaultText).toString();
    }
    this.endpoint =
      ((_f = (_e = data.defaultServiceEndpoint) === null || _e === void 0
                ? void 0
                : _e.commandExecutorCommand) === null || _f === void 0
          ? void 0
          : _f.commands)
        ? new NavigationEndpoint_default(
          data.defaultServiceEndpoint.commandExecutorCommand.commands.pop(),
        )
        : new NavigationEndpoint_default(data.defaultServiceEndpoint);
    this.toggled_endpoint = new NavigationEndpoint_default(
      data.toggledServiceEndpoint,
    );
    this.button_id =
      ((_h = (_g = data.toggleButtonSupportedData) === null || _g === void 0
              ? void 0
              : _g.toggleButtonIdData) === null || _h === void 0
        ? void 0
        : _h.id) || null;
    this.target_id = data.targetId || null;
  }
};
__name(ToggleButton, "ToggleButton");
ToggleButton.type = "ToggleButton";
var ToggleButton_default = ToggleButton;

// dist/src/parser/classes/ToggleMenuServiceItem.js
var ToggleMenuServiceItem = class extends YTNode {
  constructor(data) {
    super();
    this.text = new Text_default(data.defaultText);
    this.toggled_text = new Text_default(data.toggledText);
    this.icon_type = data.defaultIcon.iconType;
    this.toggled_icon_type = data.toggledIcon.iconType;
    this.endpoint = new NavigationEndpoint_default(data.toggledServiceEndpoint);
  }
};
__name(ToggleMenuServiceItem, "ToggleMenuServiceItem");
ToggleMenuServiceItem.type = "ToggleMenuServiceItem";
var ToggleMenuServiceItem_default = ToggleMenuServiceItem;

// dist/src/parser/classes/Tooltip.js
var Tooltip = class extends YTNode {
  constructor(data) {
    super();
    this.promo_config = {
      promo_id: data.promoConfig.promoId,
      impression_endpoints: data.promoConfig.impressionEndpoints.map((
        endpoint,
      ) => new NavigationEndpoint_default(endpoint)),
      accept: new NavigationEndpoint_default(data.promoConfig.acceptCommand),
      dismiss: new NavigationEndpoint_default(data.promoConfig.dismissCommand),
    };
    this.target_id = data.targetId;
    this.details = new Text_default(data.detailsText);
    this.suggested_position = data.suggestedPosition.type;
    this.dismiss_stratedy = data.dismissStrategy.type;
    this.dwell_time_ms = parseInt(data.dwellTimeMs);
  }
};
__name(Tooltip, "Tooltip");
Tooltip.type = "Tooltip";
var Tooltip_default = Tooltip;

// dist/src/parser/classes/TwoColumnBrowseResults.js
var TwoColumnBrowseResults = class extends YTNode {
  constructor(data) {
    super();
    this.tabs = Parser.parse(data.tabs);
    this.secondary_contents = Parser.parse(data.secondaryContents);
  }
};
__name(TwoColumnBrowseResults, "TwoColumnBrowseResults");
TwoColumnBrowseResults.type = "TwoColumnBrowseResults";
var TwoColumnBrowseResults_default = TwoColumnBrowseResults;

// dist/src/parser/classes/TwoColumnSearchResults.js
var TwoColumnSearchResults = class extends YTNode {
  constructor(data) {
    super();
    this.primary_contents = Parser.parse(data.primaryContents);
    this.secondary_contents = Parser.parse(data.secondaryContents);
  }
};
__name(TwoColumnSearchResults, "TwoColumnSearchResults");
TwoColumnSearchResults.type = "TwoColumnSearchResults";
var TwoColumnSearchResults_default = TwoColumnSearchResults;

// dist/src/parser/classes/TwoColumnWatchNextResults.js
var TwoColumnWatchNextResults = class extends YTNode {
  constructor(data) {
    var _a3, _b;
    super();
    this.results = Parser.parse(
      (_a3 = data.results) === null || _a3 === void 0
        ? void 0
        : _a3.results.contents,
      true,
    );
    this.secondary_results = Parser.parse(
      (_b = data.secondaryResults) === null || _b === void 0
        ? void 0
        : _b.secondaryResults.results,
      true,
    );
    this.conversation_bar = Parser.parse(
      data === null || data === void 0 ? void 0 : data.conversationBar,
    );
  }
};
__name(TwoColumnWatchNextResults, "TwoColumnWatchNextResults");
TwoColumnWatchNextResults.type = "TwoColumnWatchNextResults";
var TwoColumnWatchNextResults_default = TwoColumnWatchNextResults;

// dist/src/parser/classes/UniversalWatchCard.js
var UniversalWatchCard = class extends YTNode {
  constructor(data) {
    super();
    this.header = Parser.parse(data.header);
    this.call_to_action = Parser.parse(data.callToAction);
    this.sections = Parser.parse(data.sections);
  }
};
__name(UniversalWatchCard, "UniversalWatchCard");
UniversalWatchCard.type = "UniversalWatchCard";
var UniversalWatchCard_default = UniversalWatchCard;

// dist/src/parser/classes/VerticalList.js
var VerticalList = class extends YTNode {
  constructor(data) {
    super();
    this.items = Parser.parse(data.items);
    this.collapsed_item_count = data.collapsedItemCount;
    this.collapsed_state_button_text = new Text_default(
      data.collapsedStateButtonText,
    );
  }
  get contents() {
    return this.items;
  }
};
__name(VerticalList, "VerticalList");
VerticalList.type = "VerticalList";
var VerticalList_default = VerticalList;

// dist/src/parser/classes/VerticalWatchCardList.js
var VerticalWatchCardList = class extends YTNode {
  constructor(data) {
    super();
    this.items = Parser.parse(data.items);
    this.contents = this.items;
    this.view_all_text = new Text_default(data.viewAllText);
    this.view_all_endpoint = new NavigationEndpoint_default(
      data.viewAllEndpoint,
    );
  }
};
__name(VerticalWatchCardList, "VerticalWatchCardList");
VerticalWatchCardList.type = "VerticalWatchCardList";
var VerticalWatchCardList_default = VerticalWatchCardList;

// dist/src/parser/classes/Video.js
var Video = class extends YTNode {
  constructor(data) {
    var _a3, _b, _c, _d;
    super();
    const overlay_time_status =
      ((_a3 = data.thumbnailOverlays.find((overlay) =>
              overlay.thumbnailOverlayTimeStatusRenderer
            )) === null || _a3 === void 0
        ? void 0
        : _a3.thumbnailOverlayTimeStatusRenderer.text) || "N/A";
    this.id = data.videoId;
    this.title = new Text_default(data.title);
    this.description_snippet = data.descriptionSnippet
      ? new Text_default(data.descriptionSnippet, "")
      : null;
    this.snippets =
      ((_b = data.detailedMetadataSnippets) === null || _b === void 0
        ? void 0
        : _b.map((snippet) => ({
          text: new Text_default(snippet.snippetText),
          hover_text: new Text_default(snippet.snippetHoverText),
        }))) || [];
    this.thumbnails = Thumbnail_default.fromResponse(data.thumbnail);
    this.thumbnail_overlays = Parser.parse(data.thumbnailOverlays);
    this.rich_thumbnail = data.richThumbnail &&
      Parser.parse(data.richThumbnail);
    this.author = new Author_default(
      data.ownerText,
      data.ownerBadges,
      (_d =
            (_c = data.channelThumbnailSupportedRenderers) === null ||
              _c === void 0
              ? void 0
              : _c.channelThumbnailWithLinkRenderer) === null || _d === void 0
        ? void 0
        : _d.thumbnail,
    );
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
    this.published = new Text_default(data.publishedTimeText);
    this.view_count_text = new Text_default(data.viewCountText);
    this.short_view_count_text = new Text_default(data.shortViewCountText);
    const upcoming = data.upcomingEventData &&
      Number(`${data.upcomingEventData.startTime}000`);
    if (upcoming) {
      this.upcoming = new Date(upcoming);
    }
    this.duration = {
      text: data.lengthText
        ? new Text_default(data.lengthText).text
        : new Text_default(overlay_time_status).text,
      seconds: timeToSeconds(
        data.lengthText
          ? new Text_default(data.lengthText).text
          : new Text_default(overlay_time_status).text,
      ),
    };
    this.show_action_menu = data.showActionMenu;
    this.is_watched = data.isWatched || false;
    this.menu = Parser.parse(data.menu);
  }
  get description() {
    var _a3;
    if (this.snippets.length > 0) {
      return this.snippets.map((snip) => snip.text.toString()).join("");
    }
    return ((_a3 = this.description_snippet) === null || _a3 === void 0
      ? void 0
      : _a3.toString()) || "";
  }
  get is_live() {
    return this.badges.some((badge) =>
      badge.style === "BADGE_STYLE_TYPE_LIVE_NOW"
    );
  }
  get is_upcoming() {
    return this.upcoming && this.upcoming > new Date();
  }
  get has_captions() {
    return this.badges.some((badge) => badge.label === "CC");
  }
  get best_thumbnail() {
    return this.thumbnails[0];
  }
};
__name(Video, "Video");
Video.type = "Video";
var Video_default = Video;

// dist/src/parser/classes/VideoInfoCardContent.js
var VideoInfoCardContent = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.videoTitle);
    this.channel_name = new Text_default(data.channelName);
    this.view_count = new Text_default(data.viewCountText);
    this.video_thumbnails = Thumbnail_default.fromResponse(data.videoThumbnail);
    this.duration = new Text_default(data.lengthString);
    this.endpoint = new NavigationEndpoint_default(data.action);
  }
};
__name(VideoInfoCardContent, "VideoInfoCardContent");
VideoInfoCardContent.type = "VideoInfoCardContent";
var VideoInfoCardContent_default = VideoInfoCardContent;

// dist/src/parser/classes/VideoOwner.js
var VideoOwner = class extends YTNode {
  constructor(data) {
    super();
    this.subscription_button = data.subscriptionButton || null;
    this.subscriber_count = new Text_default(data.subscriberCountText);
    this.author = new Author_default(
      Object.assign(Object.assign({}, data.title), {
        navigationEndpoint: data.navigationEndpoint,
      }),
      data.badges,
      data.thumbnail,
    );
  }
};
__name(VideoOwner, "VideoOwner");
VideoOwner.type = "VideoOwner";
var VideoOwner_default = VideoOwner;

// dist/src/parser/classes/VideoPrimaryInfo.js
var VideoPrimaryInfo = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.title);
    this.super_title_link = new Text_default(data.superTitleLink);
    this.view_count = new Text_default(
      data.viewCount.videoViewCountRenderer.viewCount,
    );
    this.short_view_count = new Text_default(
      data.viewCount.videoViewCountRenderer.shortViewCount,
    );
    this.published = new Text_default(data.dateText);
    this.menu = Parser.parseItem(data.videoActions, Menu_default);
  }
};
__name(VideoPrimaryInfo, "VideoPrimaryInfo");
VideoPrimaryInfo.type = "VideoPrimaryInfo";
var VideoPrimaryInfo_default = VideoPrimaryInfo;

// dist/src/parser/classes/VideoSecondaryInfo.js
var VideoSecondaryInfo = class extends YTNode {
  constructor(data) {
    super();
    this.owner = Parser.parse(data.owner);
    this.description = new Text_default(data.description);
    this.subscribe_button = Parser.parse(data.subscribeButton);
    this.metadata = Parser.parseItem(
      data.metadataRowContainer,
      MetadataRowContainer_default,
    );
    this.show_more_text = data.showMoreText;
    this.show_less_text = data.showLessText;
    this.default_expanded = data.defaultExpanded;
    this.description_collapsed_lines = data.descriptionCollapsedLines;
  }
};
__name(VideoSecondaryInfo, "VideoSecondaryInfo");
VideoSecondaryInfo.type = "VideoSecondaryInfo";
var VideoSecondaryInfo_default = VideoSecondaryInfo;

// dist/src/parser/classes/WatchCardCompactVideo.js
var WatchCardCompactVideo = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.title);
    this.subtitle = new Text_default(data.subtitle);
    this.duration = {
      text: new Text_default(data.lengthText).toString(),
      seconds: timeToSeconds(data.lengthText.simpleText),
    };
    this.style = data.style;
  }
};
__name(WatchCardCompactVideo, "WatchCardCompactVideo");
WatchCardCompactVideo.type = "WatchCardCompactVideo";
var WatchCardCompactVideo_default = WatchCardCompactVideo;

// dist/src/parser/classes/WatchCardHeroVideo.js
var WatchCardHeroVideo = class extends YTNode {
  constructor(data) {
    super();
    this.endpoint = new NavigationEndpoint_default(data.navigationEndpoint);
    this.call_to_action_button = Parser.parse(data.callToActionButton);
    this.hero_image = Parser.parse(data.heroImage);
    this.label = data.accessibility.accessibilityData.label;
  }
};
__name(WatchCardHeroVideo, "WatchCardHeroVideo");
WatchCardHeroVideo.type = "WatchCardHeroVideo";
var WatchCardHeroVideo_default = WatchCardHeroVideo;

// dist/src/parser/classes/WatchCardRichHeader.js
var WatchCardRichHeader = class extends YTNode {
  constructor(data) {
    super();
    this.title = new Text_default(data.title);
    this.title_endpoint = new NavigationEndpoint_default(
      data.titleNavigationEndpoint,
    );
    this.subtitle = new Text_default(data.subtitle);
    this.author = new Author_default(
      data,
      data.titleBadge ? [data.titleBadge] : null,
      data.avatar,
    );
    this.author.name = this.title;
    this.style = data.style;
  }
};
__name(WatchCardRichHeader, "WatchCardRichHeader");
WatchCardRichHeader.type = "WatchCardRichHeader";
var WatchCardRichHeader_default = WatchCardRichHeader;

// dist/src/parser/classes/WatchCardSectionSequence.js
var WatchCardSectionSequence = class extends YTNode {
  constructor(data) {
    super();
    this.lists = Parser.parse(data.lists);
  }
};
__name(WatchCardSectionSequence, "WatchCardSectionSequence");
WatchCardSectionSequence.type = "WatchCardSectionSequence";
var WatchCardSectionSequence_default = WatchCardSectionSequence;

// dist/src/parser/classes/WatchNextEndScreen.js
var WatchNextEndScreen = class extends YTNode {
  constructor(data) {
    super();
    this.results = Parser.parse(data.results);
    this.title = new Text_default(data.title).toString();
  }
};
__name(WatchNextEndScreen, "WatchNextEndScreen");
WatchNextEndScreen.type = "WatchNextEndScreen";
var WatchNextEndScreen_default = WatchNextEndScreen;

// dist/src/parser/classes/WatchNextTabbedResults.js
var WatchNextTabbedResults = class extends TwoColumnBrowseResults_default {
  constructor(data) {
    super(data);
  }
};
__name(WatchNextTabbedResults, "WatchNextTabbedResults");
WatchNextTabbedResults.type = "WatchNextTabbedResults";
var WatchNextTabbedResults_default = WatchNextTabbedResults;

// dist/src/parser/map.js
var map = {
  AppendContinuationItemsAction: AppendContinuationItemsAction_default,
  OpenPopupAction: OpenPopupAction_default,
  AnalyticsMainAppKeyMetrics: AnalyticsMainAppKeyMetrics_default,
  AnalyticsRoot: AnalyticsRoot_default,
  AnalyticsShortsCarouselCard: AnalyticsShortsCarouselCard_default,
  AnalyticsVideo: AnalyticsVideo_default,
  AnalyticsVodCarouselCard: AnalyticsVodCarouselCard_default,
  CtaGoToCreatorStudio: CtaGoToCreatorStudio_default,
  DataModelSection: DataModelSection_default,
  BackstageImage: BackstageImage_default,
  BackstagePost: BackstagePost_default,
  BackstagePostThread: BackstagePostThread_default,
  BrowseFeedActions: BrowseFeedActions_default,
  Button: Button_default,
  C4TabbedHeader: C4TabbedHeader_default,
  CallToActionButton: CallToActionButton_default,
  Card: Card_default,
  CardCollection: CardCollection_default,
  Channel: Channel_default,
  ChannelAboutFullMetadata: ChannelAboutFullMetadata_default,
  ChannelFeaturedContent: ChannelFeaturedContent_default,
  ChannelHeaderLinks: ChannelHeaderLinks_default,
  ChannelMetadata: ChannelMetadata_default,
  ChannelMobileHeader: ChannelMobileHeader_default,
  ChannelThumbnailWithLink: ChannelThumbnailWithLink_default,
  ChannelVideoPlayer: ChannelVideoPlayer_default,
  ChildVideo: ChildVideo_default,
  ChipCloud: ChipCloud_default,
  ChipCloudChip: ChipCloudChip_default,
  CollageHeroImage: CollageHeroImage_default,
  AuthorCommentBadge: AuthorCommentBadge_default,
  Comment: Comment_default,
  CommentActionButtons: CommentActionButtons_default,
  CommentReplies: CommentReplies_default,
  CommentReplyDialog: CommentReplyDialog_default,
  CommentsEntryPointHeader: CommentsEntryPointHeader_default,
  CommentsHeader: CommentsHeader_default,
  CommentSimplebox: CommentSimplebox_default,
  CommentThread: CommentThread_default,
  CompactLink: CompactLink_default,
  CompactMix: CompactMix_default,
  CompactPlaylist: CompactPlaylist_default,
  CompactVideo: CompactVideo_default,
  ContinuationItem: ContinuationItem_default,
  DidYouMean: DidYouMean_default,
  DownloadButton: DownloadButton_default,
  Element: Element_default,
  EmergencyOnebox: EmergencyOnebox_default,
  Endscreen: Endscreen_default,
  EndscreenElement: EndscreenElement_default,
  EndScreenPlaylist: EndScreenPlaylist_default,
  EndScreenVideo: EndScreenVideo_default,
  ExpandableTab: ExpandableTab_default,
  ExpandedShelfContents: ExpandedShelfContents_default,
  FeedFilterChipBar: FeedFilterChipBar_default,
  FeedTabbedHeader: FeedTabbedHeader_default,
  Grid: Grid_default,
  GridChannel: GridChannel_default,
  GridPlaylist: GridPlaylist_default,
  GridVideo: GridVideo_default,
  HistorySuggestion: HistorySuggestion_default,
  HorizontalCardList: HorizontalCardList_default,
  HorizontalList: HorizontalList_default,
  ItemSection: ItemSection_default,
  ItemSectionHeader: ItemSectionHeader_default,
  LikeButton: LikeButton_default,
  LiveChat: LiveChat_default,
  AddBannerToLiveChatCommand: AddBannerToLiveChatCommand_default,
  AddChatItemAction: AddChatItemAction_default,
  AddLiveChatTickerItemAction: AddLiveChatTickerItemAction_default,
  LiveChatBanner: LiveChatBanner_default,
  LiveChatBannerHeader: LiveChatBannerHeader_default,
  LiveChatBannerPoll: LiveChatBannerPoll_default,
  LiveChatMembershipItem: LiveChatMembershipItem_default,
  LiveChatPaidMessage: LiveChatPaidMessage_default,
  LiveChatPaidSticker: LiveChatPaidSticker_default,
  LiveChatPlaceholderItem: LiveChatPlaceholderItem_default,
  LiveChatProductItem: LiveChatProductItem_default,
  LiveChatTextMessage: LiveChatTextMessage_default,
  LiveChatTickerPaidMessageItem: LiveChatTickerPaidMessageItem_default,
  LiveChatTickerSponsorItem: LiveChatTickerSponsorItem_default,
  LiveChatViewerEngagementMessage: LiveChatViewerEngagementMessage_default,
  PollHeader: PollHeader_default,
  LiveChatActionPanel: LiveChatActionPanel_default,
  MarkChatItemAsDeletedAction: MarkChatItemAsDeletedAction_default,
  MarkChatItemsByAuthorAsDeletedAction:
    MarkChatItemsByAuthorAsDeletedAction_default,
  RemoveBannerForLiveChatCommand: RemoveBannerForLiveChatCommand_default,
  ReplaceChatItemAction: ReplaceChatItemAction_default,
  ReplayChatItemAction: ReplayChatItemAction_default,
  ShowLiveChatActionPanelAction: ShowLiveChatActionPanelAction_default,
  ShowLiveChatTooltipCommand: ShowLiveChatTooltipCommand_default,
  UpdateDateTextAction: UpdateDateTextAction_default,
  UpdateDescriptionAction: UpdateDescriptionAction_default,
  UpdateLiveChatPollAction: UpdateLiveChatPollAction_default,
  UpdateTitleAction: UpdateTitleAction_default,
  UpdateToggleButtonTextAction: UpdateToggleButtonTextAction_default,
  UpdateViewershipAction: UpdateViewershipAction_default,
  LiveChatAuthorBadge: LiveChatAuthorBadge_default,
  LiveChatHeader: LiveChatHeader_default,
  LiveChatItemList: LiveChatItemList_default,
  LiveChatMessageInput: LiveChatMessageInput_default,
  LiveChatParticipant: LiveChatParticipant_default,
  LiveChatParticipantsList: LiveChatParticipantsList_default,
  Menu: Menu_default,
  MenuNavigationItem: MenuNavigationItem_default,
  MenuServiceItem: MenuServiceItem_default,
  MenuServiceItemDownload: MenuServiceItemDownload_default,
  MultiPageMenu: MultiPageMenu_default,
  MultiPageMenuNotificationSection: MultiPageMenuNotificationSection_default,
  SimpleMenuHeader: SimpleMenuHeader_default,
  MerchandiseItem: MerchandiseItem_default,
  MerchandiseShelf: MerchandiseShelf_default,
  Message: Message_default,
  MetadataBadge: MetadataBadge_default,
  MetadataRow: MetadataRow_default,
  MetadataRowContainer: MetadataRowContainer_default,
  MetadataRowHeader: MetadataRowHeader_default,
  MicroformatData: MicroformatData_default,
  Mix: Mix_default,
  Movie: Movie_default,
  MovingThumbnail: MovingThumbnail_default,
  MusicCarouselShelf: MusicCarouselShelf_default,
  MusicCarouselShelfBasicHeader: MusicCarouselShelfBasicHeader_default,
  MusicDescriptionShelf: MusicDescriptionShelf_default,
  MusicDetailHeader: MusicDetailHeader_default,
  MusicHeader: MusicHeader_default,
  MusicImmersiveHeader: MusicImmersiveHeader_default,
  MusicInlineBadge: MusicInlineBadge_default,
  MusicItemThumbnailOverlay: MusicItemThumbnailOverlay_default,
  MusicNavigationButton: MusicNavigationButton_default,
  MusicPlayButton: MusicPlayButton_default,
  MusicPlaylistShelf: MusicPlaylistShelf_default,
  MusicQueue: MusicQueue_default,
  MusicResponsiveListItem: MusicResponsiveListItem_default,
  MusicResponsiveListItemFixedColumn:
    MusicResponsiveListItemFixedColumn_default,
  MusicResponsiveListItemFlexColumn: MusicResponsiveListItemFlexColumn_default,
  MusicShelf: MusicShelf_default,
  MusicThumbnail: MusicThumbnail_default,
  MusicTwoRowItem: MusicTwoRowItem_default,
  NavigationEndpoint: NavigationEndpoint_default,
  Notification: Notification_default,
  PlayerAnnotationsExpanded: PlayerAnnotationsExpanded_default,
  PlayerCaptionsTracklist: PlayerCaptionsTracklist_default,
  PlayerErrorMessage: PlayerErrorMessage_default,
  PlayerLiveStoryboardSpec: PlayerLiveStoryboardSpec_default,
  PlayerMicroformat: PlayerMicroformat_default,
  PlayerOverlay: PlayerOverlay_default,
  PlayerOverlayAutoplay: PlayerOverlayAutoplay_default,
  PlayerStoryboardSpec: PlayerStoryboardSpec_default,
  Playlist: Playlist_default,
  PlaylistHeader: PlaylistHeader_default,
  PlaylistInfoCardContent: PlaylistInfoCardContent_default,
  PlaylistMetadata: PlaylistMetadata_default,
  PlaylistPanel: PlaylistPanel_default,
  PlaylistPanelVideo: PlaylistPanelVideo_default,
  PlaylistSidebar: PlaylistSidebar_default,
  PlaylistSidebarPrimaryInfo: PlaylistSidebarPrimaryInfo_default,
  PlaylistSidebarSecondaryInfo: PlaylistSidebarSecondaryInfo_default,
  PlaylistVideo: PlaylistVideo_default,
  PlaylistVideoList: PlaylistVideoList_default,
  PlaylistVideoThumbnail: PlaylistVideoThumbnail_default,
  Poll: Poll_default,
  Post: Post_default,
  ProfileColumn: ProfileColumn_default,
  ProfileColumnStats: ProfileColumnStats_default,
  ProfileColumnStatsEntry: ProfileColumnStatsEntry_default,
  ProfileColumnUserInfo: ProfileColumnUserInfo_default,
  ReelItem: ReelItem_default,
  ReelShelf: ReelShelf_default,
  RelatedChipCloud: RelatedChipCloud_default,
  RichGrid: RichGrid_default,
  RichItem: RichItem_default,
  RichListHeader: RichListHeader_default,
  RichSection: RichSection_default,
  RichShelf: RichShelf_default,
  SearchBox: SearchBox_default,
  SearchRefinementCard: SearchRefinementCard_default,
  SearchSuggestion: SearchSuggestion_default,
  SearchSuggestionsSection: SearchSuggestionsSection_default,
  SecondarySearchContainer: SecondarySearchContainer_default,
  SectionList: SectionList_default,
  Shelf: Shelf_default,
  ShowingResultsFor: ShowingResultsFor_default,
  SimpleCardContent: SimpleCardContent_default,
  SimpleCardTeaser: SimpleCardTeaser_default,
  SingleActionEmergencySupport: SingleActionEmergencySupport_default,
  SingleColumnBrowseResults: SingleColumnBrowseResults_default,
  SingleColumnMusicWatchNextResults: SingleColumnMusicWatchNextResults_default,
  SingleHeroImage: SingleHeroImage_default,
  SortFilterSubMenu: SortFilterSubMenu_default,
  SubFeedOption: SubFeedOption_default,
  SubFeedSelector: SubFeedSelector_default,
  SubscribeButton: SubscribeButton_default,
  SubscriptionNotificationToggleButton:
    SubscriptionNotificationToggleButton_default,
  Tab: Tab_default,
  Tabbed: Tabbed_default,
  TabbedSearchResults: TabbedSearchResults_default,
  TextHeader: TextHeader_default,
  ThumbnailOverlayBottomPanel: ThumbnailOverlayBottomPanel_default,
  ThumbnailOverlayEndorsement: ThumbnailOverlayEndorsement_default,
  ThumbnailOverlayHoverText: ThumbnailOverlayHoverText_default,
  ThumbnailOverlayInlineUnplayable: ThumbnailOverlayInlineUnplayable_default,
  ThumbnailOverlayLoadingPreview: ThumbnailOverlayLoadingPreview_default,
  ThumbnailOverlayNowPlaying: ThumbnailOverlayNowPlaying_default,
  ThumbnailOverlayPinking: ThumbnailOverlayPinking_default,
  ThumbnailOverlayPlaybackStatus: ThumbnailOverlayPlaybackStatus_default,
  ThumbnailOverlayResumePlayback: ThumbnailOverlayResumePlayback_default,
  ThumbnailOverlaySidePanel: ThumbnailOverlaySidePanel_default,
  ThumbnailOverlayTimeStatus: ThumbnailOverlayTimeStatus_default,
  ThumbnailOverlayToggleButton: ThumbnailOverlayToggleButton_default,
  ToggleButton: ToggleButton_default,
  ToggleMenuServiceItem: ToggleMenuServiceItem_default,
  Tooltip: Tooltip_default,
  TwoColumnBrowseResults: TwoColumnBrowseResults_default,
  TwoColumnSearchResults: TwoColumnSearchResults_default,
  TwoColumnWatchNextResults: TwoColumnWatchNextResults_default,
  UniversalWatchCard: UniversalWatchCard_default,
  VerticalList: VerticalList_default,
  VerticalWatchCardList: VerticalWatchCardList_default,
  Video: Video_default,
  VideoInfoCardContent: VideoInfoCardContent_default,
  VideoOwner: VideoOwner_default,
  VideoPrimaryInfo: VideoPrimaryInfo_default,
  VideoSecondaryInfo: VideoSecondaryInfo_default,
  WatchCardCompactVideo: WatchCardCompactVideo_default,
  WatchCardHeroVideo: WatchCardHeroVideo_default,
  WatchCardRichHeader: WatchCardRichHeader_default,
  WatchCardSectionSequence: WatchCardSectionSequence_default,
  WatchNextEndScreen: WatchNextEndScreen_default,
  WatchNextTabbedResults: WatchNextTabbedResults_default,
};
function GetParserByName(name) {
  const ParserConstructor = map[name];
  if (!ParserConstructor) {
    const error = new Error(`Module not found: ${name}`);
    error.code = "MODULE_NOT_FOUND";
    throw error;
  }
  return ParserConstructor;
}
__name(GetParserByName, "GetParserByName");

// dist/src/parser/index.js
var __classPrivateFieldSet8 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet9 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _a;
var _Parser_memo;
var _Parser_clearMemo;
var _Parser_createMemo;
var _Parser_addToMemo;
var _Parser_getMemo;
var AppendContinuationItemsAction2 = class extends YTNode {
  constructor(data) {
    super();
    this.contents = Parser.parse(data.continuationItems, true);
  }
};
__name(AppendContinuationItemsAction2, "AppendContinuationItemsAction");
AppendContinuationItemsAction2.type = "appendContinuationItemsAction";
var ReloadContinuationItemsCommand = class extends YTNode {
  constructor(data) {
    super();
    this.target_id = data.targetId;
    this.contents = Parser.parse(data.continuationItems, true);
  }
};
__name(ReloadContinuationItemsCommand, "ReloadContinuationItemsCommand");
ReloadContinuationItemsCommand.type = "reloadContinuationItemsCommand";
var SectionListContinuation = class extends YTNode {
  constructor(data) {
    var _b;
    super();
    this.contents = Parser.parse(data.contents, true);
    this.continuation =
      ((_b = data.continuations) === null || _b === void 0
        ? void 0
        : _b[0].nextContinuationData.continuation) || null;
  }
};
__name(SectionListContinuation, "SectionListContinuation");
SectionListContinuation.type = "sectionListContinuation";
var MusicPlaylistShelfContinuation = class extends YTNode {
  constructor(data) {
    var _b;
    super();
    this.contents = Parser.parse(data.contents, true);
    this.continuation =
      ((_b = data.continuations) === null || _b === void 0
        ? void 0
        : _b[0].nextContinuationData.continuation) || null;
  }
};
__name(MusicPlaylistShelfContinuation, "MusicPlaylistShelfContinuation");
MusicPlaylistShelfContinuation.type = "musicPlaylistShelfContinuation";
var TimedContinuation = class extends YTNode {
  constructor(data) {
    super();
    this.timeout_ms = data.timeoutMs || data.timeUntilLastMessageMsec;
    this.token = data.continuation;
  }
};
__name(TimedContinuation, "TimedContinuation");
TimedContinuation.type = "timedContinuationData";
var LiveChatContinuation = class extends YTNode {
  constructor(data) {
    var _b, _c, _d, _e, _f;
    super();
    this.actions =
      Parser.parse(
        (_b = data.actions) === null || _b === void 0
          ? void 0
          : _b.map((action) => {
            delete action.clickTrackingParams;
            return action;
          }),
        true,
      ) || observe([]);
    this.action_panel = Parser.parseItem(data.actionPanel);
    this.item_list = Parser.parseItem(data.itemList);
    this.header = Parser.parseItem(data.header);
    this.participants_list = Parser.parseItem(data.participantsList);
    this.popout_message = Parser.parseItem(data.popoutMessage);
    this.emojis =
      ((_c = data.emojis) === null || _c === void 0
        ? void 0
        : _c.map((emoji) => ({
          emoji_id: emoji.emojiId,
          shortcuts: emoji.shortcuts,
          search_terms: emoji.searchTerms,
          image: emoji.image,
          is_custom_emoji: emoji.isCustomEmoji,
        }))) || null;
    this.continuation = new TimedContinuation(
      ((_d = data.continuations) === null || _d === void 0
        ? void 0
        : _d[0].timedContinuationData) ||
        ((_e = data.continuations) === null || _e === void 0
          ? void 0
          : _e[0].invalidationContinuationData) ||
        ((_f = data.continuations) === null || _f === void 0
          ? void 0
          : _f[0].liveChatReplayContinuationData),
    );
    this.viewer_name = data.viewerName;
  }
};
__name(LiveChatContinuation, "LiveChatContinuation");
LiveChatContinuation.type = "liveChatContinuation";
var Parser = class {
  static parseResponse(data) {
    var _b, _c, _d;
    __classPrivateFieldGet9(this, _a, "m", _Parser_createMemo).call(this);
    const contents = Parser.parse(data.contents);
    const contents_memo = __classPrivateFieldGet9(
      this,
      _a,
      "m",
      _Parser_getMemo,
    ).call(this);
    __classPrivateFieldGet9(this, _a, "m", _Parser_clearMemo).call(this);
    __classPrivateFieldGet9(this, _a, "m", _Parser_createMemo).call(this);
    const on_response_received_actions = data.onResponseReceivedActions
      ? Parser.parseRR(data.onResponseReceivedActions)
      : null;
    const on_response_received_actions_memo = __classPrivateFieldGet9(
      this,
      _a,
      "m",
      _Parser_getMemo,
    ).call(this);
    __classPrivateFieldGet9(this, _a, "m", _Parser_clearMemo).call(this);
    __classPrivateFieldGet9(this, _a, "m", _Parser_createMemo).call(this);
    const on_response_received_endpoints = data.onResponseReceivedEndpoints
      ? Parser.parseRR(data.onResponseReceivedEndpoints)
      : null;
    const on_response_received_endpoints_memo = __classPrivateFieldGet9(
      this,
      _a,
      "m",
      _Parser_getMemo,
    ).call(this);
    __classPrivateFieldGet9(this, _a, "m", _Parser_clearMemo).call(this);
    __classPrivateFieldGet9(this, _a, "m", _Parser_createMemo).call(this);
    const on_response_received_commands = data.onResponseReceivedCommands
      ? Parser.parseRR(data.onResponseReceivedCommands)
      : null;
    const on_response_received_commands_memo = __classPrivateFieldGet9(
      this,
      _a,
      "m",
      _Parser_getMemo,
    ).call(this);
    __classPrivateFieldGet9(this, _a, "m", _Parser_clearMemo).call(this);
    __classPrivateFieldGet9(this, _a, "m", _Parser_createMemo).call(this);
    const actions = data.actions ? Parser.parseActions(data.actions) : null;
    const actions_memo = __classPrivateFieldGet9(this, _a, "m", _Parser_getMemo)
      .call(this);
    __classPrivateFieldGet9(this, _a, "m", _Parser_clearMemo).call(this);
    return {
      actions,
      actions_memo,
      contents,
      contents_memo,
      on_response_received_actions,
      on_response_received_actions_memo,
      on_response_received_endpoints,
      on_response_received_endpoints_memo,
      on_response_received_commands,
      on_response_received_commands_memo,
      continuation: data.continuation ? Parser.parseC(data.continuation) : null,
      continuation_contents: data.continuationContents
        ? Parser.parseLC(data.continuationContents)
        : null,
      metadata: Parser.parse(data.metadata),
      header: Parser.parse(data.header),
      microformat: data.microformat ? Parser.parseItem(data.microformat) : null,
      sidebar: Parser.parseItem(data.sidebar),
      overlay: Parser.parseItem(data.overlay),
      refinements: data.refinements || null,
      estimated_results: data.estimatedResults
        ? parseInt(data.estimatedResults)
        : null,
      player_overlays: Parser.parse(data.playerOverlays),
      playability_status: data.playabilityStatus
        ? {
          status: data.playabilityStatus.status,
          error_screen: Parser.parse(data.playabilityStatus.errorScreen),
          embeddable: !!data.playabilityStatus.playableInEmbed || false,
          reason: ((_b = data.playabilityStatus) === null || _b === void 0
            ? void 0
            : _b.reason) || "",
        }
        : void 0,
      streaming_data: data.streamingData
        ? {
          expires: new Date(
            Date.now() + parseInt(data.streamingData.expiresInSeconds) * 1e3,
          ),
          formats: Parser.parseFormats(data.streamingData.formats),
          adaptive_formats: Parser.parseFormats(
            data.streamingData.adaptiveFormats,
          ),
          dash_manifest_url:
            ((_c = data.streamingData) === null || _c === void 0
              ? void 0
              : _c.dashManifestUrl) || null,
          dls_manifest_url: ((_d = data.streamingData) === null || _d === void 0
            ? void 0
            : _d.dashManifestUrl) || null,
        }
        : void 0,
      current_video_endpoint: data.currentVideoEndpoint
        ? new NavigationEndpoint_default(data.currentVideoEndpoint)
        : null,
      captions: Parser.parse(data.captions),
      video_details: data.videoDetails
        ? new VideoDetails_default(data.videoDetails)
        : void 0,
      annotations: Parser.parse(data.annotations),
      storyboards: Parser.parse(data.storyboards),
      endscreen: Parser.parseItem(data.endscreen, Endscreen_default),
      cards: Parser.parseItem(data.cards, CardCollection_default),
    };
  }
  static parseC(data) {
    if (data.timedContinuationData) {
      return new TimedContinuation(data.timedContinuationData);
    }
  }
  static parseLC(data) {
    if (data.sectionListContinuation) {
      return new SectionListContinuation(data.sectionListContinuation);
    }
    if (data.liveChatContinuation) {
      return new LiveChatContinuation(data.liveChatContinuation);
    }
    if (data.musicPlaylistShelfContinuation) {
      return new MusicPlaylistShelfContinuation(
        data.musicPlaylistShelfContinuation,
      );
    }
  }
  static parseRR(actions) {
    return observe(
      actions.map((action) => {
        if (action.reloadContinuationItemsCommand) {
          return new ReloadContinuationItemsCommand(
            action.reloadContinuationItemsCommand,
          );
        }
        if (action.appendContinuationItemsAction) {
          return new AppendContinuationItemsAction2(
            action.appendContinuationItemsAction,
          );
        }
      }).filter((item) => item),
    );
  }
  static parseActions(data) {
    if (Array.isArray(data)) {
      return Parser.parse(data.map((action) => {
        delete action.clickTrackingParams;
        return action;
      }));
    }
    return new SuperParsedResult(Parser.parseItem(data));
  }
  static parseFormats(formats) {
    return (formats === null || formats === void 0
      ? void 0
      : formats.map((format) => new Format_default(format))) || [];
  }
  static parseItem(data, validTypes) {
    if (!data) {
      return null;
    }
    const keys2 = Object.keys(data);
    const classname = this.sanitizeClassName(keys2[0]);
    if (!this.shouldIgnore(classname)) {
      try {
        const TargetClass = GetParserByName(classname);
        if (validTypes) {
          if (Array.isArray(validTypes)) {
            if (!validTypes.some((type) => type.type === TargetClass.type)) {
              throw new ParsingError(
                `Type mismatch, got ${classname} but expected one of ${
                  validTypes.map((type) => type.type).join(", ")
                }`,
              );
            }
          } else if (TargetClass.type !== validTypes.type) {
            throw new ParsingError(
              `Type mismatch, got ${classname} but expected ${validTypes.type}`,
            );
          }
        }
        const result = new TargetClass(data[keys2[0]]);
        __classPrivateFieldGet9(this, _a, "m", _Parser_addToMemo).call(
          this,
          classname,
          result,
        );
        return result;
      } catch (err) {
        this.formatError({ classname, classdata: data[keys2[0]], err });
        return null;
      }
    }
    return null;
  }
  static parseArray(data, validTypes) {
    if (Array.isArray(data)) {
      const results = [];
      for (const item of data) {
        const result = this.parseItem(item, validTypes);
        if (result) {
          results.push(result);
        }
      }
      return observe(results);
    } else if (!data) {
      return observe([]);
    }
    throw new ParsingError("Expected array but got a single item");
  }
  static parse(data, requireArray, validTypes) {
    if (!data) {
      return null;
    }
    if (Array.isArray(data)) {
      const results = [];
      for (const item of data) {
        const result = this.parseItem(item, validTypes);
        if (result) {
          results.push(result);
        }
      }
      const res = observe(results);
      return requireArray ? res : new SuperParsedResult(observe(results));
    } else if (requireArray) {
      throw new ParsingError("Expected array but got a single item");
    }
    return new SuperParsedResult(this.parseItem(data, validTypes));
  }
  static formatError({ classname, classdata, err }) {
    if (err.code == "MODULE_NOT_FOUND") {
      return console.warn(
        new InnertubeError(
          `${classname} not found!
This is a bug, please report it at ${package_default.bugs.url}`,
          classdata,
        ),
      );
    }
    console.warn(
      new InnertubeError(
        `Something went wrong at ${classname}!
This is a bug, please report it at ${package_default.bugs.url}`,
        { stack: err.stack },
      ),
    );
  }
  static sanitizeClassName(input) {
    return (input.charAt(0).toUpperCase() + input.slice(1)).replace(
      /Renderer|Model/g,
      "",
    ).replace(/Radio/g, "Mix").trim();
  }
  static shouldIgnore(classname) {
    return this.ignore_list.has(classname);
  }
};
__name(Parser, "Parser");
_a = Parser,
  _Parser_clearMemo = /* @__PURE__ */ __name(function _Parser_clearMemo2() {
    __classPrivateFieldSet8(Parser, _a, null, "f", _Parser_memo);
  }, "_Parser_clearMemo"),
  _Parser_createMemo = /* @__PURE__ */ __name(function _Parser_createMemo2() {
    __classPrivateFieldSet8(Parser, _a, new Memo(), "f", _Parser_memo);
  }, "_Parser_createMemo"),
  _Parser_addToMemo = /* @__PURE__ */ __name(
    function _Parser_addToMemo2(classname, result) {
      if (!__classPrivateFieldGet9(Parser, _a, "f", _Parser_memo)) {
        return;
      }
      const list = __classPrivateFieldGet9(Parser, _a, "f", _Parser_memo).get(
        classname,
      );
      if (!list) {
        return __classPrivateFieldGet9(Parser, _a, "f", _Parser_memo).set(
          classname,
          [result],
        );
      }
      list.push(result);
    },
    "_Parser_addToMemo",
  ),
  _Parser_getMemo = /* @__PURE__ */ __name(function _Parser_getMemo2() {
    if (!__classPrivateFieldGet9(Parser, _a, "f", _Parser_memo)) {
      throw new Error("Parser#getMemo() called before Parser#createMemo()");
    }
    return __classPrivateFieldGet9(Parser, _a, "f", _Parser_memo);
  }, "_Parser_getMemo");
_Parser_memo = { value: null };
Parser.ignore_list = /* @__PURE__ */ new Set([
  "DisplayAd",
  "SearchPyv",
  "MealbarPromo",
  "BackgroundPromo",
  "PromotedSparklesWeb",
  "RunAttestationCommand",
  "StatementBanner",
]);

// dist/src/core/Actions.js
var __awaiter6 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldSet9 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet10 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _Actions_instances;
var _Actions_session;
var _Actions_wrap;
var _Actions_needsLogin;
var Actions = class {
  constructor(session) {
    _Actions_instances.add(this);
    _Actions_session.set(this, void 0);
    __classPrivateFieldSet9(this, _Actions_session, session, "f");
  }
  get session() {
    return __classPrivateFieldGet10(this, _Actions_session, "f");
  }
  browse(id, args = {}) {
    return __awaiter6(this, void 0, void 0, function* () {
      if (
        __classPrivateFieldGet10(
          this,
          _Actions_instances,
          "m",
          _Actions_needsLogin,
        ).call(this, id) &&
        !__classPrivateFieldGet10(this, _Actions_session, "f").logged_in
      ) {
        throw new InnertubeError("You are not signed in");
      }
      const data = {};
      if (args.params) {
        data.params = args.params;
      }
      if (args.is_ctoken) {
        data.continuation = id;
      } else {
        data.browseId = id;
      }
      if (args.client) {
        data.client = args.client;
      }
      const response = yield __classPrivateFieldGet10(
        this,
        _Actions_session,
        "f",
      ).http.fetch("/browse", {
        method: "POST",
        body: JSON.stringify(data),
        headers: {
          "Content-Type": "application/json",
        },
      });
      return __classPrivateFieldGet10(
        this,
        _Actions_instances,
        "m",
        _Actions_wrap,
      ).call(this, response);
    });
  }
  engage(action, args = {}) {
    return __awaiter6(this, void 0, void 0, function* () {
      if (
        !__classPrivateFieldGet10(this, _Actions_session, "f").logged_in &&
        !args.hasOwnProperty("text")
      ) {
        throw new InnertubeError("You are not signed in");
      }
      const data = {};
      switch (action) {
        case "like/like":
        case "like/dislike":
        case "like/removelike":
          if (!hasKeys(args, "video_id")) {
            throw new MissingParamError("Arguments lacks video_id");
          }
          data.target = {};
          data.target.videoId = args.video_id;
          if (args.params) {
            data.params = args.params;
          }
          break;
        case "subscription/subscribe":
        case "subscription/unsubscribe":
          if (!hasKeys(args, "channel_id")) {
            throw new MissingParamError("Arguments lacks channel_id");
          }
          data.channelIds = [args.channel_id];
          data.params = action === "subscription/subscribe"
            ? "EgIIAhgA"
            : "CgIIAhgA";
          break;
        case "comment/create_comment":
          data.commentText = args.text;
          if (!hasKeys(args, "video_id")) {
            throw new MissingParamError("Arguments lacks video_id");
          }
          data.createCommentParams = proto_default.encodeCommentParams(
            args.video_id,
          );
          break;
        case "comment/create_comment_reply":
          if (!hasKeys(args, "comment_id", "video_id", "text")) {
            throw new MissingParamError(
              "Arguments lacks comment_id, video_id or text",
            );
          }
          data.createReplyParams = proto_default.encodeCommentReplyParams(
            args.comment_id,
            args.video_id,
          );
          data.commentText = args.text;
          break;
        case "comment/perform_comment_action":
          const target_action = (() => {
            switch (args.comment_action) {
              case "like":
                return proto_default.encodeCommentActionParams(5, args);
              case "dislike":
                return proto_default.encodeCommentActionParams(4, args);
              case "translate":
                return proto_default.encodeCommentActionParams(22, args);
              default:
                break;
            }
          })();
          data.actions = [target_action];
          break;
        default:
          throw new InnertubeError("Action not implemented", action);
      }
      const response = yield __classPrivateFieldGet10(
        this,
        _Actions_session,
        "f",
      ).http.fetch(`/${action}`, {
        method: "POST",
        body: JSON.stringify(data),
        headers: {
          "Content-Type": "application/json",
        },
      });
      return __classPrivateFieldGet10(
        this,
        _Actions_instances,
        "m",
        _Actions_wrap,
      ).call(this, response);
    });
  }
  account(action, args = {}) {
    return __awaiter6(this, void 0, void 0, function* () {
      if (!__classPrivateFieldGet10(this, _Actions_session, "f").logged_in) {
        throw new InnertubeError("You are not signed in");
      }
      const data = { client: args.client };
      switch (action) {
        case "account/set_setting":
          data.newValue = {
            boolValue: args.new_value,
          };
          data.settingItemId = args.setting_item_id;
          break;
        case "account/accounts_list":
          break;
        default:
          throw new InnertubeError("Action not implemented", action);
      }
      const response = yield __classPrivateFieldGet10(
        this,
        _Actions_session,
        "f",
      ).http.fetch(`/${action}`, {
        method: "POST",
        body: JSON.stringify(data),
        headers: {
          "Content-Type": "application/json",
        },
      });
      return __classPrivateFieldGet10(
        this,
        _Actions_instances,
        "m",
        _Actions_wrap,
      ).call(this, response);
    });
  }
  search(args = {}) {
    var _a3;
    return __awaiter6(this, void 0, void 0, function* () {
      const data = { client: args.client };
      if (args.query) {
        data.query = args.query;
      }
      if (args.ctoken) {
        data.continuation = args.ctoken;
      }
      if (args.params) {
        data.params = args.params;
      }
      if (args.filters) {
        if (
          args.client == "YTMUSIC" &&
          ((_a3 = args.filters) === null || _a3 === void 0
            ? void 0
            : _a3.type) &&
          args.filters.type !== "all"
        ) {
          data.params = proto_default.encodeMusicSearchFilters(args.filters);
        } else {
          data.params = proto_default.encodeSearchFilters(args.filters);
        }
      }
      const response = yield __classPrivateFieldGet10(
        this,
        _Actions_session,
        "f",
      ).http.fetch("/search", {
        method: "POST",
        body: JSON.stringify(data),
        headers: {
          "Content-Type": "application/json",
        },
      });
      return __classPrivateFieldGet10(
        this,
        _Actions_instances,
        "m",
        _Actions_wrap,
      ).call(this, response);
    });
  }
  searchSound(args) {
    return __awaiter6(this, void 0, void 0, function* () {
      const data = {
        query: args.query,
        client: "ANDROID",
      };
      const response = yield __classPrivateFieldGet10(
        this,
        _Actions_session,
        "f",
      ).http.fetch("/sfv/search", {
        method: "POST",
        body: JSON.stringify(data),
        headers: {
          "Content-Type": "application/json",
        },
      });
      return __classPrivateFieldGet10(
        this,
        _Actions_instances,
        "m",
        _Actions_wrap,
      ).call(this, response);
    });
  }
  channel(action, args = {}) {
    return __awaiter6(this, void 0, void 0, function* () {
      if (!__classPrivateFieldGet10(this, _Actions_session, "f").logged_in) {
        throw new InnertubeError("You are not signed in");
      }
      const data = { client: args.client || "ANDROID" };
      switch (action) {
        case "channel/edit_name":
          data.givenName = args.new_name;
          break;
        case "channel/edit_description":
          data.description = args.new_description;
          break;
        case "channel/get_profile_editor":
          break;
        default:
          throw new InnertubeError("Action not implemented", action);
      }
      const response = yield __classPrivateFieldGet10(
        this,
        _Actions_session,
        "f",
      ).http.fetch(`/${action}`, {
        method: "POST",
        body: JSON.stringify(data),
        headers: {
          "Content-Type": "application/json",
        },
      });
      return __classPrivateFieldGet10(
        this,
        _Actions_instances,
        "m",
        _Actions_wrap,
      ).call(this, response);
    });
  }
  playlist(action, args = {}) {
    return __awaiter6(this, void 0, void 0, function* () {
      if (!__classPrivateFieldGet10(this, _Actions_session, "f").logged_in) {
        throw new InnertubeError("You are not signed in");
      }
      const data = {};
      switch (action) {
        case "playlist/create":
          data.title = args.title;
          data.videoIds = args.ids;
          break;
        case "playlist/delete":
          data.playlistId = args.playlist_id;
          break;
        case "browse/edit_playlist":
          if (!hasKeys(args, "ids")) {
            throw new MissingParamError("Arguments lacks ids");
          }
          data.playlistId = args.playlist_id;
          data.actions = args.ids.map((id) => {
            switch (args.action) {
              case "ACTION_ADD_VIDEO":
                return {
                  action: args.action,
                  addedVideoId: id,
                };
              case "ACTION_REMOVE_VIDEO":
                return {
                  action: args.action,
                  setVideoId: id,
                };
              default:
                break;
            }
          });
          break;
        default:
          throw new InnertubeError("Action not implemented", action);
      }
      const response = yield __classPrivateFieldGet10(
        this,
        _Actions_session,
        "f",
      ).http.fetch(`/${action}`, {
        method: "POST",
        body: JSON.stringify(data),
        headers: {
          "Content-Type": "application/json",
        },
      });
      return __classPrivateFieldGet10(
        this,
        _Actions_instances,
        "m",
        _Actions_wrap,
      ).call(this, response);
    });
  }
  notifications(action, args = {}) {
    return __awaiter6(this, void 0, void 0, function* () {
      if (!__classPrivateFieldGet10(this, _Actions_session, "f").logged_in) {
        throw new InnertubeError("You are not signed in");
      }
      const data = {};
      switch (action) {
        case "modify_channel_preference":
          if (!hasKeys(args, "channel_id", "pref")) {
            throw new MissingParamError("Arguments lacks channel_id or pref");
          }
          const pref_types = {
            PERSONALIZED: 1,
            ALL: 2,
            NONE: 3,
          };
          if (!Object.keys(pref_types).includes(args.pref.toUpperCase())) {
            throw new InnertubeError("Invalid preference type", args.pref);
          }
          data.params = proto_default.encodeNotificationPref(
            args.channel_id,
            pref_types[args.pref.toUpperCase()],
          );
          break;
        case "get_notification_menu":
          data.notificationsMenuRequestType =
            "NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX";
          if (args.ctoken) {
            data.ctoken = args.ctoken;
          }
          break;
        case "record_interactions":
          data.serializedRecordNotificationInteractionsRequest = args.params;
          break;
        case "get_unseen_count":
          break;
        default:
          throw new InnertubeError("Action not implemented", action);
      }
      const response = yield __classPrivateFieldGet10(
        this,
        _Actions_session,
        "f",
      ).http.fetch(`/notification/${action}`, {
        method: "POST",
        body: JSON.stringify(data),
        headers: {
          "Content-Type": "application/json",
        },
      });
      return __classPrivateFieldGet10(
        this,
        _Actions_instances,
        "m",
        _Actions_wrap,
      ).call(this, response);
    });
  }
  livechat(action, args = {}) {
    return __awaiter6(this, void 0, void 0, function* () {
      const data = { client: args.client };
      switch (action) {
        case "live_chat/get_live_chat":
        case "live_chat/get_live_chat_replay":
          data.continuation = args.ctoken;
          break;
        case "live_chat/send_message":
          if (!hasKeys(args, "channel_id", "video_id", "text")) {
            throw new MissingParamError(
              "Arguments lacks channel_id, video_id or text",
            );
          }
          data.params = proto_default.encodeMessageParams(
            args.channel_id,
            args.video_id,
          );
          data.clientMessageId = uuidv4();
          data.richMessage = {
            textSegments: [{
              text: args.text,
            }],
          };
          break;
        case "live_chat/get_item_context_menu":
          break;
        case "live_chat/moderate":
          data.params = args.params;
          break;
        case "updated_metadata":
          data.videoId = args.video_id;
          if (args.ctoken) {
            data.continuation = args.ctoken;
          }
          break;
        default:
          throw new InnertubeError("Action not implemented", action);
      }
      const response = yield __classPrivateFieldGet10(
        this,
        _Actions_session,
        "f",
      ).http.fetch(`/${action}`, {
        method: "POST",
        body: JSON.stringify(data),
        headers: {
          "Content-Type": "application/json",
        },
      });
      return __classPrivateFieldGet10(
        this,
        _Actions_instances,
        "m",
        _Actions_wrap,
      ).call(this, response);
    });
  }
  thumbnails(args) {
    return __awaiter6(this, void 0, void 0, function* () {
      const data = {
        client: "ANDROID",
        videoId: args.video_id,
      };
      const response = yield __classPrivateFieldGet10(
        this,
        _Actions_session,
        "f",
      ).http.fetch("/thumbnails", {
        method: "POST",
        body: JSON.stringify(data),
        headers: {
          "Content-Type": "application/json",
        },
      });
      return __classPrivateFieldGet10(
        this,
        _Actions_instances,
        "m",
        _Actions_wrap,
      ).call(this, response);
    });
  }
  geo(action, args) {
    return __awaiter6(this, void 0, void 0, function* () {
      if (!__classPrivateFieldGet10(this, _Actions_session, "f").logged_in) {
        throw new InnertubeError("You are not signed in");
      }
      const data = {
        input: args.input,
        client: "ANDROID",
      };
      const response = yield __classPrivateFieldGet10(
        this,
        _Actions_session,
        "f",
      ).http.fetch(`/geo/${action}`, {
        method: "POST",
        body: JSON.stringify(data),
        headers: {
          "Content-Type": "application/json",
        },
      });
      return __classPrivateFieldGet10(
        this,
        _Actions_instances,
        "m",
        _Actions_wrap,
      ).call(this, response);
    });
  }
  flag(action, args) {
    return __awaiter6(this, void 0, void 0, function* () {
      if (!__classPrivateFieldGet10(this, _Actions_session, "f").logged_in) {
        throw new InnertubeError("You are not signed in");
      }
      const data = {};
      switch (action) {
        case "flag/flag":
          data.action = args.action;
          break;
        case "flag/get_form":
          data.params = args.params;
          break;
        default:
          throw new InnertubeError("Action not implemented", action);
      }
      const response = yield __classPrivateFieldGet10(
        this,
        _Actions_session,
        "f",
      ).http.fetch(`/${action}`, {
        method: "POST",
        body: JSON.stringify(data),
        headers: {
          "Content-Type": "application/json",
        },
      });
      return __classPrivateFieldGet10(
        this,
        _Actions_instances,
        "m",
        _Actions_wrap,
      ).call(this, response);
    });
  }
  music(action, args) {
    return __awaiter6(this, void 0, void 0, function* () {
      const data = {
        input: args.input || "",
        client: "YTMUSIC",
      };
      const response = yield __classPrivateFieldGet10(
        this,
        _Actions_session,
        "f",
      ).http.fetch(`/music/${action}`, {
        method: "POST",
        body: JSON.stringify(data),
        headers: {
          "Content-Type": "application/json",
        },
      });
      return __classPrivateFieldGet10(
        this,
        _Actions_instances,
        "m",
        _Actions_wrap,
      ).call(this, response);
    });
  }
  next(args = {}) {
    return __awaiter6(this, void 0, void 0, function* () {
      const data = { client: args.client };
      if (args.ctoken) {
        data.continuation = args.ctoken;
      }
      if (args.video_id) {
        data.videoId = args.video_id;
      }
      const response = yield __classPrivateFieldGet10(
        this,
        _Actions_session,
        "f",
      ).http.fetch("/next", {
        method: "POST",
        body: JSON.stringify(data),
        headers: {
          "Content-Type": "application/json",
        },
      });
      return __classPrivateFieldGet10(
        this,
        _Actions_instances,
        "m",
        _Actions_wrap,
      ).call(this, response);
    });
  }
  getVideoInfo(id, cpn, client) {
    return __awaiter6(this, void 0, void 0, function* () {
      const data = {
        playbackContext: {
          contentPlaybackContext: {
            vis: 0,
            splay: false,
            referer: "https://www.youtube.com",
            currentUrl: `/watch?v=${id}`,
            autonavState: "STATE_OFF",
            signatureTimestamp:
              __classPrivateFieldGet10(this, _Actions_session, "f").player.sts,
            autoCaptionsDefaultOn: false,
            html5Preference: "HTML5_PREF_WANTS",
            lactMilliseconds: "-1",
          },
        },
        attestationRequest: {
          omitBotguardData: true,
        },
        videoId: id,
      };
      if (client) {
        data.client = client;
      }
      if (cpn) {
        data.cpn = cpn;
      }
      const response = yield __classPrivateFieldGet10(
        this,
        _Actions_session,
        "f",
      ).http.fetch("/player", {
        method: "POST",
        body: JSON.stringify(data),
        headers: {
          "Content-Type": "application/json",
        },
      });
      return __classPrivateFieldGet10(
        this,
        _Actions_instances,
        "m",
        _Actions_wrap,
      ).call(this, response);
    });
  }
  getUserMentionSuggestions(args) {
    return __awaiter6(this, void 0, void 0, function* () {
      if (!__classPrivateFieldGet10(this, _Actions_session, "f").logged_in) {
        throw new InnertubeError("You are not signed in");
      }
      const data = {
        input: args.input,
        client: "ANDROID",
      };
      const response = yield __classPrivateFieldGet10(
        this,
        _Actions_session,
        "f",
      ).http.fetch("/get_user_mention_suggestions", {
        method: "POST",
        body: JSON.stringify(data),
        headers: {
          "Content-Type": "application/json",
        },
      });
      return __classPrivateFieldGet10(
        this,
        _Actions_instances,
        "m",
        _Actions_wrap,
      ).call(this, response);
    });
  }
  execute(action, args) {
    return __awaiter6(this, void 0, void 0, function* () {
      let data;
      if (!args.protobuf) {
        data = Object.assign({}, args);
        if (Reflect.has(data, "parse")) {
          delete data.parse;
        }
        if (Reflect.has(data, "request")) {
          delete data.request;
        }
        if (Reflect.has(data, "clientActions")) {
          delete data.clientActions;
        }
        if (Reflect.has(data, "action")) {
          data.actions = [data.action];
          delete data.action;
        }
        if (Reflect.has(data, "token")) {
          data.continuation = data.token;
          delete data.token;
        }
      } else {
        data = args.serialized_data;
      }
      const response = yield __classPrivateFieldGet10(
        this,
        _Actions_session,
        "f",
      ).http.fetch(action, {
        method: "POST",
        body: args.protobuf ? data : JSON.stringify(data),
        headers: {
          "Content-Type": args.protobuf
            ? "application/x-protobuf"
            : "application/json",
        },
      });
      if (args.parse) {
        return Parser.parseResponse(yield response.json());
      }
      return __classPrivateFieldGet10(
        this,
        _Actions_instances,
        "m",
        _Actions_wrap,
      ).call(this, response, args.protobuf);
    });
  }
};
__name(Actions, "Actions");
_Actions_session = /* @__PURE__ */ new WeakMap(),
  _Actions_instances = /* @__PURE__ */ new WeakSet(),
  _Actions_wrap = /* @__PURE__ */ __name(
    function _Actions_wrap2(response, protobuf) {
      return __awaiter6(this, void 0, void 0, function* () {
        return {
          success: response.ok,
          status_code: response.status,
          data: protobuf
            ? yield response.text()
            : JSON.parse(yield response.text()),
        };
      });
    },
    "_Actions_wrap",
  ),
  _Actions_needsLogin = /* @__PURE__ */ __name(
    function _Actions_needsLogin2(id) {
      return [
        "FElibrary",
        "FEhistory",
        "FEsubscriptions",
        "SPaccount_notifications",
        "SPaccount_privacy",
        "SPtime_watched",
      ].includes(id);
    },
    "_Actions_needsLogin",
  );
var Actions_default = Actions;

// dist/src/utils/EventEmitterLike.js
var __classPrivateFieldSet10 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet11 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _CustomEvent_detail;
var _EventEmitterLike_legacy_listeners;
if (!Reflect.has(globalThis, "CustomEvent")) {
  class CustomEvent3 extends Event {
    constructor(type, options) {
      var _a3;
      super(type, options);
      _CustomEvent_detail.set(this, void 0);
      __classPrivateFieldSet10(
        this,
        _CustomEvent_detail,
        (_a3 = options === null || options === void 0
              ? void 0
              : options.detail) !== null && _a3 !== void 0
          ? _a3
          : null,
        "f",
      );
    }
    get detail() {
      return __classPrivateFieldGet11(this, _CustomEvent_detail, "f");
    }
  }
  __name(CustomEvent3, "CustomEvent");
  _CustomEvent_detail = /* @__PURE__ */ new WeakMap();
  Reflect.set(globalThis, "CustomEvent", CustomEvent3);
}
var EventEmitterLike = class extends EventTarget {
  constructor() {
    super();
    _EventEmitterLike_legacy_listeners.set(this, /* @__PURE__ */ new Map());
  }
  emit(type, ...args) {
    const event = new CustomEvent(type, { detail: args });
    this.dispatchEvent(event);
  }
  on(type, listener) {
    const wrapper = /* @__PURE__ */ __name((ev) => {
      if (ev instanceof CustomEvent) {
        listener(...ev.detail);
      } else {
        listener(ev);
      }
    }, "wrapper");
    __classPrivateFieldGet11(this, _EventEmitterLike_legacy_listeners, "f").set(
      listener,
      wrapper,
    );
    this.addEventListener(type, wrapper);
  }
  once(type, listener) {
    const wrapper = /* @__PURE__ */ __name((ev) => {
      if (ev instanceof CustomEvent) {
        listener(...ev.detail);
      } else {
        listener(ev);
      }
      this.off(type, listener);
    }, "wrapper");
    __classPrivateFieldGet11(this, _EventEmitterLike_legacy_listeners, "f").set(
      listener,
      wrapper,
    );
    this.addEventListener(type, wrapper);
  }
  off(type, listener) {
    const wrapper = __classPrivateFieldGet11(
      this,
      _EventEmitterLike_legacy_listeners,
      "f",
    ).get(listener);
    if (wrapper) {
      this.removeEventListener(type, wrapper);
      __classPrivateFieldGet11(this, _EventEmitterLike_legacy_listeners, "f")
        .delete(listener);
    }
  }
};
__name(EventEmitterLike, "EventEmitterLike");
_EventEmitterLike_legacy_listeners = /* @__PURE__ */ new WeakMap();

// dist/src/utils/HTTPClient.js
var __awaiter7 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldSet11 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet12 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _HTTPClient_instances;
var _HTTPClient_session;
var _HTTPClient_cookie;
var _HTTPClient_fetch;
var _HTTPClient_adjustContext;
var HTTPClient = class {
  constructor(session, cookie, fetch2) {
    _HTTPClient_instances.add(this);
    _HTTPClient_session.set(this, void 0);
    _HTTPClient_cookie.set(this, void 0);
    _HTTPClient_fetch.set(this, void 0);
    __classPrivateFieldSet11(this, _HTTPClient_session, session, "f");
    __classPrivateFieldSet11(this, _HTTPClient_cookie, cookie, "f");
    __classPrivateFieldSet11(
      this,
      _HTTPClient_fetch,
      fetch2 || globalThis.fetch,
      "f",
    );
  }
  get fetch_function() {
    return __classPrivateFieldGet12(this, _HTTPClient_fetch, "f");
  }
  fetch(input, init) {
    return __awaiter7(this, void 0, void 0, function* () {
      const innertube_url = Constants_default.URLS.API.PRODUCTION +
        __classPrivateFieldGet12(this, _HTTPClient_session, "f").api_version;
      const baseURL =
        (init === null || init === void 0 ? void 0 : init.baseURL) ||
        innertube_url;
      const request_url = typeof input === "string"
        ? !baseURL.endsWith("/") && !input.startsWith("/")
          ? new URL(`${baseURL}/${input}`)
          : new URL(baseURL + input)
        : input instanceof URL
        ? input
        : new URL(input.url, baseURL);
      const headers =
        (init === null || init === void 0 ? void 0 : init.headers) ||
        (input instanceof Request ? input.headers : new Headers()) ||
        new Headers();
      const body = (init === null || init === void 0 ? void 0 : init.body) ||
        (input instanceof Request ? input.body : void 0);
      const request_headers = new Headers(headers);
      request_headers.set("Accept", "*/*");
      request_headers.set(
        "Accept-Language",
        `en-${
          __classPrivateFieldGet12(this, _HTTPClient_session, "f").context
            .client.gl || "US"
        }`,
      );
      request_headers.set(
        "x-goog-visitor-id",
        __classPrivateFieldGet12(this, _HTTPClient_session, "f").context.client
          .visitorData || "",
      );
      request_headers.set("x-origin", request_url.origin);
      request_headers.set(
        "x-youtube-client-version",
        __classPrivateFieldGet12(this, _HTTPClient_session, "f").context.client
          .clientVersion || "",
      );
      if (isServer()) {
        request_headers.set("User-Agent", getRandomUserAgent("desktop"));
        request_headers.set("origin", request_url.origin);
      }
      request_url.searchParams.set(
        "key",
        __classPrivateFieldGet12(this, _HTTPClient_session, "f").key,
      );
      request_url.searchParams.set("prettyPrint", "false");
      request_url.searchParams.set("alt", "json");
      const content_type = request_headers.get("Content-Type");
      let request_body = body;
      const is_innertube_req = baseURL === innertube_url ||
        baseURL === Constants_default.URLS.YT_UPLOAD;
      if (
        content_type === "application/json" && is_innertube_req &&
        typeof body === "string"
      ) {
        const json = JSON.parse(body);
        const n_body = Object.assign(Object.assign({}, json), {
          context: JSON.parse(
            JSON.stringify(
              __classPrivateFieldGet12(this, _HTTPClient_session, "f").context,
            ),
          ),
        });
        __classPrivateFieldGet12(
          this,
          _HTTPClient_instances,
          "m",
          _HTTPClient_adjustContext,
        ).call(this, n_body.context, n_body.client);
        request_headers.set(
          "x-youtube-client-version",
          n_body.context.client.clientVersion,
        );
        delete n_body.client;
        request_body = JSON.stringify(n_body);
      }
      if (
        __classPrivateFieldGet12(this, _HTTPClient_session, "f").logged_in &&
        is_innertube_req
      ) {
        const oauth =
          __classPrivateFieldGet12(this, _HTTPClient_session, "f").oauth;
        if (oauth.validateCredentials()) {
          yield oauth.refreshIfRequired();
          request_headers.set(
            "authorization",
            `Bearer ${oauth.credentials.access_token}`,
          );
          request_url.searchParams.delete("key");
        }
        if (__classPrivateFieldGet12(this, _HTTPClient_cookie, "f")) {
          const papisid = getStringBetweenStrings(
            __classPrivateFieldGet12(this, _HTTPClient_cookie, "f"),
            "PAPISID=",
            ";",
          );
          if (papisid) {
            request_headers.set(
              "authorization",
              yield generateSidAuth(papisid),
            );
          }
          request_headers.set(
            "cookie",
            __classPrivateFieldGet12(this, _HTTPClient_cookie, "f"),
          );
        }
      }
      const request = new Request(
        request_url,
        input instanceof Request ? input : init,
      );
      const response = yield __classPrivateFieldGet12(
        this,
        _HTTPClient_fetch,
        "f",
      ).call(this, request, {
        body: request_body,
        headers: request_headers,
        credentials: "include",
        redirect: input instanceof Request
          ? input.redirect
          : (init === null || init === void 0 ? void 0 : init.redirect) ||
            "follow",
      });
      if (response.ok) {
        return response;
      }
      throw new InnertubeError(
        `Request to ${response.url} failed with status ${response.status}`,
        yield response.text(),
      );
    });
  }
};
__name(HTTPClient, "HTTPClient");
_HTTPClient_session = /* @__PURE__ */ new WeakMap(),
  _HTTPClient_cookie = /* @__PURE__ */ new WeakMap(),
  _HTTPClient_fetch = /* @__PURE__ */ new WeakMap(),
  _HTTPClient_instances = /* @__PURE__ */ new WeakSet(),
  _HTTPClient_adjustContext = /* @__PURE__ */ __name(
    function _HTTPClient_adjustContext2(ctx, client) {
      switch (client) {
        case "YTMUSIC":
          ctx.client.clientVersion = Constants_default.CLIENTS.YTMUSIC.VERSION;
          ctx.client.clientName = Constants_default.CLIENTS.YTMUSIC.NAME;
          break;
        case "ANDROID":
          ctx.client.clientVersion = Constants_default.CLIENTS.ANDROID.VERSION;
          ctx.client.clientFormFactor = "SMALL_FORM_FACTOR";
          ctx.client.clientName = Constants_default.CLIENTS.ANDROID.NAME;
          ctx.client.androidSdkVersion =
            Constants_default.CLIENTS.ANDROID.SDK_VERSION;
          break;
        default:
          break;
      }
    },
    "_HTTPClient_adjustContext",
  );

// dist/src/core/OAuth.js
var __awaiter8 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldSet12 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet13 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _OAuth_instances;
var _OAuth_identity;
var _OAuth_session;
var _OAuth_credentials;
var _OAuth_polling_interval;
var _OAuth_loadCachedCredentials;
var _OAuth_getUserCode;
var _OAuth_startPolling;
var _OAuth_refreshAccessToken;
var _OAuth_getClientIdentity;
var OAuth = class {
  constructor(session) {
    _OAuth_instances.add(this);
    _OAuth_identity.set(this, void 0);
    _OAuth_session.set(this, void 0);
    _OAuth_credentials.set(this, void 0);
    _OAuth_polling_interval.set(this, 5);
    __classPrivateFieldSet12(this, _OAuth_session, session, "f");
  }
  init(credentials) {
    return __awaiter8(this, void 0, void 0, function* () {
      __classPrivateFieldSet12(this, _OAuth_credentials, credentials, "f");
      if (this.validateCredentials()) {
        if (!this.has_access_token_expired) {
          __classPrivateFieldGet13(this, _OAuth_session, "f").emit("auth", {
            credentials: __classPrivateFieldGet13(
              this,
              _OAuth_credentials,
              "f",
            ),
            status: "SUCCESS",
          });
        }
      } else if (
        !(yield __classPrivateFieldGet13(
          this,
          _OAuth_instances,
          "m",
          _OAuth_loadCachedCredentials,
        ).call(this))
      ) {
        yield __classPrivateFieldGet13(
          this,
          _OAuth_instances,
          "m",
          _OAuth_getUserCode,
        ).call(this);
      }
    });
  }
  cacheCredentials() {
    var _a3;
    return __awaiter8(this, void 0, void 0, function* () {
      const encoder = new TextEncoder();
      const data = encoder.encode(
        JSON.stringify(__classPrivateFieldGet13(this, _OAuth_credentials, "f")),
      );
      yield (_a3 =
              __classPrivateFieldGet13(this, _OAuth_session, "f").cache) ===
            null || _a3 === void 0
        ? void 0
        : _a3.set("youtubei_oauth_credentials", data.buffer);
    });
  }
  removeCache() {
    var _a3;
    return __awaiter8(this, void 0, void 0, function* () {
      yield (_a3 =
              __classPrivateFieldGet13(this, _OAuth_session, "f").cache) ===
            null || _a3 === void 0
        ? void 0
        : _a3.remove("youtubei_oauth_credentials");
    });
  }
  refreshIfRequired() {
    return __awaiter8(this, void 0, void 0, function* () {
      if (this.has_access_token_expired) {
        yield __classPrivateFieldGet13(
          this,
          _OAuth_instances,
          "m",
          _OAuth_refreshAccessToken,
        ).call(this);
      }
    });
  }
  revokeCredentials() {
    return __awaiter8(this, void 0, void 0, function* () {
      if (!__classPrivateFieldGet13(this, _OAuth_credentials, "f")) {
        return;
      }
      yield this.removeCache();
      return __classPrivateFieldGet13(this, _OAuth_session, "f").http
        .fetch_function(
          new URL(
            `/o/oauth2/revoke?token=${
              encodeURIComponent(
                __classPrivateFieldGet13(this, _OAuth_credentials, "f")
                  .access_token,
              )
            }`,
            Constants_default.URLS.YT_BASE,
          ),
          {
            method: "post",
          },
        );
    });
  }
  get credentials() {
    return __classPrivateFieldGet13(this, _OAuth_credentials, "f");
  }
  get has_access_token_expired() {
    const timestamp = __classPrivateFieldGet13(this, _OAuth_credentials, "f")
      ? new Date(
        __classPrivateFieldGet13(this, _OAuth_credentials, "f").expires,
      ).getTime()
      : -Infinity;
    return new Date().getTime() > timestamp;
  }
  validateCredentials() {
    return __classPrivateFieldGet13(this, _OAuth_credentials, "f") &&
        Reflect.has(
          __classPrivateFieldGet13(this, _OAuth_credentials, "f"),
          "access_token",
        ) &&
        Reflect.has(
          __classPrivateFieldGet13(this, _OAuth_credentials, "f"),
          "refresh_token",
        ) &&
        Reflect.has(
          __classPrivateFieldGet13(this, _OAuth_credentials, "f"),
          "expires",
        ) || false;
  }
};
__name(OAuth, "OAuth");
_OAuth_identity = /* @__PURE__ */ new WeakMap(),
  _OAuth_session = /* @__PURE__ */ new WeakMap(),
  _OAuth_credentials = /* @__PURE__ */ new WeakMap(),
  _OAuth_polling_interval = /* @__PURE__ */ new WeakMap(),
  _OAuth_instances = /* @__PURE__ */ new WeakSet(),
  _OAuth_loadCachedCredentials = /* @__PURE__ */ __name(
    function _OAuth_loadCachedCredentials2() {
      var _a3;
      return __awaiter8(this, void 0, void 0, function* () {
        const data =
          yield (_a3 =
                  __classPrivateFieldGet13(this, _OAuth_session, "f").cache) ===
                null || _a3 === void 0
            ? void 0
            : _a3.get("youtubei_oauth_credentials");
        if (!data) {
          return false;
        }
        const decoder = new TextDecoder();
        const credentials = JSON.parse(decoder.decode(data));
        __classPrivateFieldSet12(this, _OAuth_credentials, {
          access_token: credentials.access_token,
          refresh_token: credentials.refresh_token,
          expires: new Date(credentials.expires),
        }, "f");
        __classPrivateFieldGet13(this, _OAuth_session, "f").emit("auth", {
          credentials: __classPrivateFieldGet13(this, _OAuth_credentials, "f"),
          status: "SUCCESS",
        });
        return true;
      });
    },
    "_OAuth_loadCachedCredentials",
  ),
  _OAuth_getUserCode = /* @__PURE__ */ __name(function _OAuth_getUserCode2() {
    return __awaiter8(this, void 0, void 0, function* () {
      __classPrivateFieldSet12(
        this,
        _OAuth_identity,
        yield __classPrivateFieldGet13(
          this,
          _OAuth_instances,
          "m",
          _OAuth_getClientIdentity,
        ).call(this),
        "f",
      );
      const data = {
        client_id:
          __classPrivateFieldGet13(this, _OAuth_identity, "f").client_id,
        scope: Constants_default.OAUTH.SCOPE,
        device_id: uuidv4(),
        model_name: Constants_default.OAUTH.MODEL_NAME,
      };
      const response = yield __classPrivateFieldGet13(this, _OAuth_session, "f")
        .http.fetch_function(
          new URL("/o/oauth2/device/code", Constants_default.URLS.YT_BASE),
          {
            body: JSON.stringify(data),
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
          },
        );
      const response_data = yield response.json();
      __classPrivateFieldGet13(this, _OAuth_session, "f").emit(
        "auth-pending",
        response_data,
      );
      __classPrivateFieldSet12(
        this,
        _OAuth_polling_interval,
        response_data.interval,
        "f",
      );
      __classPrivateFieldGet13(this, _OAuth_instances, "m", _OAuth_startPolling)
        .call(this, response_data.device_code);
    });
  }, "_OAuth_getUserCode"),
  _OAuth_startPolling = /* @__PURE__ */ __name(
    function _OAuth_startPolling2(device_code) {
      const poller = setInterval(() =>
        __awaiter8(this, void 0, void 0, function* () {
          const data = Object.assign(
            Object.assign(
              {},
              __classPrivateFieldGet13(this, _OAuth_identity, "f"),
            ),
            {
              code: device_code,
              grant_type: Constants_default.OAUTH.GRANT_TYPE,
            },
          );
          try {
            const response = yield __classPrivateFieldGet13(
              this,
              _OAuth_session,
              "f",
            ).http.fetch_function(
              new URL("/o/oauth2/token", Constants_default.URLS.YT_BASE),
              {
                body: JSON.stringify(data),
                method: "POST",
                headers: {
                  "Content-Type": "application/json",
                },
              },
            );
            const response_data = yield response.json();
            if (response_data.error) {
              switch (response_data.error) {
                case "access_denied":
                  __classPrivateFieldGet13(this, _OAuth_session, "f").emit(
                    "auth-error",
                    new OAuthError("Access was denied.", {
                      status: "ACCESS_DENIED",
                    }),
                  );
                  break;
                case "expired_token":
                  __classPrivateFieldGet13(this, _OAuth_session, "f").emit(
                    "auth-error",
                    new OAuthError(
                      "The device code has expired, restarting auth flow.",
                      { status: "DEVICE_CODE_EXPIRED" },
                    ),
                  );
                  clearInterval(poller);
                  __classPrivateFieldGet13(
                    this,
                    _OAuth_instances,
                    "m",
                    _OAuth_getUserCode,
                  ).call(this);
                  break;
                default:
                  break;
              }
              return;
            }
            const expiration_date = new Date(
              new Date().getTime() + response_data.expires_in * 1e3,
            );
            __classPrivateFieldSet12(this, _OAuth_credentials, {
              access_token: response_data.access_token,
              refresh_token: response_data.refresh_token,
              expires: expiration_date,
            }, "f");
            __classPrivateFieldGet13(this, _OAuth_session, "f").emit("auth", {
              credentials: __classPrivateFieldGet13(
                this,
                _OAuth_credentials,
                "f",
              ),
              status: "SUCCESS",
            });
            clearInterval(poller);
          } catch (err) {
            clearInterval(poller);
            return __classPrivateFieldGet13(this, _OAuth_session, "f").emit(
              "auth-error",
              new OAuthError("Could not obtain user code.", {
                status: "FAILED",
                error: err,
              }),
            );
          }
        }), __classPrivateFieldGet13(this, _OAuth_polling_interval, "f") * 1e3);
    },
    "_OAuth_startPolling",
  ),
  _OAuth_refreshAccessToken = /* @__PURE__ */ __name(
    function _OAuth_refreshAccessToken2() {
      return __awaiter8(this, void 0, void 0, function* () {
        if (!__classPrivateFieldGet13(this, _OAuth_credentials, "f")) {
          return;
        }
        __classPrivateFieldSet12(
          this,
          _OAuth_identity,
          yield __classPrivateFieldGet13(
            this,
            _OAuth_instances,
            "m",
            _OAuth_getClientIdentity,
          ).call(this),
          "f",
        );
        const data = Object.assign(
          Object.assign(
            {},
            __classPrivateFieldGet13(this, _OAuth_identity, "f"),
          ),
          {
            refresh_token:
              __classPrivateFieldGet13(this, _OAuth_credentials, "f")
                .refresh_token,
            grant_type: "refresh_token",
          },
        );
        const response = yield __classPrivateFieldGet13(
          this,
          _OAuth_session,
          "f",
        ).http.fetch_function(
          new URL("/o/oauth2/token", Constants_default.URLS.YT_BASE),
          {
            body: JSON.stringify(data),
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
          },
        );
        const response_data = yield response.json();
        const expiration_date = new Date(
          new Date().getTime() + response_data.expires_in * 1e3,
        );
        __classPrivateFieldSet12(this, _OAuth_credentials, {
          access_token: response_data.access_token,
          refresh_token: response_data.refresh_token ||
            __classPrivateFieldGet13(this, _OAuth_credentials, "f")
              .refresh_token,
          expires: expiration_date,
        }, "f");
        __classPrivateFieldGet13(this, _OAuth_session, "f").emit(
          "update-credentials",
          {
            credentials: __classPrivateFieldGet13(
              this,
              _OAuth_credentials,
              "f",
            ),
            status: "SUCCESS",
          },
        );
      });
    },
    "_OAuth_refreshAccessToken",
  ),
  _OAuth_getClientIdentity = /* @__PURE__ */ __name(
    function _OAuth_getClientIdentity2() {
      var _a3;
      return __awaiter8(this, void 0, void 0, function* () {
        const response = yield __classPrivateFieldGet13(
          this,
          _OAuth_session,
          "f",
        ).http.fetch_function(new URL("/tv", Constants_default.URLS.YT_BASE), {
          headers: Constants_default.OAUTH.HEADERS,
        });
        const response_data = yield response.text();
        const url_body =
          (_a3 = Constants_default.OAUTH.REGEX.AUTH_SCRIPT.exec(
                response_data,
              )) === null || _a3 === void 0
            ? void 0
            : _a3[1];
        if (!url_body) {
          throw new OAuthError("Could not obtain script url.", {
            status: "FAILED",
          });
        }
        const script = yield __classPrivateFieldGet13(this, _OAuth_session, "f")
          .http.fetch(url_body, { baseURL: Constants_default.URLS.YT_BASE });
        const client_identity = (yield script.text()).replace(/\n/g, "").match(
          Constants_default.OAUTH.REGEX.CLIENT_IDENTITY,
        );
        const groups = client_identity === null || client_identity === void 0
          ? void 0
          : client_identity.groups;
        if (!groups) {
          throw new OAuthError("Could not obtain client identity.", {
            status: "FAILED",
          });
        }
        return groups;
      });
    },
    "_OAuth_getClientIdentity",
  );
var OAuth_default = OAuth;

// dist/src/core/Session.js
var __awaiter9 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldSet13 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet14 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _Session_api_version;
var _Session_key;
var _Session_context;
var _Session_player;
var ClientType;
(function (ClientType2) {
  ClientType2["WEB"] = "WEB";
  ClientType2["MUSIC"] = "WEB_REMIX";
  ClientType2["ANDROID"] = "ANDROID";
})(ClientType || (ClientType = {}));
var Session = class extends EventEmitterLike {
  constructor(context, api_key, api_version, player, cookie, fetch2, cache) {
    super();
    _Session_api_version.set(this, void 0);
    _Session_key.set(this, void 0);
    _Session_context.set(this, void 0);
    _Session_player.set(this, void 0);
    __classPrivateFieldSet13(this, _Session_context, context, "f");
    __classPrivateFieldSet13(this, _Session_key, api_key, "f");
    __classPrivateFieldSet13(this, _Session_api_version, api_version, "f");
    __classPrivateFieldSet13(this, _Session_player, player, "f");
    this.http = new HTTPClient(this, cookie, fetch2);
    this.actions = new Actions_default(this);
    this.oauth = new OAuth_default(this);
    this.logged_in = !!cookie;
    this.cache = cache;
  }
  on(type, listener) {
    super.on(type, listener);
  }
  once(type, listener) {
    super.once(type, listener);
  }
  static create(options = {}) {
    return __awaiter9(this, void 0, void 0, function* () {
      const { context, api_key, api_version } = yield Session.getSessionData(
        options.lang,
        options.device_category,
        options.client_type,
        options.timezone,
        options.fetch,
      );
      return new Session(
        context,
        api_key,
        api_version,
        yield Player.create(options.cache, options.fetch),
        options.cookie,
        options.fetch,
        options.cache,
      );
    });
  }
  static getSessionData(
    lang = "en-US",
    device_category = "desktop",
    client_name = ClientType.WEB,
    tz = Intl.DateTimeFormat().resolvedOptions().timeZone,
    fetch2 = globalThis.fetch,
  ) {
    return __awaiter9(this, void 0, void 0, function* () {
      const url = new URL("/sw.js_data", Constants_default.URLS.YT_BASE);
      const res = yield fetch2(url, {
        headers: {
          "accept-language": lang,
          "user-agent": getRandomUserAgent("desktop"),
          "accept": "*/*",
          "referer": "https://www.youtube.com/sw.js",
          "cookie": `PREF=tz=${tz.replace("/", ".")}`,
        },
      });
      if (!res.ok) {
        throw new SessionError(`Failed to get session data: ${res.status}`);
      }
      const text = yield res.text();
      const data = JSON.parse(text.replace(/^\)\]\}'/, ""));
      const ytcfg = data[0][2];
      const api_version = `v${ytcfg[0][0][6]}`;
      const [[device_info], api_key] = ytcfg;
      const id = generateRandomString(11);
      const timestamp = Math.floor(Date.now() / 1e3);
      const visitor_data = proto_default.encodeVisitorData(id, timestamp);
      const context = {
        client: {
          hl: device_info[0],
          gl: device_info[2],
          remoteHost: device_info[3],
          visitorData: visitor_data,
          userAgent: device_info[14],
          clientName: client_name,
          clientVersion: device_info[16],
          osName: device_info[17],
          osVersion: device_info[18],
          platform: device_category.toUpperCase(),
          clientFormFactor: "UNKNOWN_FORM_FACTOR",
          userInterfaceTheme: "USER_INTERFACE_THEME_LIGHT",
          timeZone: device_info[79],
          browserName: device_info[86],
          browserVersion: device_info[87],
          originalUrl: Constants_default.URLS.API.BASE,
          deviceMake: device_info[11],
          deviceModel: device_info[12],
          utcOffsetMinutes: new Date().getTimezoneOffset(),
        },
        user: {
          lockedSafetyMode: false,
        },
        request: {
          useSsl: true,
        },
      };
      return { context, api_key, api_version };
    });
  }
  signIn(credentials) {
    return __awaiter9(this, void 0, void 0, function* () {
      return new Promise((resolve, reject) =>
        __awaiter9(this, void 0, void 0, function* () {
          const error_handler = /* @__PURE__ */ __name(
            (err) => reject(err),
            "error_handler",
          );
          this.once("auth", (data) => {
            this.off("auth-error", error_handler);
            if (data.status === "SUCCESS") {
              this.logged_in = true;
              resolve();
            }
            reject(data);
          });
          this.once("auth-error", error_handler);
          try {
            yield this.oauth.init(credentials);
            if (this.oauth.validateCredentials()) {
              yield this.oauth.refreshIfRequired();
              this.logged_in = true;
              resolve();
            }
          } catch (err) {
            reject(err);
          }
        })
      );
    });
  }
  signOut() {
    return __awaiter9(this, void 0, void 0, function* () {
      if (!this.logged_in) {
        throw new InnertubeError("You are not signed in");
      }
      const response = yield this.oauth.revokeCredentials();
      this.logged_in = false;
      return response;
    });
  }
  get key() {
    return __classPrivateFieldGet14(this, _Session_key, "f");
  }
  get api_version() {
    return __classPrivateFieldGet14(this, _Session_api_version, "f");
  }
  get client_version() {
    return __classPrivateFieldGet14(this, _Session_context, "f").client
      .clientVersion;
  }
  get client_name() {
    return __classPrivateFieldGet14(this, _Session_context, "f").client
      .clientName;
  }
  get context() {
    return __classPrivateFieldGet14(this, _Session_context, "f");
  }
  get player() {
    return __classPrivateFieldGet14(this, _Session_player, "f");
  }
  get lang() {
    return __classPrivateFieldGet14(this, _Session_context, "f").client.hl;
  }
};
__name(Session, "Session");
_Session_api_version = /* @__PURE__ */ new WeakMap(),
  _Session_key = /* @__PURE__ */ new WeakMap(),
  _Session_context = /* @__PURE__ */ new WeakMap(),
  _Session_player = /* @__PURE__ */ new WeakMap();

// dist/src/core/Feed.js
var __awaiter10 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldSet14 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet15 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _Feed_page;
var _Feed_continuation;
var _Feed_actions;
var _Feed_memo;
var Feed = class {
  constructor(actions, data, already_parsed = false) {
    _Feed_page.set(this, void 0);
    _Feed_continuation.set(this, void 0);
    _Feed_actions.set(this, void 0);
    _Feed_memo.set(this, void 0);
    if (
      data.on_response_received_actions ||
      data.on_response_received_endpoints || already_parsed
    ) {
      __classPrivateFieldSet14(this, _Feed_page, data, "f");
    } else {
      __classPrivateFieldSet14(
        this,
        _Feed_page,
        Parser.parseResponse(data),
        "f",
      );
    }
    const memo =
      __classPrivateFieldGet15(this, _Feed_page, "f")
          .on_response_received_commands
        ? __classPrivateFieldGet15(this, _Feed_page, "f")
          .on_response_received_commands_memo
        : __classPrivateFieldGet15(this, _Feed_page, "f")
            .on_response_received_endpoints
        ? __classPrivateFieldGet15(this, _Feed_page, "f")
          .on_response_received_endpoints_memo
        : __classPrivateFieldGet15(this, _Feed_page, "f").contents
        ? __classPrivateFieldGet15(this, _Feed_page, "f").contents_memo
        : __classPrivateFieldGet15(this, _Feed_page, "f")
            .on_response_received_actions
        ? __classPrivateFieldGet15(this, _Feed_page, "f")
          .on_response_received_actions_memo
        : void 0;
    if (!memo) {
      throw new InnertubeError("No memo found in feed");
    }
    __classPrivateFieldSet14(this, _Feed_memo, memo, "f");
    __classPrivateFieldSet14(this, _Feed_actions, actions, "f");
  }
  static getVideosFromMemo(memo) {
    return memo.getType([
      Video_default,
      GridVideo_default,
      CompactVideo_default,
      PlaylistVideo_default,
      PlaylistPanelVideo_default,
      WatchCardCompactVideo_default,
    ]);
  }
  static getPlaylistsFromMemo(memo) {
    return memo.getType([Playlist_default, GridPlaylist_default]);
  }
  get videos() {
    return Feed.getVideosFromMemo(
      __classPrivateFieldGet15(this, _Feed_memo, "f"),
    );
  }
  get posts() {
    return __classPrivateFieldGet15(this, _Feed_memo, "f").getType([
      BackstagePost_default,
      Post_default,
    ]);
  }
  get channels() {
    return __classPrivateFieldGet15(this, _Feed_memo, "f").getType([
      Channel_default,
      GridChannel_default,
    ]);
  }
  get playlists() {
    return Feed.getPlaylistsFromMemo(
      __classPrivateFieldGet15(this, _Feed_memo, "f"),
    );
  }
  get memo() {
    return __classPrivateFieldGet15(this, _Feed_memo, "f");
  }
  get contents() {
    var _a3, _b, _c, _d;
    const tab_content =
      (_b =
            (_a3 = __classPrivateFieldGet15(this, _Feed_memo, "f").getType(
                  Tab_default,
                )) === null || _a3 === void 0
              ? void 0
              : _a3[0]) === null || _b === void 0
        ? void 0
        : _b.content;
    const reload_continuation_items =
      (_c = __classPrivateFieldGet15(this, _Feed_memo, "f").getType(
            ReloadContinuationItemsCommand,
          )) === null || _c === void 0
        ? void 0
        : _c[0];
    const append_continuation_items =
      (_d = __classPrivateFieldGet15(this, _Feed_memo, "f").getType(
            AppendContinuationItemsAction_default,
          )) === null || _d === void 0
        ? void 0
        : _d[0];
    return tab_content || reload_continuation_items ||
      append_continuation_items;
  }
  get shelves() {
    return __classPrivateFieldGet15(this, _Feed_memo, "f").getType([
      Shelf_default,
      RichShelf_default,
      ReelShelf_default,
    ]);
  }
  getShelf(title) {
    return this.shelves.find((shelf) => shelf.title.toString() === title);
  }
  get secondary_contents() {
    if (!__classPrivateFieldGet15(this, _Feed_page, "f").contents.is_node) {
      return void 0;
    }
    const node = __classPrivateFieldGet15(this, _Feed_page, "f").contents
      .item();
    if (
      !node.is(TwoColumnBrowseResults_default, TwoColumnSearchResults_default)
    ) {
      return void 0;
    }
    return node.secondary_contents;
  }
  get actions() {
    return __classPrivateFieldGet15(this, _Feed_actions, "f");
  }
  get page() {
    return __classPrivateFieldGet15(this, _Feed_page, "f");
  }
  get has_continuation() {
    return (__classPrivateFieldGet15(this, _Feed_memo, "f").get(
      "ContinuationItem",
    ) || []).length > 0;
  }
  getContinuationData() {
    return __awaiter10(this, void 0, void 0, function* () {
      if (__classPrivateFieldGet15(this, _Feed_continuation, "f")) {
        if (
          __classPrivateFieldGet15(this, _Feed_continuation, "f").length > 1
        ) {
          throw new InnertubeError(
            "There are too many continuations, you'll need to find the correct one yourself in this.page",
          );
        }
        if (
          __classPrivateFieldGet15(this, _Feed_continuation, "f").length === 0
        ) {
          throw new InnertubeError("There are no continuations");
        }
        const response = yield __classPrivateFieldGet15(
          this,
          _Feed_continuation,
          "f",
        )[0].endpoint.call(
          __classPrivateFieldGet15(this, _Feed_actions, "f"),
          void 0,
          true,
        );
        return response;
      }
      __classPrivateFieldSet14(
        this,
        _Feed_continuation,
        __classPrivateFieldGet15(this, _Feed_memo, "f").getType(
          ContinuationItem_default,
        ),
        "f",
      );
      if (__classPrivateFieldGet15(this, _Feed_continuation, "f")) {
        return this.getContinuationData();
      }
    });
  }
  getContinuation() {
    return __awaiter10(this, void 0, void 0, function* () {
      const continuation_data = yield this.getContinuationData();
      return new Feed(this.actions, continuation_data, true);
    });
  }
};
__name(Feed, "Feed");
_Feed_page = /* @__PURE__ */ new WeakMap(),
  _Feed_continuation = /* @__PURE__ */ new WeakMap(),
  _Feed_actions = /* @__PURE__ */ new WeakMap(),
  _Feed_memo = /* @__PURE__ */ new WeakMap();
var Feed_default = Feed;

// dist/src/parser/youtube/Search.js
var __awaiter11 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var Search = class extends Feed_default {
  constructor(actions, data, already_parsed = false) {
    var _a3, _b, _c, _d;
    super(actions, data, already_parsed);
    const contents =
      this.page.contents.item().as(TwoColumnSearchResults_default)
        .primary_contents.item().key("contents").parsed().array() ||
      ((_a3 = this.page.on_response_received_commands) === null ||
          _a3 === void 0
        ? void 0
        : _a3[0].contents);
    const secondary_contents_maybe = this.page.contents.item().key(
      "secondary_contents",
    );
    const secondary_contents = secondary_contents_maybe.isParsed()
      ? secondary_contents_maybe.parsed().item().key("contents").parsed()
        .array()
      : void 0;
    this.results =
      (_b = contents.firstOfType(ItemSection_default)) === null || _b === void 0
        ? void 0
        : _b.contents;
    const card_list =
      (_d = (_c = this.results) === null || _c === void 0
            ? void 0
            : _c.get({ type: "HorizontalCardList" }, true)) === null ||
        _d === void 0
        ? void 0
        : _d.as(HorizontalCardList_default);
    const universal_watch_card =
      secondary_contents === null || secondary_contents === void 0
        ? void 0
        : secondary_contents.firstOfType(UniversalWatchCard_default);
    this.refinements = this.page.refinements || [];
    this.estimated_results = this.page.estimated_results;
    this.watch_card = {
      header:
        (universal_watch_card === null || universal_watch_card === void 0
          ? void 0
          : universal_watch_card.header.item()) || null,
      call_to_action:
        (universal_watch_card === null || universal_watch_card === void 0
          ? void 0
          : universal_watch_card.call_to_action.item().as(
            WatchCardHeroVideo_default,
          )) || null,
      sections:
        (universal_watch_card === null || universal_watch_card === void 0
          ? void 0
          : universal_watch_card.sections.array().filterType(
            WatchCardSectionSequence_default,
          )) || [],
    };
    this.refinement_cards = {
      header:
        (card_list === null || card_list === void 0
          ? void 0
          : card_list.header.item().as(RichListHeader_default)) || null,
      cards:
        (card_list === null || card_list === void 0
          ? void 0
          : card_list.cards.array().filterType(SearchRefinementCard_default)) ||
        observe([]),
    };
  }
  selectRefinementCard(card) {
    return __awaiter11(this, void 0, void 0, function* () {
      let target_card;
      if (typeof card === "string") {
        target_card = this.refinement_cards.cards.get({ query: card });
        if (!target_card) {
          throw new InnertubeError("Refinement card not found!", {
            available_cards: this.refinement_card_queries,
          });
        }
      } else if (card.type === "SearchRefinementCard") {
        target_card = card;
      } else {
        throw new InnertubeError("Invalid refinement card!");
      }
      const page = yield target_card.endpoint.call(this.actions);
      return new Search(this.actions, page, true);
    });
  }
  get refinement_card_queries() {
    return this.refinement_cards.cards.map((card) => card.query);
  }
  getContinuation() {
    return __awaiter11(this, void 0, void 0, function* () {
      const continuation = yield this.getContinuationData();
      return new Search(this.actions, continuation, true);
    });
  }
};
__name(Search, "Search");
var Search_default = Search;

// dist/src/core/TabbedFeed.js
var __awaiter12 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldSet15 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet16 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _TabbedFeed_tabs;
var _TabbedFeed_actions;
var TabbedFeed = class extends Feed_default {
  constructor(actions, data, already_parsed = false) {
    super(actions, data, already_parsed);
    _TabbedFeed_tabs.set(this, void 0);
    _TabbedFeed_actions.set(this, void 0);
    __classPrivateFieldSet15(this, _TabbedFeed_actions, actions, "f");
    __classPrivateFieldSet15(
      this,
      _TabbedFeed_tabs,
      this.page.contents_memo.getType(Tab_default),
      "f",
    );
  }
  get tabs() {
    return __classPrivateFieldGet16(this, _TabbedFeed_tabs, "f").map((tab) =>
      tab.title.toString()
    );
  }
  getTab(title) {
    return __awaiter12(this, void 0, void 0, function* () {
      const tab = __classPrivateFieldGet16(this, _TabbedFeed_tabs, "f").find((
        tab2,
      ) => tab2.title.toLowerCase() === title.toLowerCase());
      if (!tab) {
        throw new InnertubeError(`Tab "${title}" not found`);
      }
      if (tab.selected) {
        return this;
      }
      const response = yield tab.endpoint.call(
        __classPrivateFieldGet16(this, _TabbedFeed_actions, "f"),
      );
      if (!response) {
        throw new InnertubeError("Failed to call endpoint");
      }
      return new TabbedFeed(
        __classPrivateFieldGet16(this, _TabbedFeed_actions, "f"),
        response.data,
        false,
      );
    });
  }
  get title() {
    var _a3, _b;
    return (_b =
            (_a3 = this.page.contents_memo.getType(Tab_default)) === null ||
              _a3 === void 0
              ? void 0
              : _a3.find((tab) => tab.selected)) === null || _b === void 0
      ? void 0
      : _b.title.toString();
  }
};
__name(TabbedFeed, "TabbedFeed");
_TabbedFeed_tabs = /* @__PURE__ */ new WeakMap(),
  _TabbedFeed_actions = /* @__PURE__ */ new WeakMap();
var TabbedFeed_default = TabbedFeed;

// dist/src/parser/youtube/Channel.js
var __awaiter13 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var Channel2 = class extends TabbedFeed_default {
  constructor(actions, data, already_parsed = false) {
    var _a3;
    super(actions, data, already_parsed);
    this.header = this.page.header.item().as(C4TabbedHeader_default);
    const metadata = this.page.metadata.item().as(ChannelMetadata_default);
    const microformat = (_a3 = this.page.microformat) === null || _a3 === void 0
      ? void 0
      : _a3.as(MicroformatData_default);
    this.metadata = Object.assign(
      Object.assign({}, metadata),
      microformat || {},
    );
    this.sponsor_button = this.header.sponsor_button;
    this.subscribe_button = this.header.subscribe_button;
    const tab = this.page.contents.item().key("tabs").parsed().array()
      .filterType(Tab_default).get({ selected: true });
    this.current_tab = tab;
  }
  getVideos() {
    return __awaiter13(this, void 0, void 0, function* () {
      const tab = yield this.getTab("Videos");
      return new Channel2(this.actions, tab.page, true);
    });
  }
  getPlaylists() {
    return __awaiter13(this, void 0, void 0, function* () {
      const tab = yield this.getTab("Playlists");
      return new Channel2(this.actions, tab.page, true);
    });
  }
  getHome() {
    return __awaiter13(this, void 0, void 0, function* () {
      const tab = yield this.getTab("Home");
      return new Channel2(this.actions, tab.page, true);
    });
  }
  getCommunity() {
    return __awaiter13(this, void 0, void 0, function* () {
      const tab = yield this.getTab("Community");
      return new Channel2(this.actions, tab.page, true);
    });
  }
  getChannels() {
    return __awaiter13(this, void 0, void 0, function* () {
      const tab = yield this.getTab("Channels");
      return new Channel2(this.actions, tab.page, true);
    });
  }
  getAbout() {
    var _a3;
    return __awaiter13(this, void 0, void 0, function* () {
      const tab = yield this.getTab("About");
      return (_a3 = tab.memo.getType(ChannelAboutFullMetadata_default)) ===
            null || _a3 === void 0
        ? void 0
        : _a3[0];
    });
  }
};
__name(Channel2, "Channel");
var Channel_default2 = Channel2;

// dist/src/parser/youtube/Playlist.js
var __classPrivateFieldGet17 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _Playlist_instances;
var _Playlist_getStat;
var Playlist2 = class extends Feed_default {
  constructor(actions, data, already_parsed = false) {
    var _a3, _b;
    super(actions, data, already_parsed);
    _Playlist_instances.add(this);
    const header = this.page.header.item().as(PlaylistHeader_default);
    const primary_info = (_a3 = this.page.sidebar) === null || _a3 === void 0
      ? void 0
      : _a3.as(PlaylistSidebar_default).contents.array().firstOfType(
        PlaylistSidebarPrimaryInfo_default,
      );
    const secondary_info = (_b = this.page.sidebar) === null || _b === void 0
      ? void 0
      : _b.as(PlaylistSidebar_default).contents.array().firstOfType(
        PlaylistSidebarSecondaryInfo_default,
      );
    this.info = Object.assign(
      Object.assign({}, this.page.metadata.item().as(PlaylistMetadata_default)),
      {
        author: secondary_info === null || secondary_info === void 0
          ? void 0
          : secondary_info.owner.item().as(VideoOwner_default).author,
        thumbnails: primary_info === null || primary_info === void 0
          ? void 0
          : primary_info.thumbnail_renderer.item().as(
            PlaylistVideoThumbnail_default,
          ).thumbnail,
        total_items: __classPrivateFieldGet17(
          this,
          _Playlist_instances,
          "m",
          _Playlist_getStat,
        ).call(this, 0, primary_info),
        views: __classPrivateFieldGet17(
          this,
          _Playlist_instances,
          "m",
          _Playlist_getStat,
        ).call(this, 1, primary_info),
        last_updated: __classPrivateFieldGet17(
          this,
          _Playlist_instances,
          "m",
          _Playlist_getStat,
        ).call(this, 2, primary_info),
        can_share: header.can_share,
        can_delete: header.can_delete,
        is_editable: header.is_editable,
        privacy: header.privacy,
      },
    );
    this.menu = primary_info === null || primary_info === void 0
      ? void 0
      : primary_info.menu;
    this.endpoint = primary_info === null || primary_info === void 0
      ? void 0
      : primary_info.endpoint;
  }
  get items() {
    return this.videos;
  }
};
__name(Playlist2, "Playlist");
_Playlist_instances = /* @__PURE__ */ new WeakSet(),
  _Playlist_getStat = /* @__PURE__ */ __name(
    function _Playlist_getStat2(index, primary_info) {
      var _a3;
      if (!primary_info || !primary_info.stats) {
        return "N/A";
      }
      return ((_a3 = primary_info.stats[index]) === null || _a3 === void 0
        ? void 0
        : _a3.toString()) || "N/A";
    },
    "_Playlist_getStat",
  );
var Playlist_default2 = Playlist2;

// dist/src/parser/youtube/History.js
var __awaiter14 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var History = class extends Feed_default {
  constructor(actions, data, already_parsed = false) {
    var _a3, _b;
    super(actions, data, already_parsed);
    this.sections = this.memo.get("ItemSection");
    this.feed_actions =
      ((_b =
              (_a3 = this.memo.get("BrowseFeedActions")) === null ||
                _a3 === void 0
                ? void 0
                : _a3[0]) === null || _b === void 0
        ? void 0
        : _b.as(BrowseFeedActions_default)) || [];
  }
  getContinuation() {
    return __awaiter14(this, void 0, void 0, function* () {
      const continuation = yield this.getContinuationData();
      return new History(this.actions, continuation, true);
    });
  }
};
__name(History, "History");
var History_default = History;

// dist/src/parser/youtube/Library.js
var __awaiter15 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldSet16 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet18 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _Library_instances;
var _Library_actions;
var _Library_page;
var _Library_getAll;
var Library = class {
  constructor(response, actions) {
    var _a3, _b;
    _Library_instances.add(this);
    _Library_actions.set(this, void 0);
    _Library_page.set(this, void 0);
    __classPrivateFieldSet16(this, _Library_actions, actions, "f");
    __classPrivateFieldSet16(
      this,
      _Library_page,
      Parser.parseResponse(response),
      "f",
    );
    const two_col = __classPrivateFieldGet18(this, _Library_page, "f").contents
      .item().as(TwoColumnBrowseResults_default);
    if (!two_col) {
      throw new InnertubeError(
        "Response did not have a TwoColumnBrowseResults.",
      );
    }
    const tab = two_col.tabs.array().as(Tab_default).get({ selected: true });
    if (!tab) {
      throw new InnertubeError("Could not find target tab.");
    }
    const stats =
      ((_a3 = two_col.secondary_contents.item().as(ProfileColumn_default).items
              .array().get({ type: "ProfileColumnStats" })) === null ||
          _a3 === void 0
        ? void 0
        : _a3.as(ProfileColumnStats_default)) || null;
    const user_info =
      ((_b = two_col.secondary_contents.item().as(ProfileColumn_default).items
              .array().get({ type: "ProfileColumnUserInfo" })) === null ||
          _b === void 0
        ? void 0
        : _b.as(ProfileColumnUserInfo_default)) || null;
    this.profile = { stats, user_info };
    if (!tab.content) {
      throw new InnertubeError("Target tab did not have any content.");
    }
    const shelves = tab.content.as(SectionList_default).contents.array().as(
      ItemSection_default,
    ).map((is3) => {
      var _a4;
      return (_a4 = is3.contents) === null || _a4 === void 0
        ? void 0
        : _a4.firstOfType(Shelf_default);
    });
    this.sections = shelves.map((shelf) => {
      var _a4;
      return {
        type: shelf.icon_type,
        title: shelf.title,
        contents: ((_a4 = shelf.content) === null || _a4 === void 0
          ? void 0
          : _a4.item().items.array()) || [],
        getAll: () =>
          __classPrivateFieldGet18(
            this,
            _Library_instances,
            "m",
            _Library_getAll,
          ).call(this, shelf),
      };
    });
  }
  get history() {
    return this.sections.find((section) => section.type === "WATCH_HISTORY");
  }
  get watch_later() {
    return this.sections.find((section) => section.type === "WATCH_LATER");
  }
  get liked_videos() {
    return this.sections.find((section) => section.type === "LIKE");
  }
  get playlists() {
    return this.sections.find((section) => section.type === "PLAYLISTS");
  }
  get clips() {
    return this.sections.find((section) => section.type === "CONTENT_CUT");
  }
  get page() {
    return __classPrivateFieldGet18(this, _Library_page, "f");
  }
};
__name(Library, "Library");
_Library_actions = /* @__PURE__ */ new WeakMap(),
  _Library_page = /* @__PURE__ */ new WeakMap(),
  _Library_instances = /* @__PURE__ */ new WeakSet(),
  _Library_getAll = /* @__PURE__ */ __name(function _Library_getAll2(shelf) {
    var _a3;
    return __awaiter15(this, void 0, void 0, function* () {
      if (
        !((_a3 = shelf.menu) === null || _a3 === void 0
          ? void 0
          : _a3.item().as(Menu_default).hasKey("top_level_buttons"))
      ) {
        throw new InnertubeError(
          `The ${shelf.title.text} shelf doesn't have more items`,
        );
      }
      const button = yield shelf.menu.item().as(Menu_default).top_level_buttons
        .get({ text: "See all" });
      if (!button) {
        throw new InnertubeError("Did not find target button.");
      }
      const page = yield button.as(Button_default).endpoint.callTest(
        __classPrivateFieldGet18(this, _Library_actions, "f"),
        { parse: true },
      );
      switch (shelf.icon_type) {
        case "LIKE":
        case "WATCH_LATER":
          return new Playlist_default2(
            __classPrivateFieldGet18(this, _Library_actions, "f"),
            page,
            true,
          );
        case "WATCH_HISTORY":
          return new History_default(
            __classPrivateFieldGet18(this, _Library_actions, "f"),
            page,
            true,
          );
        case "CONTENT_CUT":
          return new Feed_default(
            __classPrivateFieldGet18(this, _Library_actions, "f"),
            page,
            true,
          );
        default:
          throw new InnertubeError("Target shelf not implemented.");
      }
    });
  }, "_Library_getAll");
var Library_default = Library;

// dist/src/parser/youtube/Comments.js
var __awaiter16 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldSet17 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet19 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _Comments_page;
var _Comments_actions;
var _Comments_continuation;
var Comments = class {
  constructor(actions, data, already_parsed = false) {
    var _a3, _b, _c, _d, _e;
    _Comments_page.set(this, void 0);
    _Comments_actions.set(this, void 0);
    _Comments_continuation.set(this, void 0);
    __classPrivateFieldSet17(
      this,
      _Comments_page,
      already_parsed ? data : Parser.parseResponse(data),
      "f",
    );
    __classPrivateFieldSet17(this, _Comments_actions, actions, "f");
    const contents =
      __classPrivateFieldGet19(this, _Comments_page, "f")
        .on_response_received_endpoints;
    if (!contents) {
      throw new InnertubeError("Comments page did not have any content.");
    }
    this.header =
      (_b = (_a3 = contents[0].contents) === null || _a3 === void 0
            ? void 0
            : _a3.get({ type: "CommentsHeader" })) === null || _b === void 0
        ? void 0
        : _b.as(CommentsHeader_default);
    const threads =
      ((_c = contents[1].contents) === null || _c === void 0
        ? void 0
        : _c.filterType(CommentThread_default)) || [];
    this.contents = threads.map((thread) => {
      var _a4;
      (_a4 = thread.comment) === null || _a4 === void 0
        ? void 0
        : _a4.setActions(
          __classPrivateFieldGet19(this, _Comments_actions, "f"),
        );
      thread.setActions(__classPrivateFieldGet19(this, _Comments_actions, "f"));
      return thread;
    });
    __classPrivateFieldSet17(
      this,
      _Comments_continuation,
      (_e = (_d = contents[1].contents) === null || _d === void 0
            ? void 0
            : _d.get({ type: "ContinuationItem" })) === null || _e === void 0
        ? void 0
        : _e.as(ContinuationItem_default),
      "f",
    );
  }
  createComment(text) {
    var _a3;
    return __awaiter16(this, void 0, void 0, function* () {
      if (!this.header) {
        throw new InnertubeError("Page header is missing.");
      }
      const button =
        (_a3 = this.header.create_renderer) === null || _a3 === void 0
          ? void 0
          : _a3.as(CommentSimplebox_default).submit_button.item().as(
            Button_default,
          );
      if (!button) {
        throw new InnertubeError("Could not find target button.");
      }
      const response = yield button.endpoint.callTest(
        __classPrivateFieldGet19(this, _Comments_actions, "f"),
        {
          params: {
            commentText: text,
          },
          parse: false,
        },
      );
      return response;
    });
  }
  getContinuation() {
    return __awaiter16(this, void 0, void 0, function* () {
      if (!__classPrivateFieldGet19(this, _Comments_continuation, "f")) {
        throw new InnertubeError("Continuation not found");
      }
      const data = yield __classPrivateFieldGet19(
        this,
        _Comments_continuation,
        "f",
      ).endpoint.callTest(
        __classPrivateFieldGet19(this, _Comments_actions, "f"),
      );
      const page = Object.assign(
        {},
        __classPrivateFieldGet19(this, _Comments_page, "f"),
      );
      if (
        !page.on_response_received_endpoints ||
        !data.on_response_received_endpoints
      ) {
        throw new InnertubeError(
          "Invalid reponse format, missing on_response_received_endpoints",
        );
      }
      page.on_response_received_endpoints.pop();
      page.on_response_received_endpoints.push(
        data.on_response_received_endpoints[0],
      );
      return new Comments(
        __classPrivateFieldGet19(this, _Comments_actions, "f"),
        page,
        true,
      );
    });
  }
  get page() {
    return __classPrivateFieldGet19(this, _Comments_page, "f");
  }
};
__name(Comments, "Comments");
_Comments_page = /* @__PURE__ */ new WeakMap(),
  _Comments_actions = /* @__PURE__ */ new WeakMap(),
  _Comments_continuation = /* @__PURE__ */ new WeakMap();
var Comments_default = Comments;

// dist/src/parser/youtube/NotificationsMenu.js
var __awaiter17 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldSet18 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet20 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _NotificationsMenu_page;
var _NotificationsMenu_actions;
var NotificationsMenu = class {
  constructor(actions, response) {
    var _a3, _b;
    _NotificationsMenu_page.set(this, void 0);
    _NotificationsMenu_actions.set(this, void 0);
    __classPrivateFieldSet18(this, _NotificationsMenu_actions, actions, "f");
    __classPrivateFieldSet18(
      this,
      _NotificationsMenu_page,
      Parser.parseResponse(response.data),
      "f",
    );
    this.header =
      ((_b =
              (_a3 = __classPrivateFieldGet20(
                    this,
                    _NotificationsMenu_page,
                    "f",
                  ).actions_memo.get("SimpleMenuHeader")) === null ||
                _a3 === void 0
                ? void 0
                : _a3[0]) === null || _b === void 0
        ? void 0
        : _b.as(SimpleMenuHeader_default)) || null;
    this.contents = __classPrivateFieldGet20(this, _NotificationsMenu_page, "f")
      .actions_memo.get("Notification");
  }
  getContinuation() {
    var _a3;
    return __awaiter17(this, void 0, void 0, function* () {
      const continuation =
        (_a3 = __classPrivateFieldGet20(this, _NotificationsMenu_page, "f")
              .actions_memo.get("ContinuationItem")) === null || _a3 === void 0
          ? void 0
          : _a3[0].as(ContinuationItem_default);
      if (!continuation) {
        throw new InnertubeError("Continuation not found");
      }
      const response = yield continuation.endpoint.callTest(
        __classPrivateFieldGet20(this, _NotificationsMenu_actions, "f"),
        { parse: false },
      );
      return new NotificationsMenu(
        __classPrivateFieldGet20(this, _NotificationsMenu_actions, "f"),
        response,
      );
    });
  }
};
__name(NotificationsMenu, "NotificationsMenu");
_NotificationsMenu_page = /* @__PURE__ */ new WeakMap(),
  _NotificationsMenu_actions = /* @__PURE__ */ new WeakMap();
var NotificationsMenu_default = NotificationsMenu;

// dist/src/parser/youtube/LiveChat.js
var __awaiter18 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldSet19 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet21 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _LiveChat_instances;
var _LiveChat_actions;
var _LiveChat_video_info;
var _LiveChat_continuation;
var _LiveChat_mcontinuation;
var _LiveChat_lc_polling_interval_ms;
var _LiveChat_md_polling_interval_ms;
var _LiveChat_pollLivechat;
var _LiveChat_emitSmoothedActions;
var _LiveChat_pollMetadata;
var _LiveChat_wait;
var LiveChat2 = class extends EventEmitterLike {
  constructor(video_info) {
    var _a3, _b;
    super();
    _LiveChat_instances.add(this);
    _LiveChat_actions.set(this, void 0);
    _LiveChat_video_info.set(this, void 0);
    _LiveChat_continuation.set(this, void 0);
    _LiveChat_mcontinuation.set(this, void 0);
    _LiveChat_lc_polling_interval_ms.set(this, 1e3);
    _LiveChat_md_polling_interval_ms.set(this, 5e3);
    this.running = false;
    this.is_replay = false;
    __classPrivateFieldSet19(this, _LiveChat_video_info, video_info, "f");
    __classPrivateFieldSet19(this, _LiveChat_actions, video_info.actions, "f");
    __classPrivateFieldSet19(
      this,
      _LiveChat_continuation,
      ((_a3 = video_info.livechat) === null || _a3 === void 0
        ? void 0
        : _a3.continuation) || void 0,
      "f",
    );
    this.is_replay =
      ((_b = video_info.livechat) === null || _b === void 0
        ? void 0
        : _b.is_replay) || false;
  }
  start() {
    if (!this.running) {
      this.running = true;
      __classPrivateFieldGet21(
        this,
        _LiveChat_instances,
        "m",
        _LiveChat_pollLivechat,
      ).call(this);
      __classPrivateFieldGet21(
        this,
        _LiveChat_instances,
        "m",
        _LiveChat_pollMetadata,
      ).call(this);
    }
  }
  stop() {
    this.running = false;
  }
  sendMessage(text) {
    return __awaiter18(this, void 0, void 0, function* () {
      const response = yield __classPrivateFieldGet21(
        this,
        _LiveChat_actions,
        "f",
      ).livechat(
        "live_chat/send_message",
        Object.assign({ text }, {
          video_id:
            __classPrivateFieldGet21(this, _LiveChat_video_info, "f").basic_info
              .id,
          channel_id:
            __classPrivateFieldGet21(this, _LiveChat_video_info, "f").basic_info
              .channel_id,
        }),
      );
      const data = Parser.parseResponse(response.data);
      if (!data.actions) {
        throw new InnertubeError(
          'Response did not have an "actions" property. The call may have failed.',
        );
      }
      return data.actions.array().as(AddChatItemAction_default);
    });
  }
};
__name(LiveChat2, "LiveChat");
_LiveChat_actions = /* @__PURE__ */ new WeakMap(),
  _LiveChat_video_info = /* @__PURE__ */ new WeakMap(),
  _LiveChat_continuation = /* @__PURE__ */ new WeakMap(),
  _LiveChat_mcontinuation = /* @__PURE__ */ new WeakMap(),
  _LiveChat_lc_polling_interval_ms = /* @__PURE__ */ new WeakMap(),
  _LiveChat_md_polling_interval_ms = /* @__PURE__ */ new WeakMap(),
  _LiveChat_instances = /* @__PURE__ */ new WeakSet(),
  _LiveChat_pollLivechat = /* @__PURE__ */ __name(
    function _LiveChat_pollLivechat2() {
      const lc_poller = setTimeout(() => {
        (() =>
          __awaiter18(this, void 0, void 0, function* () {
            const endpoint = this.is_replay
              ? "live_chat/get_live_chat_replay"
              : "live_chat/get_live_chat";
            const response = yield __classPrivateFieldGet21(
              this,
              _LiveChat_actions,
              "f",
            ).livechat(endpoint, {
              ctoken: __classPrivateFieldGet21(
                this,
                _LiveChat_continuation,
                "f",
              ),
            });
            const data = Parser.parseResponse(response.data);
            const contents = data.continuation_contents;
            if (!(contents instanceof LiveChatContinuation)) {
              throw new InnertubeError(
                "Continuation is not a LiveChatContinuation",
              );
            }
            __classPrivateFieldSet19(
              this,
              _LiveChat_continuation,
              contents.continuation.token,
              "f",
            );
            __classPrivateFieldSet19(
              this,
              _LiveChat_lc_polling_interval_ms,
              contents.continuation.timeout_ms,
              "f",
            );
            if (contents.header) {
              this.initial_info = contents;
              this.emit("start", contents);
            } else {
              yield __classPrivateFieldGet21(
                this,
                _LiveChat_instances,
                "m",
                _LiveChat_emitSmoothedActions,
              ).call(this, contents.actions);
            }
            clearTimeout(lc_poller);
            this.running &&
              __classPrivateFieldGet21(
                this,
                _LiveChat_instances,
                "m",
                _LiveChat_pollLivechat2,
              ).call(this);
          }))().catch((err) => Promise.reject(err));
      }, __classPrivateFieldGet21(this, _LiveChat_lc_polling_interval_ms, "f"));
    },
    "_LiveChat_pollLivechat",
  ),
  _LiveChat_emitSmoothedActions = /* @__PURE__ */ __name(
    function _LiveChat_emitSmoothedActions2(actions) {
      return __awaiter18(this, void 0, void 0, function* () {
        const base = 1e4;
        let delay = actions.length < base / 80 ? 1 : 0;
        const emit_delay_ms = delay == 1
          ? (delay = base / actions.length,
            delay *= Math.random() + 0.5,
            delay = Math.min(1e3, delay),
            delay = Math.max(80, delay))
          : delay = 80;
        for (const action of actions) {
          yield __classPrivateFieldGet21(
            this,
            _LiveChat_instances,
            "m",
            _LiveChat_wait,
          ).call(this, emit_delay_ms);
          this.emit("chat-update", action);
        }
      });
    },
    "_LiveChat_emitSmoothedActions",
  ),
  _LiveChat_pollMetadata = /* @__PURE__ */ __name(
    function _LiveChat_pollMetadata2() {
      const md_poller = setTimeout(() => {
        (() =>
          __awaiter18(this, void 0, void 0, function* () {
            var _a3, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;
            const payload = {
              video_id:
                __classPrivateFieldGet21(this, _LiveChat_video_info, "f")
                  .basic_info.id,
              ctoken: void 0,
            };
            if (__classPrivateFieldGet21(this, _LiveChat_mcontinuation, "f")) {
              payload.ctoken = __classPrivateFieldGet21(
                this,
                _LiveChat_mcontinuation,
                "f",
              );
            }
            const response = yield __classPrivateFieldGet21(
              this,
              _LiveChat_actions,
              "f",
            ).livechat("updated_metadata", payload);
            const data = Parser.parseResponse(response.data);
            __classPrivateFieldSet19(
              this,
              _LiveChat_mcontinuation,
              (_a3 = data.continuation) === null || _a3 === void 0
                ? void 0
                : _a3.token,
              "f",
            );
            __classPrivateFieldSet19(
              this,
              _LiveChat_md_polling_interval_ms,
              ((_b = data.continuation) === null || _b === void 0
                ? void 0
                : _b.timeout_ms) ||
                __classPrivateFieldGet21(
                  this,
                  _LiveChat_md_polling_interval_ms,
                  "f",
                ),
              "f",
            );
            this.metadata = {
              title: ((_c = data.actions) === null || _c === void 0
                ? void 0
                : _c.array().firstOfType(UpdateTitleAction_default)) ||
                ((_d = this.metadata) === null || _d === void 0
                  ? void 0
                  : _d.title),
              description: ((_e = data.actions) === null || _e === void 0
                ? void 0
                : _e.array().firstOfType(UpdateDescriptionAction_default)) ||
                ((_f = this.metadata) === null || _f === void 0
                  ? void 0
                  : _f.description),
              views: ((_g = data.actions) === null || _g === void 0
                ? void 0
                : _g.array().firstOfType(UpdateViewershipAction_default)) ||
                ((_h = this.metadata) === null || _h === void 0
                  ? void 0
                  : _h.views),
              likes: ((_j = data.actions) === null || _j === void 0
                ? void 0
                : _j.array().firstOfType(
                  UpdateToggleButtonTextAction_default,
                )) || ((_k = this.metadata) === null || _k === void 0
                  ? void 0
                  : _k.likes),
              date: ((_l = data.actions) === null || _l === void 0
                ? void 0
                : _l.array().firstOfType(UpdateDateTextAction_default)) ||
                ((_m = this.metadata) === null || _m === void 0
                  ? void 0
                  : _m.date),
            };
            this.emit("metadata-update", this.metadata);
            clearTimeout(md_poller);
            this.running &&
              __classPrivateFieldGet21(
                this,
                _LiveChat_instances,
                "m",
                _LiveChat_pollMetadata2,
              ).call(this);
          }))().catch((err) => Promise.reject(err));
      }, __classPrivateFieldGet21(this, _LiveChat_md_polling_interval_ms, "f"));
    },
    "_LiveChat_pollMetadata",
  ),
  _LiveChat_wait = /* @__PURE__ */ __name(function _LiveChat_wait2(ms) {
    return __awaiter18(this, void 0, void 0, function* () {
      return new Promise((resolve) => setTimeout(() => resolve(), ms));
    });
  }, "_LiveChat_wait");
var LiveChat_default2 = LiveChat2;

// node_modules/linkedom/esm/shared/symbols.js
var CHANGED = Symbol("changed");
var CLASS_LIST = Symbol("classList");
var CUSTOM_ELEMENTS = Symbol("CustomElements");
var CONTENT = Symbol("content");
var DATASET = Symbol("dataset");
var DOCTYPE = Symbol("doctype");
var DOM_PARSER = Symbol("DOMParser");
var END = Symbol("end");
var EVENT_TARGET = Symbol("EventTarget");
var GLOBALS = Symbol("globals");
var IMAGE = Symbol("image");
var MIME = Symbol("mime");
var MUTATION_OBSERVER = Symbol("MutationObserver");
var NEXT = Symbol("next");
var OWNER_ELEMENT = Symbol("ownerElement");
var PREV = Symbol("prev");
var PRIVATE = Symbol("private");
var SHEET = Symbol("sheet");
var START = Symbol("start");
var STYLE = Symbol("style");
var UPGRADE = Symbol("upgrade");
var VALUE = Symbol("value");

// node_modules/htmlparser2/lib/esm/index.js
var esm_exports3 = {};
__export(esm_exports3, {
  DefaultHandler: () => DomHandler,
  DomHandler: () => DomHandler,
  DomUtils: () => esm_exports2,
  ElementType: () => esm_exports,
  Parser: () => Parser2,
  Tokenizer: () => Tokenizer,
  createDomStream: () => createDomStream,
  getFeed: () => getFeed,
  parseDOM: () => parseDOM,
  parseDocument: () => parseDocument,
  parseFeed: () => parseFeed,
});

// node_modules/entities/lib/esm/generated/decode-data-html.js
var decode_data_html_default = new Uint16Array([
  7489,
  60,
  213,
  305,
  650,
  1181,
  1403,
  1488,
  1653,
  1758,
  1954,
  2006,
  2063,
  2634,
  2705,
  3489,
  3693,
  3849,
  3878,
  4298,
  4648,
  4833,
  5141,
  5277,
  5315,
  5343,
  5413,
  0,
  0,
  0,
  0,
  0,
  0,
  5483,
  5837,
  6541,
  7186,
  7645,
  8062,
  8288,
  8624,
  8845,
  9152,
  9211,
  9282,
  10276,
  10514,
  11528,
  11848,
  12238,
  12310,
  12986,
  13881,
  14252,
  14590,
  14888,
  14961,
  15072,
  15150,
  2048,
  69,
  77,
  97,
  98,
  99,
  102,
  103,
  108,
  109,
  110,
  111,
  112,
  114,
  115,
  116,
  117,
  92,
  98,
  102,
  109,
  115,
  127,
  132,
  139,
  144,
  149,
  152,
  166,
  179,
  185,
  200,
  207,
  108,
  105,
  103,
  32827,
  198,
  16582,
  80,
  32827,
  38,
  16422,
  99,
  117,
  116,
  101,
  32827,
  193,
  16577,
  114,
  101,
  118,
  101,
  59,
  16642,
  256,
  105,
  121,
  120,
  125,
  114,
  99,
  32827,
  194,
  16578,
  59,
  17424,
  114,
  59,
  49152,
  55349,
  56580,
  114,
  97,
  118,
  101,
  32827,
  192,
  16576,
  112,
  104,
  97,
  59,
  17297,
  97,
  99,
  114,
  59,
  16640,
  100,
  59,
  27219,
  256,
  103,
  112,
  157,
  161,
  111,
  110,
  59,
  16644,
  102,
  59,
  49152,
  55349,
  56632,
  112,
  108,
  121,
  70,
  117,
  110,
  99,
  116,
  105,
  111,
  110,
  59,
  24673,
  105,
  110,
  103,
  32827,
  197,
  16581,
  256,
  99,
  115,
  190,
  195,
  114,
  59,
  49152,
  55349,
  56476,
  105,
  103,
  110,
  59,
  25172,
  105,
  108,
  100,
  101,
  32827,
  195,
  16579,
  109,
  108,
  32827,
  196,
  16580,
  1024,
  97,
  99,
  101,
  102,
  111,
  114,
  115,
  117,
  229,
  251,
  254,
  279,
  284,
  290,
  295,
  298,
  256,
  99,
  114,
  234,
  242,
  107,
  115,
  108,
  97,
  115,
  104,
  59,
  25110,
  374,
  246,
  248,
  59,
  27367,
  101,
  100,
  59,
  25350,
  121,
  59,
  17425,
  384,
  99,
  114,
  116,
  261,
  267,
  276,
  97,
  117,
  115,
  101,
  59,
  25141,
  110,
  111,
  117,
  108,
  108,
  105,
  115,
  59,
  24876,
  97,
  59,
  17298,
  114,
  59,
  49152,
  55349,
  56581,
  112,
  102,
  59,
  49152,
  55349,
  56633,
  101,
  118,
  101,
  59,
  17112,
  99,
  242,
  275,
  109,
  112,
  101,
  113,
  59,
  25166,
  1792,
  72,
  79,
  97,
  99,
  100,
  101,
  102,
  104,
  105,
  108,
  111,
  114,
  115,
  117,
  333,
  337,
  342,
  384,
  414,
  418,
  437,
  439,
  442,
  476,
  533,
  627,
  632,
  638,
  99,
  121,
  59,
  17447,
  80,
  89,
  32827,
  169,
  16553,
  384,
  99,
  112,
  121,
  349,
  354,
  378,
  117,
  116,
  101,
  59,
  16646,
  256,
  59,
  105,
  359,
  360,
  25298,
  116,
  97,
  108,
  68,
  105,
  102,
  102,
  101,
  114,
  101,
  110,
  116,
  105,
  97,
  108,
  68,
  59,
  24901,
  108,
  101,
  121,
  115,
  59,
  24877,
  512,
  97,
  101,
  105,
  111,
  393,
  398,
  404,
  408,
  114,
  111,
  110,
  59,
  16652,
  100,
  105,
  108,
  32827,
  199,
  16583,
  114,
  99,
  59,
  16648,
  110,
  105,
  110,
  116,
  59,
  25136,
  111,
  116,
  59,
  16650,
  256,
  100,
  110,
  423,
  429,
  105,
  108,
  108,
  97,
  59,
  16568,
  116,
  101,
  114,
  68,
  111,
  116,
  59,
  16567,
  242,
  383,
  105,
  59,
  17319,
  114,
  99,
  108,
  101,
  512,
  68,
  77,
  80,
  84,
  455,
  459,
  465,
  470,
  111,
  116,
  59,
  25241,
  105,
  110,
  117,
  115,
  59,
  25238,
  108,
  117,
  115,
  59,
  25237,
  105,
  109,
  101,
  115,
  59,
  25239,
  111,
  256,
  99,
  115,
  482,
  504,
  107,
  119,
  105,
  115,
  101,
  67,
  111,
  110,
  116,
  111,
  117,
  114,
  73,
  110,
  116,
  101,
  103,
  114,
  97,
  108,
  59,
  25138,
  101,
  67,
  117,
  114,
  108,
  121,
  256,
  68,
  81,
  515,
  527,
  111,
  117,
  98,
  108,
  101,
  81,
  117,
  111,
  116,
  101,
  59,
  24605,
  117,
  111,
  116,
  101,
  59,
  24601,
  512,
  108,
  110,
  112,
  117,
  542,
  552,
  583,
  597,
  111,
  110,
  256,
  59,
  101,
  549,
  550,
  25143,
  59,
  27252,
  384,
  103,
  105,
  116,
  559,
  566,
  570,
  114,
  117,
  101,
  110,
  116,
  59,
  25185,
  110,
  116,
  59,
  25135,
  111,
  117,
  114,
  73,
  110,
  116,
  101,
  103,
  114,
  97,
  108,
  59,
  25134,
  256,
  102,
  114,
  588,
  590,
  59,
  24834,
  111,
  100,
  117,
  99,
  116,
  59,
  25104,
  110,
  116,
  101,
  114,
  67,
  108,
  111,
  99,
  107,
  119,
  105,
  115,
  101,
  67,
  111,
  110,
  116,
  111,
  117,
  114,
  73,
  110,
  116,
  101,
  103,
  114,
  97,
  108,
  59,
  25139,
  111,
  115,
  115,
  59,
  27183,
  99,
  114,
  59,
  49152,
  55349,
  56478,
  112,
  256,
  59,
  67,
  644,
  645,
  25299,
  97,
  112,
  59,
  25165,
  1408,
  68,
  74,
  83,
  90,
  97,
  99,
  101,
  102,
  105,
  111,
  115,
  672,
  684,
  688,
  692,
  696,
  715,
  727,
  737,
  742,
  819,
  1165,
  256,
  59,
  111,
  377,
  677,
  116,
  114,
  97,
  104,
  100,
  59,
  26897,
  99,
  121,
  59,
  17410,
  99,
  121,
  59,
  17413,
  99,
  121,
  59,
  17423,
  384,
  103,
  114,
  115,
  703,
  708,
  711,
  103,
  101,
  114,
  59,
  24609,
  114,
  59,
  24993,
  104,
  118,
  59,
  27364,
  256,
  97,
  121,
  720,
  725,
  114,
  111,
  110,
  59,
  16654,
  59,
  17428,
  108,
  256,
  59,
  116,
  733,
  734,
  25095,
  97,
  59,
  17300,
  114,
  59,
  49152,
  55349,
  56583,
  256,
  97,
  102,
  747,
  807,
  256,
  99,
  109,
  752,
  802,
  114,
  105,
  116,
  105,
  99,
  97,
  108,
  512,
  65,
  68,
  71,
  84,
  768,
  774,
  790,
  796,
  99,
  117,
  116,
  101,
  59,
  16564,
  111,
  372,
  779,
  781,
  59,
  17113,
  98,
  108,
  101,
  65,
  99,
  117,
  116,
  101,
  59,
  17117,
  114,
  97,
  118,
  101,
  59,
  16480,
  105,
  108,
  100,
  101,
  59,
  17116,
  111,
  110,
  100,
  59,
  25284,
  102,
  101,
  114,
  101,
  110,
  116,
  105,
  97,
  108,
  68,
  59,
  24902,
  1136,
  829,
  0,
  0,
  0,
  834,
  852,
  0,
  1029,
  102,
  59,
  49152,
  55349,
  56635,
  384,
  59,
  68,
  69,
  840,
  841,
  845,
  16552,
  111,
  116,
  59,
  24796,
  113,
  117,
  97,
  108,
  59,
  25168,
  98,
  108,
  101,
  768,
  67,
  68,
  76,
  82,
  85,
  86,
  867,
  882,
  898,
  975,
  994,
  1016,
  111,
  110,
  116,
  111,
  117,
  114,
  73,
  110,
  116,
  101,
  103,
  114,
  97,
  236,
  569,
  111,
  628,
  889,
  0,
  0,
  891,
  187,
  841,
  110,
  65,
  114,
  114,
  111,
  119,
  59,
  25043,
  256,
  101,
  111,
  903,
  932,
  102,
  116,
  384,
  65,
  82,
  84,
  912,
  918,
  929,
  114,
  114,
  111,
  119,
  59,
  25040,
  105,
  103,
  104,
  116,
  65,
  114,
  114,
  111,
  119,
  59,
  25044,
  101,
  229,
  714,
  110,
  103,
  256,
  76,
  82,
  939,
  964,
  101,
  102,
  116,
  256,
  65,
  82,
  947,
  953,
  114,
  114,
  111,
  119,
  59,
  26616,
  105,
  103,
  104,
  116,
  65,
  114,
  114,
  111,
  119,
  59,
  26618,
  105,
  103,
  104,
  116,
  65,
  114,
  114,
  111,
  119,
  59,
  26617,
  105,
  103,
  104,
  116,
  256,
  65,
  84,
  984,
  990,
  114,
  114,
  111,
  119,
  59,
  25042,
  101,
  101,
  59,
  25256,
  112,
  577,
  1001,
  0,
  0,
  1007,
  114,
  114,
  111,
  119,
  59,
  25041,
  111,
  119,
  110,
  65,
  114,
  114,
  111,
  119,
  59,
  25045,
  101,
  114,
  116,
  105,
  99,
  97,
  108,
  66,
  97,
  114,
  59,
  25125,
  110,
  768,
  65,
  66,
  76,
  82,
  84,
  97,
  1042,
  1066,
  1072,
  1118,
  1151,
  892,
  114,
  114,
  111,
  119,
  384,
  59,
  66,
  85,
  1053,
  1054,
  1058,
  24979,
  97,
  114,
  59,
  26899,
  112,
  65,
  114,
  114,
  111,
  119,
  59,
  25077,
  114,
  101,
  118,
  101,
  59,
  17169,
  101,
  102,
  116,
  722,
  1082,
  0,
  1094,
  0,
  1104,
  105,
  103,
  104,
  116,
  86,
  101,
  99,
  116,
  111,
  114,
  59,
  26960,
  101,
  101,
  86,
  101,
  99,
  116,
  111,
  114,
  59,
  26974,
  101,
  99,
  116,
  111,
  114,
  256,
  59,
  66,
  1113,
  1114,
  25021,
  97,
  114,
  59,
  26966,
  105,
  103,
  104,
  116,
  468,
  1127,
  0,
  1137,
  101,
  101,
  86,
  101,
  99,
  116,
  111,
  114,
  59,
  26975,
  101,
  99,
  116,
  111,
  114,
  256,
  59,
  66,
  1146,
  1147,
  25025,
  97,
  114,
  59,
  26967,
  101,
  101,
  256,
  59,
  65,
  1158,
  1159,
  25252,
  114,
  114,
  111,
  119,
  59,
  24999,
  256,
  99,
  116,
  1170,
  1175,
  114,
  59,
  49152,
  55349,
  56479,
  114,
  111,
  107,
  59,
  16656,
  2048,
  78,
  84,
  97,
  99,
  100,
  102,
  103,
  108,
  109,
  111,
  112,
  113,
  115,
  116,
  117,
  120,
  1213,
  1216,
  1220,
  1227,
  1246,
  1250,
  1255,
  1262,
  1269,
  1313,
  1327,
  1334,
  1362,
  1373,
  1376,
  1381,
  71,
  59,
  16714,
  72,
  32827,
  208,
  16592,
  99,
  117,
  116,
  101,
  32827,
  201,
  16585,
  384,
  97,
  105,
  121,
  1234,
  1239,
  1244,
  114,
  111,
  110,
  59,
  16666,
  114,
  99,
  32827,
  202,
  16586,
  59,
  17453,
  111,
  116,
  59,
  16662,
  114,
  59,
  49152,
  55349,
  56584,
  114,
  97,
  118,
  101,
  32827,
  200,
  16584,
  101,
  109,
  101,
  110,
  116,
  59,
  25096,
  256,
  97,
  112,
  1274,
  1278,
  99,
  114,
  59,
  16658,
  116,
  121,
  595,
  1286,
  0,
  0,
  1298,
  109,
  97,
  108,
  108,
  83,
  113,
  117,
  97,
  114,
  101,
  59,
  26107,
  101,
  114,
  121,
  83,
  109,
  97,
  108,
  108,
  83,
  113,
  117,
  97,
  114,
  101,
  59,
  26027,
  256,
  103,
  112,
  1318,
  1322,
  111,
  110,
  59,
  16664,
  102,
  59,
  49152,
  55349,
  56636,
  115,
  105,
  108,
  111,
  110,
  59,
  17301,
  117,
  256,
  97,
  105,
  1340,
  1353,
  108,
  256,
  59,
  84,
  1346,
  1347,
  27253,
  105,
  108,
  100,
  101,
  59,
  25154,
  108,
  105,
  98,
  114,
  105,
  117,
  109,
  59,
  25036,
  256,
  99,
  105,
  1367,
  1370,
  114,
  59,
  24880,
  109,
  59,
  27251,
  97,
  59,
  17303,
  109,
  108,
  32827,
  203,
  16587,
  256,
  105,
  112,
  1386,
  1391,
  115,
  116,
  115,
  59,
  25091,
  111,
  110,
  101,
  110,
  116,
  105,
  97,
  108,
  69,
  59,
  24903,
  640,
  99,
  102,
  105,
  111,
  115,
  1413,
  1416,
  1421,
  1458,
  1484,
  121,
  59,
  17444,
  114,
  59,
  49152,
  55349,
  56585,
  108,
  108,
  101,
  100,
  595,
  1431,
  0,
  0,
  1443,
  109,
  97,
  108,
  108,
  83,
  113,
  117,
  97,
  114,
  101,
  59,
  26108,
  101,
  114,
  121,
  83,
  109,
  97,
  108,
  108,
  83,
  113,
  117,
  97,
  114,
  101,
  59,
  26026,
  880,
  1466,
  0,
  1471,
  0,
  0,
  1476,
  102,
  59,
  49152,
  55349,
  56637,
  65,
  108,
  108,
  59,
  25088,
  114,
  105,
  101,
  114,
  116,
  114,
  102,
  59,
  24881,
  99,
  242,
  1483,
  1536,
  74,
  84,
  97,
  98,
  99,
  100,
  102,
  103,
  111,
  114,
  115,
  116,
  1512,
  1516,
  1519,
  1530,
  1536,
  1554,
  1558,
  1563,
  1565,
  1571,
  1644,
  1650,
  99,
  121,
  59,
  17411,
  32827,
  62,
  16446,
  109,
  109,
  97,
  256,
  59,
  100,
  1527,
  1528,
  17299,
  59,
  17372,
  114,
  101,
  118,
  101,
  59,
  16670,
  384,
  101,
  105,
  121,
  1543,
  1548,
  1552,
  100,
  105,
  108,
  59,
  16674,
  114,
  99,
  59,
  16668,
  59,
  17427,
  111,
  116,
  59,
  16672,
  114,
  59,
  49152,
  55349,
  56586,
  59,
  25305,
  112,
  102,
  59,
  49152,
  55349,
  56638,
  101,
  97,
  116,
  101,
  114,
  768,
  69,
  70,
  71,
  76,
  83,
  84,
  1589,
  1604,
  1614,
  1622,
  1627,
  1638,
  113,
  117,
  97,
  108,
  256,
  59,
  76,
  1598,
  1599,
  25189,
  101,
  115,
  115,
  59,
  25307,
  117,
  108,
  108,
  69,
  113,
  117,
  97,
  108,
  59,
  25191,
  114,
  101,
  97,
  116,
  101,
  114,
  59,
  27298,
  101,
  115,
  115,
  59,
  25207,
  108,
  97,
  110,
  116,
  69,
  113,
  117,
  97,
  108,
  59,
  27262,
  105,
  108,
  100,
  101,
  59,
  25203,
  99,
  114,
  59,
  49152,
  55349,
  56482,
  59,
  25195,
  1024,
  65,
  97,
  99,
  102,
  105,
  111,
  115,
  117,
  1669,
  1675,
  1686,
  1691,
  1694,
  1706,
  1726,
  1738,
  82,
  68,
  99,
  121,
  59,
  17450,
  256,
  99,
  116,
  1680,
  1684,
  101,
  107,
  59,
  17095,
  59,
  16478,
  105,
  114,
  99,
  59,
  16676,
  114,
  59,
  24844,
  108,
  98,
  101,
  114,
  116,
  83,
  112,
  97,
  99,
  101,
  59,
  24843,
  496,
  1711,
  0,
  1714,
  102,
  59,
  24845,
  105,
  122,
  111,
  110,
  116,
  97,
  108,
  76,
  105,
  110,
  101,
  59,
  25856,
  256,
  99,
  116,
  1731,
  1733,
  242,
  1705,
  114,
  111,
  107,
  59,
  16678,
  109,
  112,
  324,
  1744,
  1752,
  111,
  119,
  110,
  72,
  117,
  109,
  240,
  303,
  113,
  117,
  97,
  108,
  59,
  25167,
  1792,
  69,
  74,
  79,
  97,
  99,
  100,
  102,
  103,
  109,
  110,
  111,
  115,
  116,
  117,
  1786,
  1790,
  1795,
  1799,
  1806,
  1818,
  1822,
  1825,
  1832,
  1860,
  1912,
  1931,
  1935,
  1941,
  99,
  121,
  59,
  17429,
  108,
  105,
  103,
  59,
  16690,
  99,
  121,
  59,
  17409,
  99,
  117,
  116,
  101,
  32827,
  205,
  16589,
  256,
  105,
  121,
  1811,
  1816,
  114,
  99,
  32827,
  206,
  16590,
  59,
  17432,
  111,
  116,
  59,
  16688,
  114,
  59,
  24849,
  114,
  97,
  118,
  101,
  32827,
  204,
  16588,
  384,
  59,
  97,
  112,
  1824,
  1839,
  1855,
  256,
  99,
  103,
  1844,
  1847,
  114,
  59,
  16682,
  105,
  110,
  97,
  114,
  121,
  73,
  59,
  24904,
  108,
  105,
  101,
  243,
  989,
  500,
  1865,
  0,
  1890,
  256,
  59,
  101,
  1869,
  1870,
  25132,
  256,
  103,
  114,
  1875,
  1880,
  114,
  97,
  108,
  59,
  25131,
  115,
  101,
  99,
  116,
  105,
  111,
  110,
  59,
  25282,
  105,
  115,
  105,
  98,
  108,
  101,
  256,
  67,
  84,
  1900,
  1906,
  111,
  109,
  109,
  97,
  59,
  24675,
  105,
  109,
  101,
  115,
  59,
  24674,
  384,
  103,
  112,
  116,
  1919,
  1923,
  1928,
  111,
  110,
  59,
  16686,
  102,
  59,
  49152,
  55349,
  56640,
  97,
  59,
  17305,
  99,
  114,
  59,
  24848,
  105,
  108,
  100,
  101,
  59,
  16680,
  491,
  1946,
  0,
  1950,
  99,
  121,
  59,
  17414,
  108,
  32827,
  207,
  16591,
  640,
  99,
  102,
  111,
  115,
  117,
  1964,
  1975,
  1980,
  1986,
  2e3,
  256,
  105,
  121,
  1969,
  1973,
  114,
  99,
  59,
  16692,
  59,
  17433,
  114,
  59,
  49152,
  55349,
  56589,
  112,
  102,
  59,
  49152,
  55349,
  56641,
  483,
  1991,
  0,
  1996,
  114,
  59,
  49152,
  55349,
  56485,
  114,
  99,
  121,
  59,
  17416,
  107,
  99,
  121,
  59,
  17412,
  896,
  72,
  74,
  97,
  99,
  102,
  111,
  115,
  2020,
  2024,
  2028,
  2033,
  2045,
  2050,
  2056,
  99,
  121,
  59,
  17445,
  99,
  121,
  59,
  17420,
  112,
  112,
  97,
  59,
  17306,
  256,
  101,
  121,
  2038,
  2043,
  100,
  105,
  108,
  59,
  16694,
  59,
  17434,
  114,
  59,
  49152,
  55349,
  56590,
  112,
  102,
  59,
  49152,
  55349,
  56642,
  99,
  114,
  59,
  49152,
  55349,
  56486,
  1408,
  74,
  84,
  97,
  99,
  101,
  102,
  108,
  109,
  111,
  115,
  116,
  2085,
  2089,
  2092,
  2128,
  2147,
  2483,
  2488,
  2503,
  2509,
  2615,
  2631,
  99,
  121,
  59,
  17417,
  32827,
  60,
  16444,
  640,
  99,
  109,
  110,
  112,
  114,
  2103,
  2108,
  2113,
  2116,
  2125,
  117,
  116,
  101,
  59,
  16697,
  98,
  100,
  97,
  59,
  17307,
  103,
  59,
  26602,
  108,
  97,
  99,
  101,
  116,
  114,
  102,
  59,
  24850,
  114,
  59,
  24990,
  384,
  97,
  101,
  121,
  2135,
  2140,
  2145,
  114,
  111,
  110,
  59,
  16701,
  100,
  105,
  108,
  59,
  16699,
  59,
  17435,
  256,
  102,
  115,
  2152,
  2416,
  116,
  1280,
  65,
  67,
  68,
  70,
  82,
  84,
  85,
  86,
  97,
  114,
  2174,
  2217,
  2225,
  2272,
  2278,
  2300,
  2351,
  2395,
  912,
  2410,
  256,
  110,
  114,
  2179,
  2191,
  103,
  108,
  101,
  66,
  114,
  97,
  99,
  107,
  101,
  116,
  59,
  26600,
  114,
  111,
  119,
  384,
  59,
  66,
  82,
  2201,
  2202,
  2206,
  24976,
  97,
  114,
  59,
  25060,
  105,
  103,
  104,
  116,
  65,
  114,
  114,
  111,
  119,
  59,
  25030,
  101,
  105,
  108,
  105,
  110,
  103,
  59,
  25352,
  111,
  501,
  2231,
  0,
  2243,
  98,
  108,
  101,
  66,
  114,
  97,
  99,
  107,
  101,
  116,
  59,
  26598,
  110,
  468,
  2248,
  0,
  2258,
  101,
  101,
  86,
  101,
  99,
  116,
  111,
  114,
  59,
  26977,
  101,
  99,
  116,
  111,
  114,
  256,
  59,
  66,
  2267,
  2268,
  25027,
  97,
  114,
  59,
  26969,
  108,
  111,
  111,
  114,
  59,
  25354,
  105,
  103,
  104,
  116,
  256,
  65,
  86,
  2287,
  2293,
  114,
  114,
  111,
  119,
  59,
  24980,
  101,
  99,
  116,
  111,
  114,
  59,
  26958,
  256,
  101,
  114,
  2305,
  2327,
  101,
  384,
  59,
  65,
  86,
  2313,
  2314,
  2320,
  25251,
  114,
  114,
  111,
  119,
  59,
  24996,
  101,
  99,
  116,
  111,
  114,
  59,
  26970,
  105,
  97,
  110,
  103,
  108,
  101,
  384,
  59,
  66,
  69,
  2340,
  2341,
  2345,
  25266,
  97,
  114,
  59,
  27087,
  113,
  117,
  97,
  108,
  59,
  25268,
  112,
  384,
  68,
  84,
  86,
  2359,
  2370,
  2380,
  111,
  119,
  110,
  86,
  101,
  99,
  116,
  111,
  114,
  59,
  26961,
  101,
  101,
  86,
  101,
  99,
  116,
  111,
  114,
  59,
  26976,
  101,
  99,
  116,
  111,
  114,
  256,
  59,
  66,
  2390,
  2391,
  25023,
  97,
  114,
  59,
  26968,
  101,
  99,
  116,
  111,
  114,
  256,
  59,
  66,
  2405,
  2406,
  25020,
  97,
  114,
  59,
  26962,
  105,
  103,
  104,
  116,
  225,
  924,
  115,
  768,
  69,
  70,
  71,
  76,
  83,
  84,
  2430,
  2443,
  2453,
  2461,
  2466,
  2477,
  113,
  117,
  97,
  108,
  71,
  114,
  101,
  97,
  116,
  101,
  114,
  59,
  25306,
  117,
  108,
  108,
  69,
  113,
  117,
  97,
  108,
  59,
  25190,
  114,
  101,
  97,
  116,
  101,
  114,
  59,
  25206,
  101,
  115,
  115,
  59,
  27297,
  108,
  97,
  110,
  116,
  69,
  113,
  117,
  97,
  108,
  59,
  27261,
  105,
  108,
  100,
  101,
  59,
  25202,
  114,
  59,
  49152,
  55349,
  56591,
  256,
  59,
  101,
  2493,
  2494,
  25304,
  102,
  116,
  97,
  114,
  114,
  111,
  119,
  59,
  25050,
  105,
  100,
  111,
  116,
  59,
  16703,
  384,
  110,
  112,
  119,
  2516,
  2582,
  2587,
  103,
  512,
  76,
  82,
  108,
  114,
  2526,
  2551,
  2562,
  2576,
  101,
  102,
  116,
  256,
  65,
  82,
  2534,
  2540,
  114,
  114,
  111,
  119,
  59,
  26613,
  105,
  103,
  104,
  116,
  65,
  114,
  114,
  111,
  119,
  59,
  26615,
  105,
  103,
  104,
  116,
  65,
  114,
  114,
  111,
  119,
  59,
  26614,
  101,
  102,
  116,
  256,
  97,
  114,
  947,
  2570,
  105,
  103,
  104,
  116,
  225,
  959,
  105,
  103,
  104,
  116,
  225,
  970,
  102,
  59,
  49152,
  55349,
  56643,
  101,
  114,
  256,
  76,
  82,
  2594,
  2604,
  101,
  102,
  116,
  65,
  114,
  114,
  111,
  119,
  59,
  24985,
  105,
  103,
  104,
  116,
  65,
  114,
  114,
  111,
  119,
  59,
  24984,
  384,
  99,
  104,
  116,
  2622,
  2624,
  2626,
  242,
  2124,
  59,
  25008,
  114,
  111,
  107,
  59,
  16705,
  59,
  25194,
  1024,
  97,
  99,
  101,
  102,
  105,
  111,
  115,
  117,
  2650,
  2653,
  2656,
  2679,
  2684,
  2693,
  2699,
  2702,
  112,
  59,
  26885,
  121,
  59,
  17436,
  256,
  100,
  108,
  2661,
  2671,
  105,
  117,
  109,
  83,
  112,
  97,
  99,
  101,
  59,
  24671,
  108,
  105,
  110,
  116,
  114,
  102,
  59,
  24883,
  114,
  59,
  49152,
  55349,
  56592,
  110,
  117,
  115,
  80,
  108,
  117,
  115,
  59,
  25107,
  112,
  102,
  59,
  49152,
  55349,
  56644,
  99,
  242,
  2678,
  59,
  17308,
  1152,
  74,
  97,
  99,
  101,
  102,
  111,
  115,
  116,
  117,
  2723,
  2727,
  2733,
  2752,
  2836,
  2841,
  3473,
  3479,
  3486,
  99,
  121,
  59,
  17418,
  99,
  117,
  116,
  101,
  59,
  16707,
  384,
  97,
  101,
  121,
  2740,
  2745,
  2750,
  114,
  111,
  110,
  59,
  16711,
  100,
  105,
  108,
  59,
  16709,
  59,
  17437,
  384,
  103,
  115,
  119,
  2759,
  2800,
  2830,
  97,
  116,
  105,
  118,
  101,
  384,
  77,
  84,
  86,
  2771,
  2783,
  2792,
  101,
  100,
  105,
  117,
  109,
  83,
  112,
  97,
  99,
  101,
  59,
  24587,
  104,
  105,
  256,
  99,
  110,
  2790,
  2776,
  235,
  2777,
  101,
  114,
  121,
  84,
  104,
  105,
  238,
  2777,
  116,
  101,
  100,
  256,
  71,
  76,
  2808,
  2822,
  114,
  101,
  97,
  116,
  101,
  114,
  71,
  114,
  101,
  97,
  116,
  101,
  242,
  1651,
  101,
  115,
  115,
  76,
  101,
  115,
  243,
  2632,
  76,
  105,
  110,
  101,
  59,
  16394,
  114,
  59,
  49152,
  55349,
  56593,
  512,
  66,
  110,
  112,
  116,
  2850,
  2856,
  2871,
  2874,
  114,
  101,
  97,
  107,
  59,
  24672,
  66,
  114,
  101,
  97,
  107,
  105,
  110,
  103,
  83,
  112,
  97,
  99,
  101,
  59,
  16544,
  102,
  59,
  24853,
  1664,
  59,
  67,
  68,
  69,
  71,
  72,
  76,
  78,
  80,
  82,
  83,
  84,
  86,
  2901,
  2902,
  2922,
  2940,
  2977,
  3051,
  3076,
  3166,
  3204,
  3238,
  3288,
  3425,
  3461,
  27372,
  256,
  111,
  117,
  2907,
  2916,
  110,
  103,
  114,
  117,
  101,
  110,
  116,
  59,
  25186,
  112,
  67,
  97,
  112,
  59,
  25197,
  111,
  117,
  98,
  108,
  101,
  86,
  101,
  114,
  116,
  105,
  99,
  97,
  108,
  66,
  97,
  114,
  59,
  25126,
  384,
  108,
  113,
  120,
  2947,
  2954,
  2971,
  101,
  109,
  101,
  110,
  116,
  59,
  25097,
  117,
  97,
  108,
  256,
  59,
  84,
  2962,
  2963,
  25184,
  105,
  108,
  100,
  101,
  59,
  49152,
  8770,
  824,
  105,
  115,
  116,
  115,
  59,
  25092,
  114,
  101,
  97,
  116,
  101,
  114,
  896,
  59,
  69,
  70,
  71,
  76,
  83,
  84,
  2998,
  2999,
  3005,
  3017,
  3027,
  3032,
  3045,
  25199,
  113,
  117,
  97,
  108,
  59,
  25201,
  117,
  108,
  108,
  69,
  113,
  117,
  97,
  108,
  59,
  49152,
  8807,
  824,
  114,
  101,
  97,
  116,
  101,
  114,
  59,
  49152,
  8811,
  824,
  101,
  115,
  115,
  59,
  25209,
  108,
  97,
  110,
  116,
  69,
  113,
  117,
  97,
  108,
  59,
  49152,
  10878,
  824,
  105,
  108,
  100,
  101,
  59,
  25205,
  117,
  109,
  112,
  324,
  3058,
  3069,
  111,
  119,
  110,
  72,
  117,
  109,
  112,
  59,
  49152,
  8782,
  824,
  113,
  117,
  97,
  108,
  59,
  49152,
  8783,
  824,
  101,
  256,
  102,
  115,
  3082,
  3111,
  116,
  84,
  114,
  105,
  97,
  110,
  103,
  108,
  101,
  384,
  59,
  66,
  69,
  3098,
  3099,
  3105,
  25322,
  97,
  114,
  59,
  49152,
  10703,
  824,
  113,
  117,
  97,
  108,
  59,
  25324,
  115,
  768,
  59,
  69,
  71,
  76,
  83,
  84,
  3125,
  3126,
  3132,
  3140,
  3147,
  3160,
  25198,
  113,
  117,
  97,
  108,
  59,
  25200,
  114,
  101,
  97,
  116,
  101,
  114,
  59,
  25208,
  101,
  115,
  115,
  59,
  49152,
  8810,
  824,
  108,
  97,
  110,
  116,
  69,
  113,
  117,
  97,
  108,
  59,
  49152,
  10877,
  824,
  105,
  108,
  100,
  101,
  59,
  25204,
  101,
  115,
  116,
  101,
  100,
  256,
  71,
  76,
  3176,
  3193,
  114,
  101,
  97,
  116,
  101,
  114,
  71,
  114,
  101,
  97,
  116,
  101,
  114,
  59,
  49152,
  10914,
  824,
  101,
  115,
  115,
  76,
  101,
  115,
  115,
  59,
  49152,
  10913,
  824,
  114,
  101,
  99,
  101,
  100,
  101,
  115,
  384,
  59,
  69,
  83,
  3218,
  3219,
  3227,
  25216,
  113,
  117,
  97,
  108,
  59,
  49152,
  10927,
  824,
  108,
  97,
  110,
  116,
  69,
  113,
  117,
  97,
  108,
  59,
  25312,
  256,
  101,
  105,
  3243,
  3257,
  118,
  101,
  114,
  115,
  101,
  69,
  108,
  101,
  109,
  101,
  110,
  116,
  59,
  25100,
  103,
  104,
  116,
  84,
  114,
  105,
  97,
  110,
  103,
  108,
  101,
  384,
  59,
  66,
  69,
  3275,
  3276,
  3282,
  25323,
  97,
  114,
  59,
  49152,
  10704,
  824,
  113,
  117,
  97,
  108,
  59,
  25325,
  256,
  113,
  117,
  3293,
  3340,
  117,
  97,
  114,
  101,
  83,
  117,
  256,
  98,
  112,
  3304,
  3321,
  115,
  101,
  116,
  256,
  59,
  69,
  3312,
  3315,
  49152,
  8847,
  824,
  113,
  117,
  97,
  108,
  59,
  25314,
  101,
  114,
  115,
  101,
  116,
  256,
  59,
  69,
  3331,
  3334,
  49152,
  8848,
  824,
  113,
  117,
  97,
  108,
  59,
  25315,
  384,
  98,
  99,
  112,
  3347,
  3364,
  3406,
  115,
  101,
  116,
  256,
  59,
  69,
  3355,
  3358,
  49152,
  8834,
  8402,
  113,
  117,
  97,
  108,
  59,
  25224,
  99,
  101,
  101,
  100,
  115,
  512,
  59,
  69,
  83,
  84,
  3378,
  3379,
  3387,
  3398,
  25217,
  113,
  117,
  97,
  108,
  59,
  49152,
  10928,
  824,
  108,
  97,
  110,
  116,
  69,
  113,
  117,
  97,
  108,
  59,
  25313,
  105,
  108,
  100,
  101,
  59,
  49152,
  8831,
  824,
  101,
  114,
  115,
  101,
  116,
  256,
  59,
  69,
  3416,
  3419,
  49152,
  8835,
  8402,
  113,
  117,
  97,
  108,
  59,
  25225,
  105,
  108,
  100,
  101,
  512,
  59,
  69,
  70,
  84,
  3438,
  3439,
  3445,
  3455,
  25153,
  113,
  117,
  97,
  108,
  59,
  25156,
  117,
  108,
  108,
  69,
  113,
  117,
  97,
  108,
  59,
  25159,
  105,
  108,
  100,
  101,
  59,
  25161,
  101,
  114,
  116,
  105,
  99,
  97,
  108,
  66,
  97,
  114,
  59,
  25124,
  99,
  114,
  59,
  49152,
  55349,
  56489,
  105,
  108,
  100,
  101,
  32827,
  209,
  16593,
  59,
  17309,
  1792,
  69,
  97,
  99,
  100,
  102,
  103,
  109,
  111,
  112,
  114,
  115,
  116,
  117,
  118,
  3517,
  3522,
  3529,
  3541,
  3547,
  3552,
  3559,
  3580,
  3586,
  3616,
  3618,
  3634,
  3647,
  3652,
  108,
  105,
  103,
  59,
  16722,
  99,
  117,
  116,
  101,
  32827,
  211,
  16595,
  256,
  105,
  121,
  3534,
  3539,
  114,
  99,
  32827,
  212,
  16596,
  59,
  17438,
  98,
  108,
  97,
  99,
  59,
  16720,
  114,
  59,
  49152,
  55349,
  56594,
  114,
  97,
  118,
  101,
  32827,
  210,
  16594,
  384,
  97,
  101,
  105,
  3566,
  3570,
  3574,
  99,
  114,
  59,
  16716,
  103,
  97,
  59,
  17321,
  99,
  114,
  111,
  110,
  59,
  17311,
  112,
  102,
  59,
  49152,
  55349,
  56646,
  101,
  110,
  67,
  117,
  114,
  108,
  121,
  256,
  68,
  81,
  3598,
  3610,
  111,
  117,
  98,
  108,
  101,
  81,
  117,
  111,
  116,
  101,
  59,
  24604,
  117,
  111,
  116,
  101,
  59,
  24600,
  59,
  27220,
  256,
  99,
  108,
  3623,
  3628,
  114,
  59,
  49152,
  55349,
  56490,
  97,
  115,
  104,
  32827,
  216,
  16600,
  105,
  364,
  3639,
  3644,
  100,
  101,
  32827,
  213,
  16597,
  101,
  115,
  59,
  27191,
  109,
  108,
  32827,
  214,
  16598,
  101,
  114,
  256,
  66,
  80,
  3659,
  3680,
  256,
  97,
  114,
  3664,
  3667,
  114,
  59,
  24638,
  97,
  99,
  256,
  101,
  107,
  3674,
  3676,
  59,
  25566,
  101,
  116,
  59,
  25524,
  97,
  114,
  101,
  110,
  116,
  104,
  101,
  115,
  105,
  115,
  59,
  25564,
  1152,
  97,
  99,
  102,
  104,
  105,
  108,
  111,
  114,
  115,
  3711,
  3719,
  3722,
  3727,
  3730,
  3732,
  3741,
  3760,
  3836,
  114,
  116,
  105,
  97,
  108,
  68,
  59,
  25090,
  121,
  59,
  17439,
  114,
  59,
  49152,
  55349,
  56595,
  105,
  59,
  17318,
  59,
  17312,
  117,
  115,
  77,
  105,
  110,
  117,
  115,
  59,
  16561,
  256,
  105,
  112,
  3746,
  3757,
  110,
  99,
  97,
  114,
  101,
  112,
  108,
  97,
  110,
  229,
  1693,
  102,
  59,
  24857,
  512,
  59,
  101,
  105,
  111,
  3769,
  3770,
  3808,
  3812,
  27323,
  99,
  101,
  100,
  101,
  115,
  512,
  59,
  69,
  83,
  84,
  3784,
  3785,
  3791,
  3802,
  25210,
  113,
  117,
  97,
  108,
  59,
  27311,
  108,
  97,
  110,
  116,
  69,
  113,
  117,
  97,
  108,
  59,
  25212,
  105,
  108,
  100,
  101,
  59,
  25214,
  109,
  101,
  59,
  24627,
  256,
  100,
  112,
  3817,
  3822,
  117,
  99,
  116,
  59,
  25103,
  111,
  114,
  116,
  105,
  111,
  110,
  256,
  59,
  97,
  549,
  3833,
  108,
  59,
  25117,
  256,
  99,
  105,
  3841,
  3846,
  114,
  59,
  49152,
  55349,
  56491,
  59,
  17320,
  512,
  85,
  102,
  111,
  115,
  3857,
  3862,
  3867,
  3871,
  79,
  84,
  32827,
  34,
  16418,
  114,
  59,
  49152,
  55349,
  56596,
  112,
  102,
  59,
  24858,
  99,
  114,
  59,
  49152,
  55349,
  56492,
  1536,
  66,
  69,
  97,
  99,
  101,
  102,
  104,
  105,
  111,
  114,
  115,
  117,
  3902,
  3907,
  3911,
  3936,
  3955,
  4007,
  4010,
  4013,
  4246,
  4265,
  4276,
  4286,
  97,
  114,
  114,
  59,
  26896,
  71,
  32827,
  174,
  16558,
  384,
  99,
  110,
  114,
  3918,
  3923,
  3926,
  117,
  116,
  101,
  59,
  16724,
  103,
  59,
  26603,
  114,
  256,
  59,
  116,
  3932,
  3933,
  24992,
  108,
  59,
  26902,
  384,
  97,
  101,
  121,
  3943,
  3948,
  3953,
  114,
  111,
  110,
  59,
  16728,
  100,
  105,
  108,
  59,
  16726,
  59,
  17440,
  256,
  59,
  118,
  3960,
  3961,
  24860,
  101,
  114,
  115,
  101,
  256,
  69,
  85,
  3970,
  3993,
  256,
  108,
  113,
  3975,
  3982,
  101,
  109,
  101,
  110,
  116,
  59,
  25099,
  117,
  105,
  108,
  105,
  98,
  114,
  105,
  117,
  109,
  59,
  25035,
  112,
  69,
  113,
  117,
  105,
  108,
  105,
  98,
  114,
  105,
  117,
  109,
  59,
  26991,
  114,
  187,
  3961,
  111,
  59,
  17313,
  103,
  104,
  116,
  1024,
  65,
  67,
  68,
  70,
  84,
  85,
  86,
  97,
  4033,
  4075,
  4083,
  4130,
  4136,
  4187,
  4231,
  984,
  256,
  110,
  114,
  4038,
  4050,
  103,
  108,
  101,
  66,
  114,
  97,
  99,
  107,
  101,
  116,
  59,
  26601,
  114,
  111,
  119,
  384,
  59,
  66,
  76,
  4060,
  4061,
  4065,
  24978,
  97,
  114,
  59,
  25061,
  101,
  102,
  116,
  65,
  114,
  114,
  111,
  119,
  59,
  25028,
  101,
  105,
  108,
  105,
  110,
  103,
  59,
  25353,
  111,
  501,
  4089,
  0,
  4101,
  98,
  108,
  101,
  66,
  114,
  97,
  99,
  107,
  101,
  116,
  59,
  26599,
  110,
  468,
  4106,
  0,
  4116,
  101,
  101,
  86,
  101,
  99,
  116,
  111,
  114,
  59,
  26973,
  101,
  99,
  116,
  111,
  114,
  256,
  59,
  66,
  4125,
  4126,
  25026,
  97,
  114,
  59,
  26965,
  108,
  111,
  111,
  114,
  59,
  25355,
  256,
  101,
  114,
  4141,
  4163,
  101,
  384,
  59,
  65,
  86,
  4149,
  4150,
  4156,
  25250,
  114,
  114,
  111,
  119,
  59,
  24998,
  101,
  99,
  116,
  111,
  114,
  59,
  26971,
  105,
  97,
  110,
  103,
  108,
  101,
  384,
  59,
  66,
  69,
  4176,
  4177,
  4181,
  25267,
  97,
  114,
  59,
  27088,
  113,
  117,
  97,
  108,
  59,
  25269,
  112,
  384,
  68,
  84,
  86,
  4195,
  4206,
  4216,
  111,
  119,
  110,
  86,
  101,
  99,
  116,
  111,
  114,
  59,
  26959,
  101,
  101,
  86,
  101,
  99,
  116,
  111,
  114,
  59,
  26972,
  101,
  99,
  116,
  111,
  114,
  256,
  59,
  66,
  4226,
  4227,
  25022,
  97,
  114,
  59,
  26964,
  101,
  99,
  116,
  111,
  114,
  256,
  59,
  66,
  4241,
  4242,
  25024,
  97,
  114,
  59,
  26963,
  256,
  112,
  117,
  4251,
  4254,
  102,
  59,
  24861,
  110,
  100,
  73,
  109,
  112,
  108,
  105,
  101,
  115,
  59,
  26992,
  105,
  103,
  104,
  116,
  97,
  114,
  114,
  111,
  119,
  59,
  25051,
  256,
  99,
  104,
  4281,
  4284,
  114,
  59,
  24859,
  59,
  25009,
  108,
  101,
  68,
  101,
  108,
  97,
  121,
  101,
  100,
  59,
  27124,
  1664,
  72,
  79,
  97,
  99,
  102,
  104,
  105,
  109,
  111,
  113,
  115,
  116,
  117,
  4324,
  4337,
  4343,
  4349,
  4377,
  4382,
  4433,
  4438,
  4449,
  4455,
  4533,
  4539,
  4543,
  256,
  67,
  99,
  4329,
  4334,
  72,
  99,
  121,
  59,
  17449,
  121,
  59,
  17448,
  70,
  84,
  99,
  121,
  59,
  17452,
  99,
  117,
  116,
  101,
  59,
  16730,
  640,
  59,
  97,
  101,
  105,
  121,
  4360,
  4361,
  4366,
  4371,
  4375,
  27324,
  114,
  111,
  110,
  59,
  16736,
  100,
  105,
  108,
  59,
  16734,
  114,
  99,
  59,
  16732,
  59,
  17441,
  114,
  59,
  49152,
  55349,
  56598,
  111,
  114,
  116,
  512,
  68,
  76,
  82,
  85,
  4394,
  4404,
  4414,
  4425,
  111,
  119,
  110,
  65,
  114,
  114,
  111,
  119,
  187,
  1054,
  101,
  102,
  116,
  65,
  114,
  114,
  111,
  119,
  187,
  2202,
  105,
  103,
  104,
  116,
  65,
  114,
  114,
  111,
  119,
  187,
  4061,
  112,
  65,
  114,
  114,
  111,
  119,
  59,
  24977,
  103,
  109,
  97,
  59,
  17315,
  97,
  108,
  108,
  67,
  105,
  114,
  99,
  108,
  101,
  59,
  25112,
  112,
  102,
  59,
  49152,
  55349,
  56650,
  626,
  4461,
  0,
  0,
  4464,
  116,
  59,
  25114,
  97,
  114,
  101,
  512,
  59,
  73,
  83,
  85,
  4475,
  4476,
  4489,
  4527,
  26017,
  110,
  116,
  101,
  114,
  115,
  101,
  99,
  116,
  105,
  111,
  110,
  59,
  25235,
  117,
  256,
  98,
  112,
  4495,
  4510,
  115,
  101,
  116,
  256,
  59,
  69,
  4503,
  4504,
  25231,
  113,
  117,
  97,
  108,
  59,
  25233,
  101,
  114,
  115,
  101,
  116,
  256,
  59,
  69,
  4520,
  4521,
  25232,
  113,
  117,
  97,
  108,
  59,
  25234,
  110,
  105,
  111,
  110,
  59,
  25236,
  99,
  114,
  59,
  49152,
  55349,
  56494,
  97,
  114,
  59,
  25286,
  512,
  98,
  99,
  109,
  112,
  4552,
  4571,
  4617,
  4619,
  256,
  59,
  115,
  4557,
  4558,
  25296,
  101,
  116,
  256,
  59,
  69,
  4557,
  4565,
  113,
  117,
  97,
  108,
  59,
  25222,
  256,
  99,
  104,
  4576,
  4613,
  101,
  101,
  100,
  115,
  512,
  59,
  69,
  83,
  84,
  4589,
  4590,
  4596,
  4607,
  25211,
  113,
  117,
  97,
  108,
  59,
  27312,
  108,
  97,
  110,
  116,
  69,
  113,
  117,
  97,
  108,
  59,
  25213,
  105,
  108,
  100,
  101,
  59,
  25215,
  84,
  104,
  225,
  3980,
  59,
  25105,
  384,
  59,
  101,
  115,
  4626,
  4627,
  4643,
  25297,
  114,
  115,
  101,
  116,
  256,
  59,
  69,
  4636,
  4637,
  25219,
  113,
  117,
  97,
  108,
  59,
  25223,
  101,
  116,
  187,
  4627,
  1408,
  72,
  82,
  83,
  97,
  99,
  102,
  104,
  105,
  111,
  114,
  115,
  4670,
  4676,
  4681,
  4693,
  4702,
  4721,
  4726,
  4767,
  4802,
  4808,
  4817,
  79,
  82,
  78,
  32827,
  222,
  16606,
  65,
  68,
  69,
  59,
  24866,
  256,
  72,
  99,
  4686,
  4690,
  99,
  121,
  59,
  17419,
  121,
  59,
  17446,
  256,
  98,
  117,
  4698,
  4700,
  59,
  16393,
  59,
  17316,
  384,
  97,
  101,
  121,
  4709,
  4714,
  4719,
  114,
  111,
  110,
  59,
  16740,
  100,
  105,
  108,
  59,
  16738,
  59,
  17442,
  114,
  59,
  49152,
  55349,
  56599,
  256,
  101,
  105,
  4731,
  4745,
  498,
  4736,
  0,
  4743,
  101,
  102,
  111,
  114,
  101,
  59,
  25140,
  97,
  59,
  17304,
  256,
  99,
  110,
  4750,
  4760,
  107,
  83,
  112,
  97,
  99,
  101,
  59,
  49152,
  8287,
  8202,
  83,
  112,
  97,
  99,
  101,
  59,
  24585,
  108,
  100,
  101,
  512,
  59,
  69,
  70,
  84,
  4779,
  4780,
  4786,
  4796,
  25148,
  113,
  117,
  97,
  108,
  59,
  25155,
  117,
  108,
  108,
  69,
  113,
  117,
  97,
  108,
  59,
  25157,
  105,
  108,
  100,
  101,
  59,
  25160,
  112,
  102,
  59,
  49152,
  55349,
  56651,
  105,
  112,
  108,
  101,
  68,
  111,
  116,
  59,
  24795,
  256,
  99,
  116,
  4822,
  4827,
  114,
  59,
  49152,
  55349,
  56495,
  114,
  111,
  107,
  59,
  16742,
  2785,
  4855,
  4878,
  4890,
  4902,
  0,
  4908,
  4913,
  0,
  0,
  0,
  0,
  0,
  4920,
  4925,
  4983,
  4997,
  0,
  5119,
  5124,
  5130,
  5136,
  256,
  99,
  114,
  4859,
  4865,
  117,
  116,
  101,
  32827,
  218,
  16602,
  114,
  256,
  59,
  111,
  4871,
  4872,
  24991,
  99,
  105,
  114,
  59,
  26953,
  114,
  483,
  4883,
  0,
  4886,
  121,
  59,
  17422,
  118,
  101,
  59,
  16748,
  256,
  105,
  121,
  4894,
  4899,
  114,
  99,
  32827,
  219,
  16603,
  59,
  17443,
  98,
  108,
  97,
  99,
  59,
  16752,
  114,
  59,
  49152,
  55349,
  56600,
  114,
  97,
  118,
  101,
  32827,
  217,
  16601,
  97,
  99,
  114,
  59,
  16746,
  256,
  100,
  105,
  4929,
  4969,
  101,
  114,
  256,
  66,
  80,
  4936,
  4957,
  256,
  97,
  114,
  4941,
  4944,
  114,
  59,
  16479,
  97,
  99,
  256,
  101,
  107,
  4951,
  4953,
  59,
  25567,
  101,
  116,
  59,
  25525,
  97,
  114,
  101,
  110,
  116,
  104,
  101,
  115,
  105,
  115,
  59,
  25565,
  111,
  110,
  256,
  59,
  80,
  4976,
  4977,
  25283,
  108,
  117,
  115,
  59,
  25230,
  256,
  103,
  112,
  4987,
  4991,
  111,
  110,
  59,
  16754,
  102,
  59,
  49152,
  55349,
  56652,
  1024,
  65,
  68,
  69,
  84,
  97,
  100,
  112,
  115,
  5013,
  5038,
  5048,
  5060,
  1e3,
  5074,
  5079,
  5107,
  114,
  114,
  111,
  119,
  384,
  59,
  66,
  68,
  4432,
  5024,
  5028,
  97,
  114,
  59,
  26898,
  111,
  119,
  110,
  65,
  114,
  114,
  111,
  119,
  59,
  25029,
  111,
  119,
  110,
  65,
  114,
  114,
  111,
  119,
  59,
  24981,
  113,
  117,
  105,
  108,
  105,
  98,
  114,
  105,
  117,
  109,
  59,
  26990,
  101,
  101,
  256,
  59,
  65,
  5067,
  5068,
  25253,
  114,
  114,
  111,
  119,
  59,
  24997,
  111,
  119,
  110,
  225,
  1011,
  101,
  114,
  256,
  76,
  82,
  5086,
  5096,
  101,
  102,
  116,
  65,
  114,
  114,
  111,
  119,
  59,
  24982,
  105,
  103,
  104,
  116,
  65,
  114,
  114,
  111,
  119,
  59,
  24983,
  105,
  256,
  59,
  108,
  5113,
  5114,
  17362,
  111,
  110,
  59,
  17317,
  105,
  110,
  103,
  59,
  16750,
  99,
  114,
  59,
  49152,
  55349,
  56496,
  105,
  108,
  100,
  101,
  59,
  16744,
  109,
  108,
  32827,
  220,
  16604,
  1152,
  68,
  98,
  99,
  100,
  101,
  102,
  111,
  115,
  118,
  5159,
  5164,
  5168,
  5171,
  5182,
  5253,
  5258,
  5264,
  5270,
  97,
  115,
  104,
  59,
  25259,
  97,
  114,
  59,
  27371,
  121,
  59,
  17426,
  97,
  115,
  104,
  256,
  59,
  108,
  5179,
  5180,
  25257,
  59,
  27366,
  256,
  101,
  114,
  5187,
  5189,
  59,
  25281,
  384,
  98,
  116,
  121,
  5196,
  5200,
  5242,
  97,
  114,
  59,
  24598,
  256,
  59,
  105,
  5199,
  5205,
  99,
  97,
  108,
  512,
  66,
  76,
  83,
  84,
  5217,
  5221,
  5226,
  5236,
  97,
  114,
  59,
  25123,
  105,
  110,
  101,
  59,
  16508,
  101,
  112,
  97,
  114,
  97,
  116,
  111,
  114,
  59,
  26456,
  105,
  108,
  100,
  101,
  59,
  25152,
  84,
  104,
  105,
  110,
  83,
  112,
  97,
  99,
  101,
  59,
  24586,
  114,
  59,
  49152,
  55349,
  56601,
  112,
  102,
  59,
  49152,
  55349,
  56653,
  99,
  114,
  59,
  49152,
  55349,
  56497,
  100,
  97,
  115,
  104,
  59,
  25258,
  640,
  99,
  101,
  102,
  111,
  115,
  5287,
  5292,
  5297,
  5302,
  5308,
  105,
  114,
  99,
  59,
  16756,
  100,
  103,
  101,
  59,
  25280,
  114,
  59,
  49152,
  55349,
  56602,
  112,
  102,
  59,
  49152,
  55349,
  56654,
  99,
  114,
  59,
  49152,
  55349,
  56498,
  512,
  102,
  105,
  111,
  115,
  5323,
  5328,
  5330,
  5336,
  114,
  59,
  49152,
  55349,
  56603,
  59,
  17310,
  112,
  102,
  59,
  49152,
  55349,
  56655,
  99,
  114,
  59,
  49152,
  55349,
  56499,
  1152,
  65,
  73,
  85,
  97,
  99,
  102,
  111,
  115,
  117,
  5361,
  5365,
  5369,
  5373,
  5380,
  5391,
  5396,
  5402,
  5408,
  99,
  121,
  59,
  17455,
  99,
  121,
  59,
  17415,
  99,
  121,
  59,
  17454,
  99,
  117,
  116,
  101,
  32827,
  221,
  16605,
  256,
  105,
  121,
  5385,
  5389,
  114,
  99,
  59,
  16758,
  59,
  17451,
  114,
  59,
  49152,
  55349,
  56604,
  112,
  102,
  59,
  49152,
  55349,
  56656,
  99,
  114,
  59,
  49152,
  55349,
  56500,
  109,
  108,
  59,
  16760,
  1024,
  72,
  97,
  99,
  100,
  101,
  102,
  111,
  115,
  5429,
  5433,
  5439,
  5451,
  5455,
  5469,
  5472,
  5476,
  99,
  121,
  59,
  17430,
  99,
  117,
  116,
  101,
  59,
  16761,
  256,
  97,
  121,
  5444,
  5449,
  114,
  111,
  110,
  59,
  16765,
  59,
  17431,
  111,
  116,
  59,
  16763,
  498,
  5460,
  0,
  5467,
  111,
  87,
  105,
  100,
  116,
  232,
  2777,
  97,
  59,
  17302,
  114,
  59,
  24872,
  112,
  102,
  59,
  24868,
  99,
  114,
  59,
  49152,
  55349,
  56501,
  3041,
  5507,
  5514,
  5520,
  0,
  5552,
  5558,
  5567,
  0,
  0,
  0,
  0,
  5574,
  5595,
  5611,
  5727,
  5741,
  0,
  5781,
  5787,
  5810,
  5817,
  0,
  5822,
  99,
  117,
  116,
  101,
  32827,
  225,
  16609,
  114,
  101,
  118,
  101,
  59,
  16643,
  768,
  59,
  69,
  100,
  105,
  117,
  121,
  5532,
  5533,
  5537,
  5539,
  5544,
  5549,
  25150,
  59,
  49152,
  8766,
  819,
  59,
  25151,
  114,
  99,
  32827,
  226,
  16610,
  116,
  101,
  32955,
  180,
  774,
  59,
  17456,
  108,
  105,
  103,
  32827,
  230,
  16614,
  256,
  59,
  114,
  178,
  5562,
  59,
  49152,
  55349,
  56606,
  114,
  97,
  118,
  101,
  32827,
  224,
  16608,
  256,
  101,
  112,
  5578,
  5590,
  256,
  102,
  112,
  5583,
  5588,
  115,
  121,
  109,
  59,
  24885,
  232,
  5587,
  104,
  97,
  59,
  17329,
  256,
  97,
  112,
  5599,
  99,
  256,
  99,
  108,
  5604,
  5607,
  114,
  59,
  16641,
  103,
  59,
  27199,
  612,
  5616,
  0,
  0,
  5642,
  640,
  59,
  97,
  100,
  115,
  118,
  5626,
  5627,
  5631,
  5633,
  5639,
  25127,
  110,
  100,
  59,
  27221,
  59,
  27228,
  108,
  111,
  112,
  101,
  59,
  27224,
  59,
  27226,
  896,
  59,
  101,
  108,
  109,
  114,
  115,
  122,
  5656,
  5657,
  5659,
  5662,
  5695,
  5711,
  5721,
  25120,
  59,
  27044,
  101,
  187,
  5657,
  115,
  100,
  256,
  59,
  97,
  5669,
  5670,
  25121,
  1121,
  5680,
  5682,
  5684,
  5686,
  5688,
  5690,
  5692,
  5694,
  59,
  27048,
  59,
  27049,
  59,
  27050,
  59,
  27051,
  59,
  27052,
  59,
  27053,
  59,
  27054,
  59,
  27055,
  116,
  256,
  59,
  118,
  5701,
  5702,
  25119,
  98,
  256,
  59,
  100,
  5708,
  5709,
  25278,
  59,
  27037,
  256,
  112,
  116,
  5716,
  5719,
  104,
  59,
  25122,
  187,
  185,
  97,
  114,
  114,
  59,
  25468,
  256,
  103,
  112,
  5731,
  5735,
  111,
  110,
  59,
  16645,
  102,
  59,
  49152,
  55349,
  56658,
  896,
  59,
  69,
  97,
  101,
  105,
  111,
  112,
  4801,
  5755,
  5757,
  5762,
  5764,
  5767,
  5770,
  59,
  27248,
  99,
  105,
  114,
  59,
  27247,
  59,
  25162,
  100,
  59,
  25163,
  115,
  59,
  16423,
  114,
  111,
  120,
  256,
  59,
  101,
  4801,
  5778,
  241,
  5763,
  105,
  110,
  103,
  32827,
  229,
  16613,
  384,
  99,
  116,
  121,
  5793,
  5798,
  5800,
  114,
  59,
  49152,
  55349,
  56502,
  59,
  16426,
  109,
  112,
  256,
  59,
  101,
  4801,
  5807,
  241,
  648,
  105,
  108,
  100,
  101,
  32827,
  227,
  16611,
  109,
  108,
  32827,
  228,
  16612,
  256,
  99,
  105,
  5826,
  5832,
  111,
  110,
  105,
  110,
  244,
  626,
  110,
  116,
  59,
  27153,
  2048,
  78,
  97,
  98,
  99,
  100,
  101,
  102,
  105,
  107,
  108,
  110,
  111,
  112,
  114,
  115,
  117,
  5869,
  5873,
  5936,
  5948,
  5955,
  5960,
  6008,
  6013,
  6112,
  6118,
  6201,
  6224,
  5901,
  6461,
  6472,
  6512,
  111,
  116,
  59,
  27373,
  256,
  99,
  114,
  5878,
  5918,
  107,
  512,
  99,
  101,
  112,
  115,
  5888,
  5893,
  5901,
  5907,
  111,
  110,
  103,
  59,
  25164,
  112,
  115,
  105,
  108,
  111,
  110,
  59,
  17398,
  114,
  105,
  109,
  101,
  59,
  24629,
  105,
  109,
  256,
  59,
  101,
  5914,
  5915,
  25149,
  113,
  59,
  25293,
  374,
  5922,
  5926,
  101,
  101,
  59,
  25277,
  101,
  100,
  256,
  59,
  103,
  5932,
  5933,
  25349,
  101,
  187,
  5933,
  114,
  107,
  256,
  59,
  116,
  4956,
  5943,
  98,
  114,
  107,
  59,
  25526,
  256,
  111,
  121,
  5889,
  5953,
  59,
  17457,
  113,
  117,
  111,
  59,
  24606,
  640,
  99,
  109,
  112,
  114,
  116,
  5971,
  5979,
  5985,
  5988,
  5992,
  97,
  117,
  115,
  256,
  59,
  101,
  266,
  265,
  112,
  116,
  121,
  118,
  59,
  27056,
  115,
  233,
  5900,
  110,
  111,
  245,
  275,
  384,
  97,
  104,
  119,
  5999,
  6001,
  6003,
  59,
  17330,
  59,
  24886,
  101,
  101,
  110,
  59,
  25196,
  114,
  59,
  49152,
  55349,
  56607,
  103,
  896,
  99,
  111,
  115,
  116,
  117,
  118,
  119,
  6029,
  6045,
  6067,
  6081,
  6101,
  6107,
  6110,
  384,
  97,
  105,
  117,
  6036,
  6038,
  6042,
  240,
  1888,
  114,
  99,
  59,
  26095,
  112,
  187,
  4977,
  384,
  100,
  112,
  116,
  6052,
  6056,
  6061,
  111,
  116,
  59,
  27136,
  108,
  117,
  115,
  59,
  27137,
  105,
  109,
  101,
  115,
  59,
  27138,
  625,
  6073,
  0,
  0,
  6078,
  99,
  117,
  112,
  59,
  27142,
  97,
  114,
  59,
  26117,
  114,
  105,
  97,
  110,
  103,
  108,
  101,
  256,
  100,
  117,
  6093,
  6098,
  111,
  119,
  110,
  59,
  26045,
  112,
  59,
  26035,
  112,
  108,
  117,
  115,
  59,
  27140,
  101,
  229,
  5188,
  229,
  5293,
  97,
  114,
  111,
  119,
  59,
  26893,
  384,
  97,
  107,
  111,
  6125,
  6182,
  6197,
  256,
  99,
  110,
  6130,
  6179,
  107,
  384,
  108,
  115,
  116,
  6138,
  1451,
  6146,
  111,
  122,
  101,
  110,
  103,
  101,
  59,
  27115,
  114,
  105,
  97,
  110,
  103,
  108,
  101,
  512,
  59,
  100,
  108,
  114,
  6162,
  6163,
  6168,
  6173,
  26036,
  111,
  119,
  110,
  59,
  26046,
  101,
  102,
  116,
  59,
  26050,
  105,
  103,
  104,
  116,
  59,
  26040,
  107,
  59,
  25635,
  433,
  6187,
  0,
  6195,
  434,
  6191,
  0,
  6193,
  59,
  26002,
  59,
  26001,
  52,
  59,
  26003,
  99,
  107,
  59,
  25992,
  256,
  101,
  111,
  6206,
  6221,
  256,
  59,
  113,
  6211,
  6214,
  49152,
  61,
  8421,
  117,
  105,
  118,
  59,
  49152,
  8801,
  8421,
  116,
  59,
  25360,
  512,
  112,
  116,
  119,
  120,
  6233,
  6238,
  6247,
  6252,
  102,
  59,
  49152,
  55349,
  56659,
  256,
  59,
  116,
  5067,
  6243,
  111,
  109,
  187,
  5068,
  116,
  105,
  101,
  59,
  25288,
  1536,
  68,
  72,
  85,
  86,
  98,
  100,
  104,
  109,
  112,
  116,
  117,
  118,
  6277,
  6294,
  6314,
  6331,
  6359,
  6363,
  6380,
  6399,
  6405,
  6410,
  6416,
  6433,
  512,
  76,
  82,
  108,
  114,
  6286,
  6288,
  6290,
  6292,
  59,
  25943,
  59,
  25940,
  59,
  25942,
  59,
  25939,
  640,
  59,
  68,
  85,
  100,
  117,
  6305,
  6306,
  6308,
  6310,
  6312,
  25936,
  59,
  25958,
  59,
  25961,
  59,
  25956,
  59,
  25959,
  512,
  76,
  82,
  108,
  114,
  6323,
  6325,
  6327,
  6329,
  59,
  25949,
  59,
  25946,
  59,
  25948,
  59,
  25945,
  896,
  59,
  72,
  76,
  82,
  104,
  108,
  114,
  6346,
  6347,
  6349,
  6351,
  6353,
  6355,
  6357,
  25937,
  59,
  25964,
  59,
  25955,
  59,
  25952,
  59,
  25963,
  59,
  25954,
  59,
  25951,
  111,
  120,
  59,
  27081,
  512,
  76,
  82,
  108,
  114,
  6372,
  6374,
  6376,
  6378,
  59,
  25941,
  59,
  25938,
  59,
  25872,
  59,
  25868,
  640,
  59,
  68,
  85,
  100,
  117,
  1725,
  6391,
  6393,
  6395,
  6397,
  59,
  25957,
  59,
  25960,
  59,
  25900,
  59,
  25908,
  105,
  110,
  117,
  115,
  59,
  25247,
  108,
  117,
  115,
  59,
  25246,
  105,
  109,
  101,
  115,
  59,
  25248,
  512,
  76,
  82,
  108,
  114,
  6425,
  6427,
  6429,
  6431,
  59,
  25947,
  59,
  25944,
  59,
  25880,
  59,
  25876,
  896,
  59,
  72,
  76,
  82,
  104,
  108,
  114,
  6448,
  6449,
  6451,
  6453,
  6455,
  6457,
  6459,
  25858,
  59,
  25962,
  59,
  25953,
  59,
  25950,
  59,
  25916,
  59,
  25892,
  59,
  25884,
  256,
  101,
  118,
  291,
  6466,
  98,
  97,
  114,
  32827,
  166,
  16550,
  512,
  99,
  101,
  105,
  111,
  6481,
  6486,
  6490,
  6496,
  114,
  59,
  49152,
  55349,
  56503,
  109,
  105,
  59,
  24655,
  109,
  256,
  59,
  101,
  5914,
  5916,
  108,
  384,
  59,
  98,
  104,
  6504,
  6505,
  6507,
  16476,
  59,
  27077,
  115,
  117,
  98,
  59,
  26568,
  364,
  6516,
  6526,
  108,
  256,
  59,
  101,
  6521,
  6522,
  24610,
  116,
  187,
  6522,
  112,
  384,
  59,
  69,
  101,
  303,
  6533,
  6535,
  59,
  27310,
  256,
  59,
  113,
  1756,
  1755,
  3297,
  6567,
  0,
  6632,
  6673,
  6677,
  6706,
  0,
  6711,
  6736,
  0,
  0,
  6836,
  0,
  0,
  6849,
  0,
  0,
  6945,
  6958,
  6989,
  6994,
  0,
  7165,
  0,
  7180,
  384,
  99,
  112,
  114,
  6573,
  6578,
  6621,
  117,
  116,
  101,
  59,
  16647,
  768,
  59,
  97,
  98,
  99,
  100,
  115,
  6591,
  6592,
  6596,
  6602,
  6613,
  6617,
  25129,
  110,
  100,
  59,
  27204,
  114,
  99,
  117,
  112,
  59,
  27209,
  256,
  97,
  117,
  6607,
  6610,
  112,
  59,
  27211,
  112,
  59,
  27207,
  111,
  116,
  59,
  27200,
  59,
  49152,
  8745,
  65024,
  256,
  101,
  111,
  6626,
  6629,
  116,
  59,
  24641,
  238,
  1683,
  512,
  97,
  101,
  105,
  117,
  6640,
  6651,
  6657,
  6661,
  496,
  6645,
  0,
  6648,
  115,
  59,
  27213,
  111,
  110,
  59,
  16653,
  100,
  105,
  108,
  32827,
  231,
  16615,
  114,
  99,
  59,
  16649,
  112,
  115,
  256,
  59,
  115,
  6668,
  6669,
  27212,
  109,
  59,
  27216,
  111,
  116,
  59,
  16651,
  384,
  100,
  109,
  110,
  6683,
  6688,
  6694,
  105,
  108,
  32955,
  184,
  429,
  112,
  116,
  121,
  118,
  59,
  27058,
  116,
  33024,
  162,
  59,
  101,
  6701,
  6702,
  16546,
  114,
  228,
  434,
  114,
  59,
  49152,
  55349,
  56608,
  384,
  99,
  101,
  105,
  6717,
  6720,
  6733,
  121,
  59,
  17479,
  99,
  107,
  256,
  59,
  109,
  6727,
  6728,
  26387,
  97,
  114,
  107,
  187,
  6728,
  59,
  17351,
  114,
  896,
  59,
  69,
  99,
  101,
  102,
  109,
  115,
  6751,
  6752,
  6754,
  6763,
  6820,
  6826,
  6830,
  26059,
  59,
  27075,
  384,
  59,
  101,
  108,
  6761,
  6762,
  6765,
  17094,
  113,
  59,
  25175,
  101,
  609,
  6772,
  0,
  0,
  6792,
  114,
  114,
  111,
  119,
  256,
  108,
  114,
  6780,
  6785,
  101,
  102,
  116,
  59,
  25018,
  105,
  103,
  104,
  116,
  59,
  25019,
  640,
  82,
  83,
  97,
  99,
  100,
  6802,
  6804,
  6806,
  6810,
  6815,
  187,
  3911,
  59,
  25800,
  115,
  116,
  59,
  25243,
  105,
  114,
  99,
  59,
  25242,
  97,
  115,
  104,
  59,
  25245,
  110,
  105,
  110,
  116,
  59,
  27152,
  105,
  100,
  59,
  27375,
  99,
  105,
  114,
  59,
  27074,
  117,
  98,
  115,
  256,
  59,
  117,
  6843,
  6844,
  26211,
  105,
  116,
  187,
  6844,
  748,
  6855,
  6868,
  6906,
  0,
  6922,
  111,
  110,
  256,
  59,
  101,
  6861,
  6862,
  16442,
  256,
  59,
  113,
  199,
  198,
  621,
  6873,
  0,
  0,
  6882,
  97,
  256,
  59,
  116,
  6878,
  6879,
  16428,
  59,
  16448,
  384,
  59,
  102,
  108,
  6888,
  6889,
  6891,
  25089,
  238,
  4448,
  101,
  256,
  109,
  120,
  6897,
  6902,
  101,
  110,
  116,
  187,
  6889,
  101,
  243,
  589,
  487,
  6910,
  0,
  6919,
  256,
  59,
  100,
  4795,
  6914,
  111,
  116,
  59,
  27245,
  110,
  244,
  582,
  384,
  102,
  114,
  121,
  6928,
  6932,
  6935,
  59,
  49152,
  55349,
  56660,
  111,
  228,
  596,
  33024,
  169,
  59,
  115,
  341,
  6941,
  114,
  59,
  24855,
  256,
  97,
  111,
  6949,
  6953,
  114,
  114,
  59,
  25013,
  115,
  115,
  59,
  26391,
  256,
  99,
  117,
  6962,
  6967,
  114,
  59,
  49152,
  55349,
  56504,
  256,
  98,
  112,
  6972,
  6980,
  256,
  59,
  101,
  6977,
  6978,
  27343,
  59,
  27345,
  256,
  59,
  101,
  6985,
  6986,
  27344,
  59,
  27346,
  100,
  111,
  116,
  59,
  25327,
  896,
  100,
  101,
  108,
  112,
  114,
  118,
  119,
  7008,
  7020,
  7031,
  7042,
  7084,
  7124,
  7161,
  97,
  114,
  114,
  256,
  108,
  114,
  7016,
  7018,
  59,
  26936,
  59,
  26933,
  624,
  7026,
  0,
  0,
  7029,
  114,
  59,
  25310,
  99,
  59,
  25311,
  97,
  114,
  114,
  256,
  59,
  112,
  7039,
  7040,
  25014,
  59,
  26941,
  768,
  59,
  98,
  99,
  100,
  111,
  115,
  7055,
  7056,
  7062,
  7073,
  7077,
  7080,
  25130,
  114,
  99,
  97,
  112,
  59,
  27208,
  256,
  97,
  117,
  7067,
  7070,
  112,
  59,
  27206,
  112,
  59,
  27210,
  111,
  116,
  59,
  25229,
  114,
  59,
  27205,
  59,
  49152,
  8746,
  65024,
  512,
  97,
  108,
  114,
  118,
  7093,
  7103,
  7134,
  7139,
  114,
  114,
  256,
  59,
  109,
  7100,
  7101,
  25015,
  59,
  26940,
  121,
  384,
  101,
  118,
  119,
  7111,
  7124,
  7128,
  113,
  624,
  7118,
  0,
  0,
  7122,
  114,
  101,
  227,
  7027,
  117,
  227,
  7029,
  101,
  101,
  59,
  25294,
  101,
  100,
  103,
  101,
  59,
  25295,
  101,
  110,
  32827,
  164,
  16548,
  101,
  97,
  114,
  114,
  111,
  119,
  256,
  108,
  114,
  7150,
  7155,
  101,
  102,
  116,
  187,
  7040,
  105,
  103,
  104,
  116,
  187,
  7101,
  101,
  228,
  7133,
  256,
  99,
  105,
  7169,
  7175,
  111,
  110,
  105,
  110,
  244,
  503,
  110,
  116,
  59,
  25137,
  108,
  99,
  116,
  121,
  59,
  25389,
  2432,
  65,
  72,
  97,
  98,
  99,
  100,
  101,
  102,
  104,
  105,
  106,
  108,
  111,
  114,
  115,
  116,
  117,
  119,
  122,
  7224,
  7227,
  7231,
  7261,
  7273,
  7285,
  7306,
  7326,
  7340,
  7351,
  7419,
  7423,
  7437,
  7547,
  7569,
  7595,
  7611,
  7622,
  7629,
  114,
  242,
  897,
  97,
  114,
  59,
  26981,
  512,
  103,
  108,
  114,
  115,
  7240,
  7245,
  7250,
  7252,
  103,
  101,
  114,
  59,
  24608,
  101,
  116,
  104,
  59,
  24888,
  242,
  4403,
  104,
  256,
  59,
  118,
  7258,
  7259,
  24592,
  187,
  2314,
  363,
  7265,
  7271,
  97,
  114,
  111,
  119,
  59,
  26895,
  97,
  227,
  789,
  256,
  97,
  121,
  7278,
  7283,
  114,
  111,
  110,
  59,
  16655,
  59,
  17460,
  384,
  59,
  97,
  111,
  818,
  7292,
  7300,
  256,
  103,
  114,
  703,
  7297,
  114,
  59,
  25034,
  116,
  115,
  101,
  113,
  59,
  27255,
  384,
  103,
  108,
  109,
  7313,
  7316,
  7320,
  32827,
  176,
  16560,
  116,
  97,
  59,
  17332,
  112,
  116,
  121,
  118,
  59,
  27057,
  256,
  105,
  114,
  7331,
  7336,
  115,
  104,
  116,
  59,
  27007,
  59,
  49152,
  55349,
  56609,
  97,
  114,
  256,
  108,
  114,
  7347,
  7349,
  187,
  2268,
  187,
  4126,
  640,
  97,
  101,
  103,
  115,
  118,
  7362,
  888,
  7382,
  7388,
  7392,
  109,
  384,
  59,
  111,
  115,
  806,
  7370,
  7380,
  110,
  100,
  256,
  59,
  115,
  806,
  7377,
  117,
  105,
  116,
  59,
  26214,
  97,
  109,
  109,
  97,
  59,
  17373,
  105,
  110,
  59,
  25330,
  384,
  59,
  105,
  111,
  7399,
  7400,
  7416,
  16631,
  100,
  101,
  33024,
  247,
  59,
  111,
  7399,
  7408,
  110,
  116,
  105,
  109,
  101,
  115,
  59,
  25287,
  110,
  248,
  7415,
  99,
  121,
  59,
  17490,
  99,
  623,
  7430,
  0,
  0,
  7434,
  114,
  110,
  59,
  25374,
  111,
  112,
  59,
  25357,
  640,
  108,
  112,
  116,
  117,
  119,
  7448,
  7453,
  7458,
  7497,
  7509,
  108,
  97,
  114,
  59,
  16420,
  102,
  59,
  49152,
  55349,
  56661,
  640,
  59,
  101,
  109,
  112,
  115,
  779,
  7469,
  7479,
  7485,
  7490,
  113,
  256,
  59,
  100,
  850,
  7475,
  111,
  116,
  59,
  25169,
  105,
  110,
  117,
  115,
  59,
  25144,
  108,
  117,
  115,
  59,
  25108,
  113,
  117,
  97,
  114,
  101,
  59,
  25249,
  98,
  108,
  101,
  98,
  97,
  114,
  119,
  101,
  100,
  103,
  229,
  250,
  110,
  384,
  97,
  100,
  104,
  4398,
  7517,
  7527,
  111,
  119,
  110,
  97,
  114,
  114,
  111,
  119,
  243,
  7299,
  97,
  114,
  112,
  111,
  111,
  110,
  256,
  108,
  114,
  7538,
  7542,
  101,
  102,
  244,
  7348,
  105,
  103,
  104,
  244,
  7350,
  354,
  7551,
  7557,
  107,
  97,
  114,
  111,
  247,
  3906,
  623,
  7562,
  0,
  0,
  7566,
  114,
  110,
  59,
  25375,
  111,
  112,
  59,
  25356,
  384,
  99,
  111,
  116,
  7576,
  7587,
  7590,
  256,
  114,
  121,
  7581,
  7585,
  59,
  49152,
  55349,
  56505,
  59,
  17493,
  108,
  59,
  27126,
  114,
  111,
  107,
  59,
  16657,
  256,
  100,
  114,
  7600,
  7604,
  111,
  116,
  59,
  25329,
  105,
  256,
  59,
  102,
  7610,
  6166,
  26047,
  256,
  97,
  104,
  7616,
  7619,
  114,
  242,
  1065,
  97,
  242,
  4006,
  97,
  110,
  103,
  108,
  101,
  59,
  27046,
  256,
  99,
  105,
  7634,
  7637,
  121,
  59,
  17503,
  103,
  114,
  97,
  114,
  114,
  59,
  26623,
  2304,
  68,
  97,
  99,
  100,
  101,
  102,
  103,
  108,
  109,
  110,
  111,
  112,
  113,
  114,
  115,
  116,
  117,
  120,
  7681,
  7689,
  7705,
  7736,
  1400,
  7740,
  7753,
  7777,
  7806,
  7845,
  7855,
  7869,
  7905,
  7978,
  7991,
  8004,
  8014,
  8026,
  256,
  68,
  111,
  7686,
  7476,
  111,
  244,
  7305,
  256,
  99,
  115,
  7694,
  7700,
  117,
  116,
  101,
  32827,
  233,
  16617,
  116,
  101,
  114,
  59,
  27246,
  512,
  97,
  105,
  111,
  121,
  7714,
  7719,
  7729,
  7734,
  114,
  111,
  110,
  59,
  16667,
  114,
  256,
  59,
  99,
  7725,
  7726,
  25174,
  32827,
  234,
  16618,
  108,
  111,
  110,
  59,
  25173,
  59,
  17485,
  111,
  116,
  59,
  16663,
  256,
  68,
  114,
  7745,
  7749,
  111,
  116,
  59,
  25170,
  59,
  49152,
  55349,
  56610,
  384,
  59,
  114,
  115,
  7760,
  7761,
  7767,
  27290,
  97,
  118,
  101,
  32827,
  232,
  16616,
  256,
  59,
  100,
  7772,
  7773,
  27286,
  111,
  116,
  59,
  27288,
  512,
  59,
  105,
  108,
  115,
  7786,
  7787,
  7794,
  7796,
  27289,
  110,
  116,
  101,
  114,
  115,
  59,
  25575,
  59,
  24851,
  256,
  59,
  100,
  7801,
  7802,
  27285,
  111,
  116,
  59,
  27287,
  384,
  97,
  112,
  115,
  7813,
  7817,
  7831,
  99,
  114,
  59,
  16659,
  116,
  121,
  384,
  59,
  115,
  118,
  7826,
  7827,
  7829,
  25093,
  101,
  116,
  187,
  7827,
  112,
  256,
  49,
  59,
  7837,
  7844,
  307,
  7841,
  7843,
  59,
  24580,
  59,
  24581,
  24579,
  256,
  103,
  115,
  7850,
  7852,
  59,
  16715,
  112,
  59,
  24578,
  256,
  103,
  112,
  7860,
  7864,
  111,
  110,
  59,
  16665,
  102,
  59,
  49152,
  55349,
  56662,
  384,
  97,
  108,
  115,
  7876,
  7886,
  7890,
  114,
  256,
  59,
  115,
  7882,
  7883,
  25301,
  108,
  59,
  27107,
  117,
  115,
  59,
  27249,
  105,
  384,
  59,
  108,
  118,
  7898,
  7899,
  7903,
  17333,
  111,
  110,
  187,
  7899,
  59,
  17397,
  512,
  99,
  115,
  117,
  118,
  7914,
  7923,
  7947,
  7971,
  256,
  105,
  111,
  7919,
  7729,
  114,
  99,
  187,
  7726,
  617,
  7929,
  0,
  0,
  7931,
  237,
  1352,
  97,
  110,
  116,
  256,
  103,
  108,
  7938,
  7942,
  116,
  114,
  187,
  7773,
  101,
  115,
  115,
  187,
  7802,
  384,
  97,
  101,
  105,
  7954,
  7958,
  7962,
  108,
  115,
  59,
  16445,
  115,
  116,
  59,
  25183,
  118,
  256,
  59,
  68,
  565,
  7968,
  68,
  59,
  27256,
  112,
  97,
  114,
  115,
  108,
  59,
  27109,
  256,
  68,
  97,
  7983,
  7987,
  111,
  116,
  59,
  25171,
  114,
  114,
  59,
  26993,
  384,
  99,
  100,
  105,
  7998,
  8001,
  7928,
  114,
  59,
  24879,
  111,
  244,
  850,
  256,
  97,
  104,
  8009,
  8011,
  59,
  17335,
  32827,
  240,
  16624,
  256,
  109,
  114,
  8019,
  8023,
  108,
  32827,
  235,
  16619,
  111,
  59,
  24748,
  384,
  99,
  105,
  112,
  8033,
  8036,
  8039,
  108,
  59,
  16417,
  115,
  244,
  1390,
  256,
  101,
  111,
  8044,
  8052,
  99,
  116,
  97,
  116,
  105,
  111,
  238,
  1369,
  110,
  101,
  110,
  116,
  105,
  97,
  108,
  229,
  1401,
  2529,
  8082,
  0,
  8094,
  0,
  8097,
  8103,
  0,
  0,
  8134,
  8140,
  0,
  8147,
  0,
  8166,
  8170,
  8192,
  0,
  8200,
  8282,
  108,
  108,
  105,
  110,
  103,
  100,
  111,
  116,
  115,
  101,
  241,
  7748,
  121,
  59,
  17476,
  109,
  97,
  108,
  101,
  59,
  26176,
  384,
  105,
  108,
  114,
  8109,
  8115,
  8129,
  108,
  105,
  103,
  59,
  32768,
  64259,
  617,
  8121,
  0,
  0,
  8125,
  103,
  59,
  32768,
  64256,
  105,
  103,
  59,
  32768,
  64260,
  59,
  49152,
  55349,
  56611,
  108,
  105,
  103,
  59,
  32768,
  64257,
  108,
  105,
  103,
  59,
  49152,
  102,
  106,
  384,
  97,
  108,
  116,
  8153,
  8156,
  8161,
  116,
  59,
  26221,
  105,
  103,
  59,
  32768,
  64258,
  110,
  115,
  59,
  26033,
  111,
  102,
  59,
  16786,
  496,
  8174,
  0,
  8179,
  102,
  59,
  49152,
  55349,
  56663,
  256,
  97,
  107,
  1471,
  8183,
  256,
  59,
  118,
  8188,
  8189,
  25300,
  59,
  27353,
  97,
  114,
  116,
  105,
  110,
  116,
  59,
  27149,
  256,
  97,
  111,
  8204,
  8277,
  256,
  99,
  115,
  8209,
  8274,
  945,
  8218,
  8240,
  8248,
  8261,
  8264,
  0,
  8272,
  946,
  8226,
  8229,
  8231,
  8234,
  8236,
  0,
  8238,
  32827,
  189,
  16573,
  59,
  24915,
  32827,
  188,
  16572,
  59,
  24917,
  59,
  24921,
  59,
  24923,
  435,
  8244,
  0,
  8246,
  59,
  24916,
  59,
  24918,
  692,
  8254,
  8257,
  0,
  0,
  8259,
  32827,
  190,
  16574,
  59,
  24919,
  59,
  24924,
  53,
  59,
  24920,
  438,
  8268,
  0,
  8270,
  59,
  24922,
  59,
  24925,
  56,
  59,
  24926,
  108,
  59,
  24644,
  119,
  110,
  59,
  25378,
  99,
  114,
  59,
  49152,
  55349,
  56507,
  2176,
  69,
  97,
  98,
  99,
  100,
  101,
  102,
  103,
  105,
  106,
  108,
  110,
  111,
  114,
  115,
  116,
  118,
  8322,
  8329,
  8351,
  8357,
  8368,
  8372,
  8432,
  8437,
  8442,
  8447,
  8451,
  8466,
  8504,
  791,
  8510,
  8530,
  8606,
  256,
  59,
  108,
  1613,
  8327,
  59,
  27276,
  384,
  99,
  109,
  112,
  8336,
  8341,
  8349,
  117,
  116,
  101,
  59,
  16885,
  109,
  97,
  256,
  59,
  100,
  8348,
  7386,
  17331,
  59,
  27270,
  114,
  101,
  118,
  101,
  59,
  16671,
  256,
  105,
  121,
  8362,
  8366,
  114,
  99,
  59,
  16669,
  59,
  17459,
  111,
  116,
  59,
  16673,
  512,
  59,
  108,
  113,
  115,
  1598,
  1602,
  8381,
  8393,
  384,
  59,
  113,
  115,
  1598,
  1612,
  8388,
  108,
  97,
  110,
  244,
  1637,
  512,
  59,
  99,
  100,
  108,
  1637,
  8402,
  8405,
  8421,
  99,
  59,
  27305,
  111,
  116,
  256,
  59,
  111,
  8412,
  8413,
  27264,
  256,
  59,
  108,
  8418,
  8419,
  27266,
  59,
  27268,
  256,
  59,
  101,
  8426,
  8429,
  49152,
  8923,
  65024,
  115,
  59,
  27284,
  114,
  59,
  49152,
  55349,
  56612,
  256,
  59,
  103,
  1651,
  1563,
  109,
  101,
  108,
  59,
  24887,
  99,
  121,
  59,
  17491,
  512,
  59,
  69,
  97,
  106,
  1626,
  8460,
  8462,
  8464,
  59,
  27282,
  59,
  27301,
  59,
  27300,
  512,
  69,
  97,
  101,
  115,
  8475,
  8477,
  8489,
  8500,
  59,
  25193,
  112,
  256,
  59,
  112,
  8483,
  8484,
  27274,
  114,
  111,
  120,
  187,
  8484,
  256,
  59,
  113,
  8494,
  8495,
  27272,
  256,
  59,
  113,
  8494,
  8475,
  105,
  109,
  59,
  25319,
  112,
  102,
  59,
  49152,
  55349,
  56664,
  256,
  99,
  105,
  8515,
  8518,
  114,
  59,
  24842,
  109,
  384,
  59,
  101,
  108,
  1643,
  8526,
  8528,
  59,
  27278,
  59,
  27280,
  33536,
  62,
  59,
  99,
  100,
  108,
  113,
  114,
  1518,
  8544,
  8554,
  8558,
  8563,
  8569,
  256,
  99,
  105,
  8549,
  8551,
  59,
  27303,
  114,
  59,
  27258,
  111,
  116,
  59,
  25303,
  80,
  97,
  114,
  59,
  27029,
  117,
  101,
  115,
  116,
  59,
  27260,
  640,
  97,
  100,
  101,
  108,
  115,
  8580,
  8554,
  8592,
  1622,
  8603,
  496,
  8585,
  0,
  8590,
  112,
  114,
  111,
  248,
  8350,
  114,
  59,
  27e3,
  113,
  256,
  108,
  113,
  1599,
  8598,
  108,
  101,
  115,
  243,
  8328,
  105,
  237,
  1643,
  256,
  101,
  110,
  8611,
  8621,
  114,
  116,
  110,
  101,
  113,
  113,
  59,
  49152,
  8809,
  65024,
  197,
  8618,
  1280,
  65,
  97,
  98,
  99,
  101,
  102,
  107,
  111,
  115,
  121,
  8644,
  8647,
  8689,
  8693,
  8698,
  8728,
  8733,
  8751,
  8808,
  8829,
  114,
  242,
  928,
  512,
  105,
  108,
  109,
  114,
  8656,
  8660,
  8663,
  8667,
  114,
  115,
  240,
  5252,
  102,
  187,
  8228,
  105,
  108,
  244,
  1705,
  256,
  100,
  114,
  8672,
  8676,
  99,
  121,
  59,
  17482,
  384,
  59,
  99,
  119,
  2292,
  8683,
  8687,
  105,
  114,
  59,
  26952,
  59,
  25005,
  97,
  114,
  59,
  24847,
  105,
  114,
  99,
  59,
  16677,
  384,
  97,
  108,
  114,
  8705,
  8718,
  8723,
  114,
  116,
  115,
  256,
  59,
  117,
  8713,
  8714,
  26213,
  105,
  116,
  187,
  8714,
  108,
  105,
  112,
  59,
  24614,
  99,
  111,
  110,
  59,
  25273,
  114,
  59,
  49152,
  55349,
  56613,
  115,
  256,
  101,
  119,
  8739,
  8745,
  97,
  114,
  111,
  119,
  59,
  26917,
  97,
  114,
  111,
  119,
  59,
  26918,
  640,
  97,
  109,
  111,
  112,
  114,
  8762,
  8766,
  8771,
  8798,
  8803,
  114,
  114,
  59,
  25087,
  116,
  104,
  116,
  59,
  25147,
  107,
  256,
  108,
  114,
  8777,
  8787,
  101,
  102,
  116,
  97,
  114,
  114,
  111,
  119,
  59,
  25001,
  105,
  103,
  104,
  116,
  97,
  114,
  114,
  111,
  119,
  59,
  25002,
  102,
  59,
  49152,
  55349,
  56665,
  98,
  97,
  114,
  59,
  24597,
  384,
  99,
  108,
  116,
  8815,
  8820,
  8824,
  114,
  59,
  49152,
  55349,
  56509,
  97,
  115,
  232,
  8692,
  114,
  111,
  107,
  59,
  16679,
  256,
  98,
  112,
  8834,
  8839,
  117,
  108,
  108,
  59,
  24643,
  104,
  101,
  110,
  187,
  7259,
  2785,
  8867,
  0,
  8874,
  0,
  8888,
  8901,
  8910,
  0,
  8917,
  8947,
  0,
  0,
  8952,
  8994,
  9063,
  9058,
  9087,
  0,
  9094,
  9130,
  9140,
  99,
  117,
  116,
  101,
  32827,
  237,
  16621,
  384,
  59,
  105,
  121,
  1905,
  8880,
  8885,
  114,
  99,
  32827,
  238,
  16622,
  59,
  17464,
  256,
  99,
  120,
  8892,
  8895,
  121,
  59,
  17461,
  99,
  108,
  32827,
  161,
  16545,
  256,
  102,
  114,
  927,
  8905,
  59,
  49152,
  55349,
  56614,
  114,
  97,
  118,
  101,
  32827,
  236,
  16620,
  512,
  59,
  105,
  110,
  111,
  1854,
  8925,
  8937,
  8942,
  256,
  105,
  110,
  8930,
  8934,
  110,
  116,
  59,
  27148,
  116,
  59,
  25133,
  102,
  105,
  110,
  59,
  27100,
  116,
  97,
  59,
  24873,
  108,
  105,
  103,
  59,
  16691,
  384,
  97,
  111,
  112,
  8958,
  8986,
  8989,
  384,
  99,
  103,
  116,
  8965,
  8968,
  8983,
  114,
  59,
  16683,
  384,
  101,
  108,
  112,
  1823,
  8975,
  8979,
  105,
  110,
  229,
  1934,
  97,
  114,
  244,
  1824,
  104,
  59,
  16689,
  102,
  59,
  25271,
  101,
  100,
  59,
  16821,
  640,
  59,
  99,
  102,
  111,
  116,
  1268,
  9004,
  9009,
  9021,
  9025,
  97,
  114,
  101,
  59,
  24837,
  105,
  110,
  256,
  59,
  116,
  9016,
  9017,
  25118,
  105,
  101,
  59,
  27101,
  100,
  111,
  244,
  8985,
  640,
  59,
  99,
  101,
  108,
  112,
  1879,
  9036,
  9040,
  9051,
  9057,
  97,
  108,
  59,
  25274,
  256,
  103,
  114,
  9045,
  9049,
  101,
  114,
  243,
  5475,
  227,
  9037,
  97,
  114,
  104,
  107,
  59,
  27159,
  114,
  111,
  100,
  59,
  27196,
  512,
  99,
  103,
  112,
  116,
  9071,
  9074,
  9078,
  9083,
  121,
  59,
  17489,
  111,
  110,
  59,
  16687,
  102,
  59,
  49152,
  55349,
  56666,
  97,
  59,
  17337,
  117,
  101,
  115,
  116,
  32827,
  191,
  16575,
  256,
  99,
  105,
  9098,
  9103,
  114,
  59,
  49152,
  55349,
  56510,
  110,
  640,
  59,
  69,
  100,
  115,
  118,
  1268,
  9115,
  9117,
  9121,
  1267,
  59,
  25337,
  111,
  116,
  59,
  25333,
  256,
  59,
  118,
  9126,
  9127,
  25332,
  59,
  25331,
  256,
  59,
  105,
  1911,
  9134,
  108,
  100,
  101,
  59,
  16681,
  491,
  9144,
  0,
  9148,
  99,
  121,
  59,
  17494,
  108,
  32827,
  239,
  16623,
  768,
  99,
  102,
  109,
  111,
  115,
  117,
  9164,
  9175,
  9180,
  9185,
  9191,
  9205,
  256,
  105,
  121,
  9169,
  9173,
  114,
  99,
  59,
  16693,
  59,
  17465,
  114,
  59,
  49152,
  55349,
  56615,
  97,
  116,
  104,
  59,
  16951,
  112,
  102,
  59,
  49152,
  55349,
  56667,
  483,
  9196,
  0,
  9201,
  114,
  59,
  49152,
  55349,
  56511,
  114,
  99,
  121,
  59,
  17496,
  107,
  99,
  121,
  59,
  17492,
  1024,
  97,
  99,
  102,
  103,
  104,
  106,
  111,
  115,
  9227,
  9238,
  9250,
  9255,
  9261,
  9265,
  9269,
  9275,
  112,
  112,
  97,
  256,
  59,
  118,
  9235,
  9236,
  17338,
  59,
  17392,
  256,
  101,
  121,
  9243,
  9248,
  100,
  105,
  108,
  59,
  16695,
  59,
  17466,
  114,
  59,
  49152,
  55349,
  56616,
  114,
  101,
  101,
  110,
  59,
  16696,
  99,
  121,
  59,
  17477,
  99,
  121,
  59,
  17500,
  112,
  102,
  59,
  49152,
  55349,
  56668,
  99,
  114,
  59,
  49152,
  55349,
  56512,
  2944,
  65,
  66,
  69,
  72,
  97,
  98,
  99,
  100,
  101,
  102,
  103,
  104,
  106,
  108,
  109,
  110,
  111,
  112,
  114,
  115,
  116,
  117,
  118,
  9328,
  9345,
  9350,
  9357,
  9361,
  9486,
  9533,
  9562,
  9600,
  9806,
  9822,
  9829,
  9849,
  9853,
  9882,
  9906,
  9944,
  10077,
  10088,
  10123,
  10176,
  10241,
  10258,
  384,
  97,
  114,
  116,
  9335,
  9338,
  9340,
  114,
  242,
  2502,
  242,
  917,
  97,
  105,
  108,
  59,
  26907,
  97,
  114,
  114,
  59,
  26894,
  256,
  59,
  103,
  2452,
  9355,
  59,
  27275,
  97,
  114,
  59,
  26978,
  2403,
  9381,
  0,
  9386,
  0,
  9393,
  0,
  0,
  0,
  0,
  0,
  9397,
  9402,
  0,
  9414,
  9416,
  9421,
  0,
  9465,
  117,
  116,
  101,
  59,
  16698,
  109,
  112,
  116,
  121,
  118,
  59,
  27060,
  114,
  97,
  238,
  2124,
  98,
  100,
  97,
  59,
  17339,
  103,
  384,
  59,
  100,
  108,
  2190,
  9409,
  9411,
  59,
  27025,
  229,
  2190,
  59,
  27269,
  117,
  111,
  32827,
  171,
  16555,
  114,
  1024,
  59,
  98,
  102,
  104,
  108,
  112,
  115,
  116,
  2201,
  9438,
  9446,
  9449,
  9451,
  9454,
  9457,
  9461,
  256,
  59,
  102,
  2205,
  9443,
  115,
  59,
  26911,
  115,
  59,
  26909,
  235,
  8786,
  112,
  59,
  25003,
  108,
  59,
  26937,
  105,
  109,
  59,
  26995,
  108,
  59,
  24994,
  384,
  59,
  97,
  101,
  9471,
  9472,
  9476,
  27307,
  105,
  108,
  59,
  26905,
  256,
  59,
  115,
  9481,
  9482,
  27309,
  59,
  49152,
  10925,
  65024,
  384,
  97,
  98,
  114,
  9493,
  9497,
  9501,
  114,
  114,
  59,
  26892,
  114,
  107,
  59,
  26482,
  256,
  97,
  107,
  9506,
  9516,
  99,
  256,
  101,
  107,
  9512,
  9514,
  59,
  16507,
  59,
  16475,
  256,
  101,
  115,
  9521,
  9523,
  59,
  27019,
  108,
  256,
  100,
  117,
  9529,
  9531,
  59,
  27023,
  59,
  27021,
  512,
  97,
  101,
  117,
  121,
  9542,
  9547,
  9558,
  9560,
  114,
  111,
  110,
  59,
  16702,
  256,
  100,
  105,
  9552,
  9556,
  105,
  108,
  59,
  16700,
  236,
  2224,
  226,
  9513,
  59,
  17467,
  512,
  99,
  113,
  114,
  115,
  9571,
  9574,
  9581,
  9597,
  97,
  59,
  26934,
  117,
  111,
  256,
  59,
  114,
  3609,
  5958,
  256,
  100,
  117,
  9586,
  9591,
  104,
  97,
  114,
  59,
  26983,
  115,
  104,
  97,
  114,
  59,
  26955,
  104,
  59,
  25010,
  640,
  59,
  102,
  103,
  113,
  115,
  9611,
  9612,
  2441,
  9715,
  9727,
  25188,
  116,
  640,
  97,
  104,
  108,
  114,
  116,
  9624,
  9636,
  9655,
  9666,
  9704,
  114,
  114,
  111,
  119,
  256,
  59,
  116,
  2201,
  9633,
  97,
  233,
  9462,
  97,
  114,
  112,
  111,
  111,
  110,
  256,
  100,
  117,
  9647,
  9652,
  111,
  119,
  110,
  187,
  1114,
  112,
  187,
  2406,
  101,
  102,
  116,
  97,
  114,
  114,
  111,
  119,
  115,
  59,
  25031,
  105,
  103,
  104,
  116,
  384,
  97,
  104,
  115,
  9677,
  9686,
  9694,
  114,
  114,
  111,
  119,
  256,
  59,
  115,
  2292,
  2215,
  97,
  114,
  112,
  111,
  111,
  110,
  243,
  3992,
  113,
  117,
  105,
  103,
  97,
  114,
  114,
  111,
  247,
  8688,
  104,
  114,
  101,
  101,
  116,
  105,
  109,
  101,
  115,
  59,
  25291,
  384,
  59,
  113,
  115,
  9611,
  2451,
  9722,
  108,
  97,
  110,
  244,
  2476,
  640,
  59,
  99,
  100,
  103,
  115,
  2476,
  9738,
  9741,
  9757,
  9768,
  99,
  59,
  27304,
  111,
  116,
  256,
  59,
  111,
  9748,
  9749,
  27263,
  256,
  59,
  114,
  9754,
  9755,
  27265,
  59,
  27267,
  256,
  59,
  101,
  9762,
  9765,
  49152,
  8922,
  65024,
  115,
  59,
  27283,
  640,
  97,
  100,
  101,
  103,
  115,
  9779,
  9785,
  9789,
  9801,
  9803,
  112,
  112,
  114,
  111,
  248,
  9414,
  111,
  116,
  59,
  25302,
  113,
  256,
  103,
  113,
  9795,
  9797,
  244,
  2441,
  103,
  116,
  242,
  9356,
  244,
  2459,
  105,
  237,
  2482,
  384,
  105,
  108,
  114,
  9813,
  2273,
  9818,
  115,
  104,
  116,
  59,
  27004,
  59,
  49152,
  55349,
  56617,
  256,
  59,
  69,
  2460,
  9827,
  59,
  27281,
  353,
  9833,
  9846,
  114,
  256,
  100,
  117,
  9650,
  9838,
  256,
  59,
  108,
  2405,
  9843,
  59,
  26986,
  108,
  107,
  59,
  25988,
  99,
  121,
  59,
  17497,
  640,
  59,
  97,
  99,
  104,
  116,
  2632,
  9864,
  9867,
  9873,
  9878,
  114,
  242,
  9665,
  111,
  114,
  110,
  101,
  242,
  7432,
  97,
  114,
  100,
  59,
  26987,
  114,
  105,
  59,
  26106,
  256,
  105,
  111,
  9887,
  9892,
  100,
  111,
  116,
  59,
  16704,
  117,
  115,
  116,
  256,
  59,
  97,
  9900,
  9901,
  25520,
  99,
  104,
  101,
  187,
  9901,
  512,
  69,
  97,
  101,
  115,
  9915,
  9917,
  9929,
  9940,
  59,
  25192,
  112,
  256,
  59,
  112,
  9923,
  9924,
  27273,
  114,
  111,
  120,
  187,
  9924,
  256,
  59,
  113,
  9934,
  9935,
  27271,
  256,
  59,
  113,
  9934,
  9915,
  105,
  109,
  59,
  25318,
  1024,
  97,
  98,
  110,
  111,
  112,
  116,
  119,
  122,
  9961,
  9972,
  9975,
  10010,
  10031,
  10049,
  10055,
  10064,
  256,
  110,
  114,
  9966,
  9969,
  103,
  59,
  26604,
  114,
  59,
  25085,
  114,
  235,
  2241,
  103,
  384,
  108,
  109,
  114,
  9983,
  9997,
  10004,
  101,
  102,
  116,
  256,
  97,
  114,
  2534,
  9991,
  105,
  103,
  104,
  116,
  225,
  2546,
  97,
  112,
  115,
  116,
  111,
  59,
  26620,
  105,
  103,
  104,
  116,
  225,
  2557,
  112,
  97,
  114,
  114,
  111,
  119,
  256,
  108,
  114,
  10021,
  10025,
  101,
  102,
  244,
  9453,
  105,
  103,
  104,
  116,
  59,
  25004,
  384,
  97,
  102,
  108,
  10038,
  10041,
  10045,
  114,
  59,
  27013,
  59,
  49152,
  55349,
  56669,
  117,
  115,
  59,
  27181,
  105,
  109,
  101,
  115,
  59,
  27188,
  353,
  10059,
  10063,
  115,
  116,
  59,
  25111,
  225,
  4942,
  384,
  59,
  101,
  102,
  10071,
  10072,
  6144,
  26058,
  110,
  103,
  101,
  187,
  10072,
  97,
  114,
  256,
  59,
  108,
  10084,
  10085,
  16424,
  116,
  59,
  27027,
  640,
  97,
  99,
  104,
  109,
  116,
  10099,
  10102,
  10108,
  10117,
  10119,
  114,
  242,
  2216,
  111,
  114,
  110,
  101,
  242,
  7564,
  97,
  114,
  256,
  59,
  100,
  3992,
  10115,
  59,
  26989,
  59,
  24590,
  114,
  105,
  59,
  25279,
  768,
  97,
  99,
  104,
  105,
  113,
  116,
  10136,
  10141,
  2624,
  10146,
  10158,
  10171,
  113,
  117,
  111,
  59,
  24633,
  114,
  59,
  49152,
  55349,
  56513,
  109,
  384,
  59,
  101,
  103,
  2482,
  10154,
  10156,
  59,
  27277,
  59,
  27279,
  256,
  98,
  117,
  9514,
  10163,
  111,
  256,
  59,
  114,
  3615,
  10169,
  59,
  24602,
  114,
  111,
  107,
  59,
  16706,
  33792,
  60,
  59,
  99,
  100,
  104,
  105,
  108,
  113,
  114,
  2091,
  10194,
  9785,
  10204,
  10208,
  10213,
  10218,
  10224,
  256,
  99,
  105,
  10199,
  10201,
  59,
  27302,
  114,
  59,
  27257,
  114,
  101,
  229,
  9714,
  109,
  101,
  115,
  59,
  25289,
  97,
  114,
  114,
  59,
  26998,
  117,
  101,
  115,
  116,
  59,
  27259,
  256,
  80,
  105,
  10229,
  10233,
  97,
  114,
  59,
  27030,
  384,
  59,
  101,
  102,
  10240,
  2349,
  6171,
  26051,
  114,
  256,
  100,
  117,
  10247,
  10253,
  115,
  104,
  97,
  114,
  59,
  26954,
  104,
  97,
  114,
  59,
  26982,
  256,
  101,
  110,
  10263,
  10273,
  114,
  116,
  110,
  101,
  113,
  113,
  59,
  49152,
  8808,
  65024,
  197,
  10270,
  1792,
  68,
  97,
  99,
  100,
  101,
  102,
  104,
  105,
  108,
  110,
  111,
  112,
  115,
  117,
  10304,
  10309,
  10370,
  10382,
  10387,
  10400,
  10405,
  10408,
  10458,
  10466,
  10468,
  2691,
  10483,
  10498,
  68,
  111,
  116,
  59,
  25146,
  512,
  99,
  108,
  112,
  114,
  10318,
  10322,
  10339,
  10365,
  114,
  32827,
  175,
  16559,
  256,
  101,
  116,
  10327,
  10329,
  59,
  26178,
  256,
  59,
  101,
  10334,
  10335,
  26400,
  115,
  101,
  187,
  10335,
  256,
  59,
  115,
  4155,
  10344,
  116,
  111,
  512,
  59,
  100,
  108,
  117,
  4155,
  10355,
  10359,
  10363,
  111,
  119,
  238,
  1164,
  101,
  102,
  244,
  2319,
  240,
  5073,
  107,
  101,
  114,
  59,
  26030,
  256,
  111,
  121,
  10375,
  10380,
  109,
  109,
  97,
  59,
  27177,
  59,
  17468,
  97,
  115,
  104,
  59,
  24596,
  97,
  115,
  117,
  114,
  101,
  100,
  97,
  110,
  103,
  108,
  101,
  187,
  5670,
  114,
  59,
  49152,
  55349,
  56618,
  111,
  59,
  24871,
  384,
  99,
  100,
  110,
  10415,
  10420,
  10441,
  114,
  111,
  32827,
  181,
  16565,
  512,
  59,
  97,
  99,
  100,
  5220,
  10429,
  10432,
  10436,
  115,
  244,
  5799,
  105,
  114,
  59,
  27376,
  111,
  116,
  32955,
  183,
  437,
  117,
  115,
  384,
  59,
  98,
  100,
  10450,
  6403,
  10451,
  25106,
  256,
  59,
  117,
  7484,
  10456,
  59,
  27178,
  355,
  10462,
  10465,
  112,
  59,
  27355,
  242,
  8722,
  240,
  2689,
  256,
  100,
  112,
  10473,
  10478,
  101,
  108,
  115,
  59,
  25255,
  102,
  59,
  49152,
  55349,
  56670,
  256,
  99,
  116,
  10488,
  10493,
  114,
  59,
  49152,
  55349,
  56514,
  112,
  111,
  115,
  187,
  5533,
  384,
  59,
  108,
  109,
  10505,
  10506,
  10509,
  17340,
  116,
  105,
  109,
  97,
  112,
  59,
  25272,
  3072,
  71,
  76,
  82,
  86,
  97,
  98,
  99,
  100,
  101,
  102,
  103,
  104,
  105,
  106,
  108,
  109,
  111,
  112,
  114,
  115,
  116,
  117,
  118,
  119,
  10562,
  10579,
  10622,
  10633,
  10648,
  10714,
  10729,
  10773,
  10778,
  10840,
  10845,
  10883,
  10901,
  10916,
  10920,
  11012,
  11015,
  11076,
  11135,
  11182,
  11316,
  11367,
  11388,
  11497,
  256,
  103,
  116,
  10567,
  10571,
  59,
  49152,
  8921,
  824,
  256,
  59,
  118,
  10576,
  3023,
  49152,
  8811,
  8402,
  384,
  101,
  108,
  116,
  10586,
  10610,
  10614,
  102,
  116,
  256,
  97,
  114,
  10593,
  10599,
  114,
  114,
  111,
  119,
  59,
  25037,
  105,
  103,
  104,
  116,
  97,
  114,
  114,
  111,
  119,
  59,
  25038,
  59,
  49152,
  8920,
  824,
  256,
  59,
  118,
  10619,
  3143,
  49152,
  8810,
  8402,
  105,
  103,
  104,
  116,
  97,
  114,
  114,
  111,
  119,
  59,
  25039,
  256,
  68,
  100,
  10638,
  10643,
  97,
  115,
  104,
  59,
  25263,
  97,
  115,
  104,
  59,
  25262,
  640,
  98,
  99,
  110,
  112,
  116,
  10659,
  10663,
  10668,
  10673,
  10700,
  108,
  97,
  187,
  734,
  117,
  116,
  101,
  59,
  16708,
  103,
  59,
  49152,
  8736,
  8402,
  640,
  59,
  69,
  105,
  111,
  112,
  3460,
  10684,
  10688,
  10693,
  10696,
  59,
  49152,
  10864,
  824,
  100,
  59,
  49152,
  8779,
  824,
  115,
  59,
  16713,
  114,
  111,
  248,
  3460,
  117,
  114,
  256,
  59,
  97,
  10707,
  10708,
  26222,
  108,
  256,
  59,
  115,
  10707,
  2872,
  499,
  10719,
  0,
  10723,
  112,
  32955,
  160,
  2871,
  109,
  112,
  256,
  59,
  101,
  3065,
  3072,
  640,
  97,
  101,
  111,
  117,
  121,
  10740,
  10750,
  10755,
  10768,
  10771,
  496,
  10745,
  0,
  10747,
  59,
  27203,
  111,
  110,
  59,
  16712,
  100,
  105,
  108,
  59,
  16710,
  110,
  103,
  256,
  59,
  100,
  3454,
  10762,
  111,
  116,
  59,
  49152,
  10861,
  824,
  112,
  59,
  27202,
  59,
  17469,
  97,
  115,
  104,
  59,
  24595,
  896,
  59,
  65,
  97,
  100,
  113,
  115,
  120,
  2962,
  10793,
  10797,
  10811,
  10817,
  10821,
  10832,
  114,
  114,
  59,
  25047,
  114,
  256,
  104,
  114,
  10803,
  10806,
  107,
  59,
  26916,
  256,
  59,
  111,
  5106,
  5104,
  111,
  116,
  59,
  49152,
  8784,
  824,
  117,
  105,
  246,
  2915,
  256,
  101,
  105,
  10826,
  10830,
  97,
  114,
  59,
  26920,
  237,
  2968,
  105,
  115,
  116,
  256,
  59,
  115,
  2976,
  2975,
  114,
  59,
  49152,
  55349,
  56619,
  512,
  69,
  101,
  115,
  116,
  3013,
  10854,
  10873,
  10876,
  384,
  59,
  113,
  115,
  3004,
  10861,
  3041,
  384,
  59,
  113,
  115,
  3004,
  3013,
  10868,
  108,
  97,
  110,
  244,
  3042,
  105,
  237,
  3050,
  256,
  59,
  114,
  2998,
  10881,
  187,
  2999,
  384,
  65,
  97,
  112,
  10890,
  10893,
  10897,
  114,
  242,
  10609,
  114,
  114,
  59,
  25006,
  97,
  114,
  59,
  27378,
  384,
  59,
  115,
  118,
  3981,
  10908,
  3980,
  256,
  59,
  100,
  10913,
  10914,
  25340,
  59,
  25338,
  99,
  121,
  59,
  17498,
  896,
  65,
  69,
  97,
  100,
  101,
  115,
  116,
  10935,
  10938,
  10942,
  10946,
  10949,
  10998,
  11001,
  114,
  242,
  10598,
  59,
  49152,
  8806,
  824,
  114,
  114,
  59,
  24986,
  114,
  59,
  24613,
  512,
  59,
  102,
  113,
  115,
  3131,
  10958,
  10979,
  10991,
  116,
  256,
  97,
  114,
  10964,
  10969,
  114,
  114,
  111,
  247,
  10945,
  105,
  103,
  104,
  116,
  97,
  114,
  114,
  111,
  247,
  10896,
  384,
  59,
  113,
  115,
  3131,
  10938,
  10986,
  108,
  97,
  110,
  244,
  3157,
  256,
  59,
  115,
  3157,
  10996,
  187,
  3126,
  105,
  237,
  3165,
  256,
  59,
  114,
  3125,
  11006,
  105,
  256,
  59,
  101,
  3098,
  3109,
  105,
  228,
  3472,
  256,
  112,
  116,
  11020,
  11025,
  102,
  59,
  49152,
  55349,
  56671,
  33152,
  172,
  59,
  105,
  110,
  11033,
  11034,
  11062,
  16556,
  110,
  512,
  59,
  69,
  100,
  118,
  2953,
  11044,
  11048,
  11054,
  59,
  49152,
  8953,
  824,
  111,
  116,
  59,
  49152,
  8949,
  824,
  481,
  2953,
  11059,
  11061,
  59,
  25335,
  59,
  25334,
  105,
  256,
  59,
  118,
  3256,
  11068,
  481,
  3256,
  11073,
  11075,
  59,
  25342,
  59,
  25341,
  384,
  97,
  111,
  114,
  11083,
  11107,
  11113,
  114,
  512,
  59,
  97,
  115,
  116,
  2939,
  11093,
  11098,
  11103,
  108,
  108,
  101,
  236,
  2939,
  108,
  59,
  49152,
  11005,
  8421,
  59,
  49152,
  8706,
  824,
  108,
  105,
  110,
  116,
  59,
  27156,
  384,
  59,
  99,
  101,
  3218,
  11120,
  11123,
  117,
  229,
  3237,
  256,
  59,
  99,
  3224,
  11128,
  256,
  59,
  101,
  3218,
  11133,
  241,
  3224,
  512,
  65,
  97,
  105,
  116,
  11144,
  11147,
  11165,
  11175,
  114,
  242,
  10632,
  114,
  114,
  384,
  59,
  99,
  119,
  11156,
  11157,
  11161,
  24987,
  59,
  49152,
  10547,
  824,
  59,
  49152,
  8605,
  824,
  103,
  104,
  116,
  97,
  114,
  114,
  111,
  119,
  187,
  11157,
  114,
  105,
  256,
  59,
  101,
  3275,
  3286,
  896,
  99,
  104,
  105,
  109,
  112,
  113,
  117,
  11197,
  11213,
  11225,
  11012,
  2936,
  11236,
  11247,
  512,
  59,
  99,
  101,
  114,
  3378,
  11206,
  3383,
  11209,
  117,
  229,
  3397,
  59,
  49152,
  55349,
  56515,
  111,
  114,
  116,
  621,
  11013,
  0,
  0,
  11222,
  97,
  114,
  225,
  11094,
  109,
  256,
  59,
  101,
  3438,
  11231,
  256,
  59,
  113,
  3444,
  3443,
  115,
  117,
  256,
  98,
  112,
  11243,
  11245,
  229,
  3320,
  229,
  3339,
  384,
  98,
  99,
  112,
  11254,
  11281,
  11289,
  512,
  59,
  69,
  101,
  115,
  11263,
  11264,
  3362,
  11268,
  25220,
  59,
  49152,
  10949,
  824,
  101,
  116,
  256,
  59,
  101,
  3355,
  11275,
  113,
  256,
  59,
  113,
  3363,
  11264,
  99,
  256,
  59,
  101,
  3378,
  11287,
  241,
  3384,
  512,
  59,
  69,
  101,
  115,
  11298,
  11299,
  3423,
  11303,
  25221,
  59,
  49152,
  10950,
  824,
  101,
  116,
  256,
  59,
  101,
  3416,
  11310,
  113,
  256,
  59,
  113,
  3424,
  11299,
  512,
  103,
  105,
  108,
  114,
  11325,
  11327,
  11333,
  11335,
  236,
  3031,
  108,
  100,
  101,
  32827,
  241,
  16625,
  231,
  3139,
  105,
  97,
  110,
  103,
  108,
  101,
  256,
  108,
  114,
  11346,
  11356,
  101,
  102,
  116,
  256,
  59,
  101,
  3098,
  11354,
  241,
  3110,
  105,
  103,
  104,
  116,
  256,
  59,
  101,
  3275,
  11365,
  241,
  3287,
  256,
  59,
  109,
  11372,
  11373,
  17341,
  384,
  59,
  101,
  115,
  11380,
  11381,
  11385,
  16419,
  114,
  111,
  59,
  24854,
  112,
  59,
  24583,
  1152,
  68,
  72,
  97,
  100,
  103,
  105,
  108,
  114,
  115,
  11407,
  11412,
  11417,
  11422,
  11427,
  11440,
  11446,
  11475,
  11491,
  97,
  115,
  104,
  59,
  25261,
  97,
  114,
  114,
  59,
  26884,
  112,
  59,
  49152,
  8781,
  8402,
  97,
  115,
  104,
  59,
  25260,
  256,
  101,
  116,
  11432,
  11436,
  59,
  49152,
  8805,
  8402,
  59,
  49152,
  62,
  8402,
  110,
  102,
  105,
  110,
  59,
  27102,
  384,
  65,
  101,
  116,
  11453,
  11457,
  11461,
  114,
  114,
  59,
  26882,
  59,
  49152,
  8804,
  8402,
  256,
  59,
  114,
  11466,
  11469,
  49152,
  60,
  8402,
  105,
  101,
  59,
  49152,
  8884,
  8402,
  256,
  65,
  116,
  11480,
  11484,
  114,
  114,
  59,
  26883,
  114,
  105,
  101,
  59,
  49152,
  8885,
  8402,
  105,
  109,
  59,
  49152,
  8764,
  8402,
  384,
  65,
  97,
  110,
  11504,
  11508,
  11522,
  114,
  114,
  59,
  25046,
  114,
  256,
  104,
  114,
  11514,
  11517,
  107,
  59,
  26915,
  256,
  59,
  111,
  5095,
  5093,
  101,
  97,
  114,
  59,
  26919,
  4691,
  6805,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  0,
  11565,
  0,
  11576,
  11592,
  11616,
  11621,
  11634,
  11652,
  6919,
  0,
  0,
  11661,
  11691,
  0,
  11720,
  11726,
  0,
  11740,
  11801,
  11819,
  11838,
  11843,
  256,
  99,
  115,
  11569,
  6807,
  117,
  116,
  101,
  32827,
  243,
  16627,
  256,
  105,
  121,
  11580,
  11589,
  114,
  256,
  59,
  99,
  6814,
  11586,
  32827,
  244,
  16628,
  59,
  17470,
  640,
  97,
  98,
  105,
  111,
  115,
  6816,
  11602,
  11607,
  456,
  11610,
  108,
  97,
  99,
  59,
  16721,
  118,
  59,
  27192,
  111,
  108,
  100,
  59,
  27068,
  108,
  105,
  103,
  59,
  16723,
  256,
  99,
  114,
  11625,
  11629,
  105,
  114,
  59,
  27071,
  59,
  49152,
  55349,
  56620,
  879,
  11641,
  0,
  0,
  11644,
  0,
  11650,
  110,
  59,
  17115,
  97,
  118,
  101,
  32827,
  242,
  16626,
  59,
  27073,
  256,
  98,
  109,
  11656,
  3572,
  97,
  114,
  59,
  27061,
  512,
  97,
  99,
  105,
  116,
  11669,
  11672,
  11685,
  11688,
  114,
  242,
  6784,
  256,
  105,
  114,
  11677,
  11680,
  114,
  59,
  27070,
  111,
  115,
  115,
  59,
  27067,
  110,
  229,
  3666,
  59,
  27072,
  384,
  97,
  101,
  105,
  11697,
  11701,
  11705,
  99,
  114,
  59,
  16717,
  103,
  97,
  59,
  17353,
  384,
  99,
  100,
  110,
  11712,
  11717,
  461,
  114,
  111,
  110,
  59,
  17343,
  59,
  27062,
  112,
  102,
  59,
  49152,
  55349,
  56672,
  384,
  97,
  101,
  108,
  11732,
  11735,
  466,
  114,
  59,
  27063,
  114,
  112,
  59,
  27065,
  896,
  59,
  97,
  100,
  105,
  111,
  115,
  118,
  11754,
  11755,
  11758,
  11784,
  11789,
  11792,
  11798,
  25128,
  114,
  242,
  6790,
  512,
  59,
  101,
  102,
  109,
  11767,
  11768,
  11778,
  11781,
  27229,
  114,
  256,
  59,
  111,
  11774,
  11775,
  24884,
  102,
  187,
  11775,
  32827,
  170,
  16554,
  32827,
  186,
  16570,
  103,
  111,
  102,
  59,
  25270,
  114,
  59,
  27222,
  108,
  111,
  112,
  101,
  59,
  27223,
  59,
  27227,
  384,
  99,
  108,
  111,
  11807,
  11809,
  11815,
  242,
  11777,
  97,
  115,
  104,
  32827,
  248,
  16632,
  108,
  59,
  25240,
  105,
  364,
  11823,
  11828,
  100,
  101,
  32827,
  245,
  16629,
  101,
  115,
  256,
  59,
  97,
  475,
  11834,
  115,
  59,
  27190,
  109,
  108,
  32827,
  246,
  16630,
  98,
  97,
  114,
  59,
  25405,
  2785,
  11870,
  0,
  11901,
  0,
  11904,
  11933,
  0,
  11938,
  11961,
  0,
  0,
  11979,
  3740,
  0,
  12051,
  0,
  0,
  12075,
  12220,
  0,
  12232,
  114,
  512,
  59,
  97,
  115,
  116,
  1027,
  11879,
  11890,
  3717,
  33024,
  182,
  59,
  108,
  11885,
  11886,
  16566,
  108,
  101,
  236,
  1027,
  617,
  11896,
  0,
  0,
  11899,
  109,
  59,
  27379,
  59,
  27389,
  121,
  59,
  17471,
  114,
  640,
  99,
  105,
  109,
  112,
  116,
  11915,
  11919,
  11923,
  6245,
  11927,
  110,
  116,
  59,
  16421,
  111,
  100,
  59,
  16430,
  105,
  108,
  59,
  24624,
  101,
  110,
  107,
  59,
  24625,
  114,
  59,
  49152,
  55349,
  56621,
  384,
  105,
  109,
  111,
  11944,
  11952,
  11956,
  256,
  59,
  118,
  11949,
  11950,
  17350,
  59,
  17365,
  109,
  97,
  244,
  2678,
  110,
  101,
  59,
  26126,
  384,
  59,
  116,
  118,
  11967,
  11968,
  11976,
  17344,
  99,
  104,
  102,
  111,
  114,
  107,
  187,
  8189,
  59,
  17366,
  256,
  97,
  117,
  11983,
  11999,
  110,
  256,
  99,
  107,
  11989,
  11997,
  107,
  256,
  59,
  104,
  8692,
  11995,
  59,
  24846,
  246,
  8692,
  115,
  1152,
  59,
  97,
  98,
  99,
  100,
  101,
  109,
  115,
  116,
  12019,
  12020,
  6408,
  12025,
  12029,
  12036,
  12038,
  12042,
  12046,
  16427,
  99,
  105,
  114,
  59,
  27171,
  105,
  114,
  59,
  27170,
  256,
  111,
  117,
  7488,
  12034,
  59,
  27173,
  59,
  27250,
  110,
  32955,
  177,
  3741,
  105,
  109,
  59,
  27174,
  119,
  111,
  59,
  27175,
  384,
  105,
  112,
  117,
  12057,
  12064,
  12069,
  110,
  116,
  105,
  110,
  116,
  59,
  27157,
  102,
  59,
  49152,
  55349,
  56673,
  110,
  100,
  32827,
  163,
  16547,
  1280,
  59,
  69,
  97,
  99,
  101,
  105,
  110,
  111,
  115,
  117,
  3784,
  12095,
  12097,
  12100,
  12103,
  12161,
  12169,
  12178,
  12158,
  12214,
  59,
  27315,
  112,
  59,
  27319,
  117,
  229,
  3801,
  256,
  59,
  99,
  3790,
  12108,
  768,
  59,
  97,
  99,
  101,
  110,
  115,
  3784,
  12121,
  12127,
  12134,
  12136,
  12158,
  112,
  112,
  114,
  111,
  248,
  12099,
  117,
  114,
  108,
  121,
  101,
  241,
  3801,
  241,
  3790,
  384,
  97,
  101,
  115,
  12143,
  12150,
  12154,
  112,
  112,
  114,
  111,
  120,
  59,
  27321,
  113,
  113,
  59,
  27317,
  105,
  109,
  59,
  25320,
  105,
  237,
  3807,
  109,
  101,
  256,
  59,
  115,
  12168,
  3758,
  24626,
  384,
  69,
  97,
  115,
  12152,
  12176,
  12154,
  240,
  12149,
  384,
  100,
  102,
  112,
  3820,
  12185,
  12207,
  384,
  97,
  108,
  115,
  12192,
  12197,
  12202,
  108,
  97,
  114,
  59,
  25390,
  105,
  110,
  101,
  59,
  25362,
  117,
  114,
  102,
  59,
  25363,
  256,
  59,
  116,
  3835,
  12212,
  239,
  3835,
  114,
  101,
  108,
  59,
  25264,
  256,
  99,
  105,
  12224,
  12229,
  114,
  59,
  49152,
  55349,
  56517,
  59,
  17352,
  110,
  99,
  115,
  112,
  59,
  24584,
  768,
  102,
  105,
  111,
  112,
  115,
  117,
  12250,
  8930,
  12255,
  12261,
  12267,
  12273,
  114,
  59,
  49152,
  55349,
  56622,
  112,
  102,
  59,
  49152,
  55349,
  56674,
  114,
  105,
  109,
  101,
  59,
  24663,
  99,
  114,
  59,
  49152,
  55349,
  56518,
  384,
  97,
  101,
  111,
  12280,
  12297,
  12307,
  116,
  256,
  101,
  105,
  12286,
  12293,
  114,
  110,
  105,
  111,
  110,
  243,
  1712,
  110,
  116,
  59,
  27158,
  115,
  116,
  256,
  59,
  101,
  12304,
  12305,
  16447,
  241,
  7961,
  244,
  3860,
  2688,
  65,
  66,
  72,
  97,
  98,
  99,
  100,
  101,
  102,
  104,
  105,
  108,
  109,
  110,
  111,
  112,
  114,
  115,
  116,
  117,
  120,
  12352,
  12369,
  12373,
  12377,
  12512,
  12558,
  12587,
  12615,
  12642,
  12658,
  12686,
  12806,
  12821,
  12836,
  12841,
  12888,
  12910,
  12914,
  12944,
  12976,
  12983,
  384,
  97,
  114,
  116,
  12359,
  12362,
  12364,
  114,
  242,
  4275,
  242,
  989,
  97,
  105,
  108,
  59,
  26908,
  97,
  114,
  242,
  7269,
  97,
  114,
  59,
  26980,
  896,
  99,
  100,
  101,
  110,
  113,
  114,
  116,
  12392,
  12405,
  12408,
  12415,
  12431,
  12436,
  12492,
  256,
  101,
  117,
  12397,
  12401,
  59,
  49152,
  8765,
  817,
  116,
  101,
  59,
  16725,
  105,
  227,
  4462,
  109,
  112,
  116,
  121,
  118,
  59,
  27059,
  103,
  512,
  59,
  100,
  101,
  108,
  4049,
  12425,
  12427,
  12429,
  59,
  27026,
  59,
  27045,
  229,
  4049,
  117,
  111,
  32827,
  187,
  16571,
  114,
  1408,
  59,
  97,
  98,
  99,
  102,
  104,
  108,
  112,
  115,
  116,
  119,
  4060,
  12460,
  12463,
  12471,
  12473,
  12476,
  12478,
  12480,
  12483,
  12487,
  12490,
  112,
  59,
  26997,
  256,
  59,
  102,
  4064,
  12468,
  115,
  59,
  26912,
  59,
  26931,
  115,
  59,
  26910,
  235,
  8797,
  240,
  10030,
  108,
  59,
  26949,
  105,
  109,
  59,
  26996,
  108,
  59,
  24995,
  59,
  24989,
  256,
  97,
  105,
  12497,
  12501,
  105,
  108,
  59,
  26906,
  111,
  256,
  59,
  110,
  12507,
  12508,
  25142,
  97,
  108,
  243,
  3870,
  384,
  97,
  98,
  114,
  12519,
  12522,
  12526,
  114,
  242,
  6117,
  114,
  107,
  59,
  26483,
  256,
  97,
  107,
  12531,
  12541,
  99,
  256,
  101,
  107,
  12537,
  12539,
  59,
  16509,
  59,
  16477,
  256,
  101,
  115,
  12546,
  12548,
  59,
  27020,
  108,
  256,
  100,
  117,
  12554,
  12556,
  59,
  27022,
  59,
  27024,
  512,
  97,
  101,
  117,
  121,
  12567,
  12572,
  12583,
  12585,
  114,
  111,
  110,
  59,
  16729,
  256,
  100,
  105,
  12577,
  12581,
  105,
  108,
  59,
  16727,
  236,
  4082,
  226,
  12538,
  59,
  17472,
  512,
  99,
  108,
  113,
  115,
  12596,
  12599,
  12605,
  12612,
  97,
  59,
  26935,
  100,
  104,
  97,
  114,
  59,
  26985,
  117,
  111,
  256,
  59,
  114,
  526,
  525,
  104,
  59,
  25011,
  384,
  97,
  99,
  103,
  12622,
  12639,
  3908,
  108,
  512,
  59,
  105,
  112,
  115,
  3960,
  12632,
  12635,
  4252,
  110,
  229,
  4283,
  97,
  114,
  244,
  4009,
  116,
  59,
  26029,
  384,
  105,
  108,
  114,
  12649,
  4131,
  12654,
  115,
  104,
  116,
  59,
  27005,
  59,
  49152,
  55349,
  56623,
  256,
  97,
  111,
  12663,
  12678,
  114,
  256,
  100,
  117,
  12669,
  12671,
  187,
  1147,
  256,
  59,
  108,
  4241,
  12676,
  59,
  26988,
  256,
  59,
  118,
  12683,
  12684,
  17345,
  59,
  17393,
  384,
  103,
  110,
  115,
  12693,
  12793,
  12796,
  104,
  116,
  768,
  97,
  104,
  108,
  114,
  115,
  116,
  12708,
  12720,
  12738,
  12760,
  12772,
  12782,
  114,
  114,
  111,
  119,
  256,
  59,
  116,
  4060,
  12717,
  97,
  233,
  12488,
  97,
  114,
  112,
  111,
  111,
  110,
  256,
  100,
  117,
  12731,
  12735,
  111,
  119,
  238,
  12670,
  112,
  187,
  4242,
  101,
  102,
  116,
  256,
  97,
  104,
  12746,
  12752,
  114,
  114,
  111,
  119,
  243,
  4074,
  97,
  114,
  112,
  111,
  111,
  110,
  243,
  1361,
  105,
  103,
  104,
  116,
  97,
  114,
  114,
  111,
  119,
  115,
  59,
  25033,
  113,
  117,
  105,
  103,
  97,
  114,
  114,
  111,
  247,
  12491,
  104,
  114,
  101,
  101,
  116,
  105,
  109,
  101,
  115,
  59,
  25292,
  103,
  59,
  17114,
  105,
  110,
  103,
  100,
  111,
  116,
  115,
  101,
  241,
  7986,
  384,
  97,
  104,
  109,
  12813,
  12816,
  12819,
  114,
  242,
  4074,
  97,
  242,
  1361,
  59,
  24591,
  111,
  117,
  115,
  116,
  256,
  59,
  97,
  12830,
  12831,
  25521,
  99,
  104,
  101,
  187,
  12831,
  109,
  105,
  100,
  59,
  27374,
  512,
  97,
  98,
  112,
  116,
  12850,
  12861,
  12864,
  12882,
  256,
  110,
  114,
  12855,
  12858,
  103,
  59,
  26605,
  114,
  59,
  25086,
  114,
  235,
  4099,
  384,
  97,
  102,
  108,
  12871,
  12874,
  12878,
  114,
  59,
  27014,
  59,
  49152,
  55349,
  56675,
  117,
  115,
  59,
  27182,
  105,
  109,
  101,
  115,
  59,
  27189,
  256,
  97,
  112,
  12893,
  12903,
  114,
  256,
  59,
  103,
  12899,
  12900,
  16425,
  116,
  59,
  27028,
  111,
  108,
  105,
  110,
  116,
  59,
  27154,
  97,
  114,
  242,
  12771,
  512,
  97,
  99,
  104,
  113,
  12923,
  12928,
  4284,
  12933,
  113,
  117,
  111,
  59,
  24634,
  114,
  59,
  49152,
  55349,
  56519,
  256,
  98,
  117,
  12539,
  12938,
  111,
  256,
  59,
  114,
  532,
  531,
  384,
  104,
  105,
  114,
  12951,
  12955,
  12960,
  114,
  101,
  229,
  12792,
  109,
  101,
  115,
  59,
  25290,
  105,
  512,
  59,
  101,
  102,
  108,
  12970,
  4185,
  6177,
  12971,
  26041,
  116,
  114,
  105,
  59,
  27086,
  108,
  117,
  104,
  97,
  114,
  59,
  26984,
  59,
  24862,
  3425,
  13013,
  13019,
  13023,
  13100,
  13112,
  13169,
  0,
  13178,
  13220,
  0,
  0,
  13292,
  13296,
  0,
  13352,
  13384,
  13402,
  13485,
  13489,
  13514,
  13553,
  0,
  13846,
  0,
  0,
  13875,
  99,
  117,
  116,
  101,
  59,
  16731,
  113,
  117,
  239,
  10170,
  1280,
  59,
  69,
  97,
  99,
  101,
  105,
  110,
  112,
  115,
  121,
  4589,
  13043,
  13045,
  13055,
  13058,
  13067,
  13071,
  13087,
  13094,
  13097,
  59,
  27316,
  496,
  13050,
  0,
  13052,
  59,
  27320,
  111,
  110,
  59,
  16737,
  117,
  229,
  4606,
  256,
  59,
  100,
  4595,
  13063,
  105,
  108,
  59,
  16735,
  114,
  99,
  59,
  16733,
  384,
  69,
  97,
  115,
  13078,
  13080,
  13083,
  59,
  27318,
  112,
  59,
  27322,
  105,
  109,
  59,
  25321,
  111,
  108,
  105,
  110,
  116,
  59,
  27155,
  105,
  237,
  4612,
  59,
  17473,
  111,
  116,
  384,
  59,
  98,
  101,
  13108,
  7495,
  13109,
  25285,
  59,
  27238,
  896,
  65,
  97,
  99,
  109,
  115,
  116,
  120,
  13126,
  13130,
  13143,
  13147,
  13150,
  13155,
  13165,
  114,
  114,
  59,
  25048,
  114,
  256,
  104,
  114,
  13136,
  13138,
  235,
  8744,
  256,
  59,
  111,
  2614,
  2612,
  116,
  32827,
  167,
  16551,
  105,
  59,
  16443,
  119,
  97,
  114,
  59,
  26921,
  109,
  256,
  105,
  110,
  13161,
  240,
  110,
  117,
  243,
  241,
  116,
  59,
  26422,
  114,
  256,
  59,
  111,
  13174,
  8277,
  49152,
  55349,
  56624,
  512,
  97,
  99,
  111,
  121,
  13186,
  13190,
  13201,
  13216,
  114,
  112,
  59,
  26223,
  256,
  104,
  121,
  13195,
  13199,
  99,
  121,
  59,
  17481,
  59,
  17480,
  114,
  116,
  621,
  13209,
  0,
  0,
  13212,
  105,
  228,
  5220,
  97,
  114,
  97,
  236,
  11887,
  32827,
  173,
  16557,
  256,
  103,
  109,
  13224,
  13236,
  109,
  97,
  384,
  59,
  102,
  118,
  13233,
  13234,
  13234,
  17347,
  59,
  17346,
  1024,
  59,
  100,
  101,
  103,
  108,
  110,
  112,
  114,
  4779,
  13253,
  13257,
  13262,
  13270,
  13278,
  13281,
  13286,
  111,
  116,
  59,
  27242,
  256,
  59,
  113,
  4785,
  4784,
  256,
  59,
  69,
  13267,
  13268,
  27294,
  59,
  27296,
  256,
  59,
  69,
  13275,
  13276,
  27293,
  59,
  27295,
  101,
  59,
  25158,
  108,
  117,
  115,
  59,
  27172,
  97,
  114,
  114,
  59,
  26994,
  97,
  114,
  242,
  4413,
  512,
  97,
  101,
  105,
  116,
  13304,
  13320,
  13327,
  13335,
  256,
  108,
  115,
  13309,
  13316,
  108,
  115,
  101,
  116,
  109,
  233,
  13162,
  104,
  112,
  59,
  27187,
  112,
  97,
  114,
  115,
  108,
  59,
  27108,
  256,
  100,
  108,
  5219,
  13332,
  101,
  59,
  25379,
  256,
  59,
  101,
  13340,
  13341,
  27306,
  256,
  59,
  115,
  13346,
  13347,
  27308,
  59,
  49152,
  10924,
  65024,
  384,
  102,
  108,
  112,
  13358,
  13363,
  13378,
  116,
  99,
  121,
  59,
  17484,
  256,
  59,
  98,
  13368,
  13369,
  16431,
  256,
  59,
  97,
  13374,
  13375,
  27076,
  114,
  59,
  25407,
  102,
  59,
  49152,
  55349,
  56676,
  97,
  256,
  100,
  114,
  13389,
  1026,
  101,
  115,
  256,
  59,
  117,
  13396,
  13397,
  26208,
  105,
  116,
  187,
  13397,
  384,
  99,
  115,
  117,
  13408,
  13433,
  13471,
  256,
  97,
  117,
  13413,
  13423,
  112,
  256,
  59,
  115,
  4488,
  13419,
  59,
  49152,
  8851,
  65024,
  112,
  256,
  59,
  115,
  4532,
  13429,
  59,
  49152,
  8852,
  65024,
  117,
  256,
  98,
  112,
  13439,
  13455,
  384,
  59,
  101,
  115,
  4503,
  4508,
  13446,
  101,
  116,
  256,
  59,
  101,
  4503,
  13453,
  241,
  4509,
  384,
  59,
  101,
  115,
  4520,
  4525,
  13462,
  101,
  116,
  256,
  59,
  101,
  4520,
  13469,
  241,
  4526,
  384,
  59,
  97,
  102,
  4475,
  13478,
  1456,
  114,
  357,
  13483,
  1457,
  187,
  4476,
  97,
  114,
  242,
  4424,
  512,
  99,
  101,
  109,
  116,
  13497,
  13502,
  13506,
  13509,
  114,
  59,
  49152,
  55349,
  56520,
  116,
  109,
  238,
  241,
  105,
  236,
  13333,
  97,
  114,
  230,
  4542,
  256,
  97,
  114,
  13518,
  13525,
  114,
  256,
  59,
  102,
  13524,
  6079,
  26118,
  256,
  97,
  110,
  13530,
  13549,
  105,
  103,
  104,
  116,
  256,
  101,
  112,
  13539,
  13546,
  112,
  115,
  105,
  108,
  111,
  238,
  7904,
  104,
  233,
  11951,
  115,
  187,
  10322,
  640,
  98,
  99,
  109,
  110,
  112,
  13563,
  13662,
  4617,
  13707,
  13710,
  1152,
  59,
  69,
  100,
  101,
  109,
  110,
  112,
  114,
  115,
  13582,
  13583,
  13585,
  13589,
  13598,
  13603,
  13612,
  13617,
  13622,
  25218,
  59,
  27333,
  111,
  116,
  59,
  27325,
  256,
  59,
  100,
  4570,
  13594,
  111,
  116,
  59,
  27331,
  117,
  108,
  116,
  59,
  27329,
  256,
  69,
  101,
  13608,
  13610,
  59,
  27339,
  59,
  25226,
  108,
  117,
  115,
  59,
  27327,
  97,
  114,
  114,
  59,
  27001,
  384,
  101,
  105,
  117,
  13629,
  13650,
  13653,
  116,
  384,
  59,
  101,
  110,
  13582,
  13637,
  13643,
  113,
  256,
  59,
  113,
  4570,
  13583,
  101,
  113,
  256,
  59,
  113,
  13611,
  13608,
  109,
  59,
  27335,
  256,
  98,
  112,
  13658,
  13660,
  59,
  27349,
  59,
  27347,
  99,
  768,
  59,
  97,
  99,
  101,
  110,
  115,
  4589,
  13676,
  13682,
  13689,
  13691,
  13094,
  112,
  112,
  114,
  111,
  248,
  13050,
  117,
  114,
  108,
  121,
  101,
  241,
  4606,
  241,
  4595,
  384,
  97,
  101,
  115,
  13698,
  13704,
  13083,
  112,
  112,
  114,
  111,
  248,
  13082,
  113,
  241,
  13079,
  103,
  59,
  26218,
  1664,
  49,
  50,
  51,
  59,
  69,
  100,
  101,
  104,
  108,
  109,
  110,
  112,
  115,
  13737,
  13740,
  13743,
  4636,
  13746,
  13748,
  13760,
  13769,
  13781,
  13786,
  13791,
  13800,
  13805,
  32827,
  185,
  16569,
  32827,
  178,
  16562,
  32827,
  179,
  16563,
  59,
  27334,
  256,
  111,
  115,
  13753,
  13756,
  116,
  59,
  27326,
  117,
  98,
  59,
  27352,
  256,
  59,
  100,
  4642,
  13765,
  111,
  116,
  59,
  27332,
  115,
  256,
  111,
  117,
  13775,
  13778,
  108,
  59,
  26569,
  98,
  59,
  27351,
  97,
  114,
  114,
  59,
  27003,
  117,
  108,
  116,
  59,
  27330,
  256,
  69,
  101,
  13796,
  13798,
  59,
  27340,
  59,
  25227,
  108,
  117,
  115,
  59,
  27328,
  384,
  101,
  105,
  117,
  13812,
  13833,
  13836,
  116,
  384,
  59,
  101,
  110,
  4636,
  13820,
  13826,
  113,
  256,
  59,
  113,
  4642,
  13746,
  101,
  113,
  256,
  59,
  113,
  13799,
  13796,
  109,
  59,
  27336,
  256,
  98,
  112,
  13841,
  13843,
  59,
  27348,
  59,
  27350,
  384,
  65,
  97,
  110,
  13852,
  13856,
  13869,
  114,
  114,
  59,
  25049,
  114,
  256,
  104,
  114,
  13862,
  13864,
  235,
  8750,
  256,
  59,
  111,
  2603,
  2601,
  119,
  97,
  114,
  59,
  26922,
  108,
  105,
  103,
  32827,
  223,
  16607,
  3041,
  13905,
  13917,
  13920,
  4814,
  13939,
  13945,
  0,
  13950,
  14018,
  0,
  0,
  0,
  0,
  0,
  14043,
  14083,
  0,
  14089,
  14188,
  0,
  0,
  0,
  14215,
  626,
  13910,
  0,
  0,
  13915,
  103,
  101,
  116,
  59,
  25366,
  59,
  17348,
  114,
  235,
  3679,
  384,
  97,
  101,
  121,
  13926,
  13931,
  13936,
  114,
  111,
  110,
  59,
  16741,
  100,
  105,
  108,
  59,
  16739,
  59,
  17474,
  108,
  114,
  101,
  99,
  59,
  25365,
  114,
  59,
  49152,
  55349,
  56625,
  512,
  101,
  105,
  107,
  111,
  13958,
  13981,
  14005,
  14012,
  498,
  13963,
  0,
  13969,
  101,
  256,
  52,
  102,
  4740,
  4737,
  97,
  384,
  59,
  115,
  118,
  13976,
  13977,
  13979,
  17336,
  121,
  109,
  59,
  17361,
  256,
  99,
  110,
  13986,
  14002,
  107,
  256,
  97,
  115,
  13992,
  13998,
  112,
  112,
  114,
  111,
  248,
  4801,
  105,
  109,
  187,
  4780,
  115,
  240,
  4766,
  256,
  97,
  115,
  14010,
  13998,
  240,
  4801,
  114,
  110,
  32827,
  254,
  16638,
  492,
  799,
  14022,
  8935,
  101,
  115,
  33152,
  215,
  59,
  98,
  100,
  14031,
  14032,
  14040,
  16599,
  256,
  59,
  97,
  6415,
  14037,
  114,
  59,
  27185,
  59,
  27184,
  384,
  101,
  112,
  115,
  14049,
  14051,
  14080,
  225,
  10829,
  512,
  59,
  98,
  99,
  102,
  1158,
  14060,
  14064,
  14068,
  111,
  116,
  59,
  25398,
  105,
  114,
  59,
  27377,
  256,
  59,
  111,
  14073,
  14076,
  49152,
  55349,
  56677,
  114,
  107,
  59,
  27354,
  225,
  13154,
  114,
  105,
  109,
  101,
  59,
  24628,
  384,
  97,
  105,
  112,
  14095,
  14098,
  14180,
  100,
  229,
  4680,
  896,
  97,
  100,
  101,
  109,
  112,
  115,
  116,
  14113,
  14157,
  14144,
  14161,
  14167,
  14172,
  14175,
  110,
  103,
  108,
  101,
  640,
  59,
  100,
  108,
  113,
  114,
  14128,
  14129,
  14134,
  14144,
  14146,
  26037,
  111,
  119,
  110,
  187,
  7611,
  101,
  102,
  116,
  256,
  59,
  101,
  10240,
  14142,
  241,
  2350,
  59,
  25180,
  105,
  103,
  104,
  116,
  256,
  59,
  101,
  12970,
  14155,
  241,
  4186,
  111,
  116,
  59,
  26092,
  105,
  110,
  117,
  115,
  59,
  27194,
  108,
  117,
  115,
  59,
  27193,
  98,
  59,
  27085,
  105,
  109,
  101,
  59,
  27195,
  101,
  122,
  105,
  117,
  109,
  59,
  25570,
  384,
  99,
  104,
  116,
  14194,
  14205,
  14209,
  256,
  114,
  121,
  14199,
  14203,
  59,
  49152,
  55349,
  56521,
  59,
  17478,
  99,
  121,
  59,
  17499,
  114,
  111,
  107,
  59,
  16743,
  256,
  105,
  111,
  14219,
  14222,
  120,
  244,
  6007,
  104,
  101,
  97,
  100,
  256,
  108,
  114,
  14231,
  14240,
  101,
  102,
  116,
  97,
  114,
  114,
  111,
  247,
  2127,
  105,
  103,
  104,
  116,
  97,
  114,
  114,
  111,
  119,
  187,
  3933,
  2304,
  65,
  72,
  97,
  98,
  99,
  100,
  102,
  103,
  104,
  108,
  109,
  111,
  112,
  114,
  115,
  116,
  117,
  119,
  14288,
  14291,
  14295,
  14308,
  14320,
  14332,
  14350,
  14364,
  14371,
  14388,
  14417,
  14429,
  14443,
  14505,
  14540,
  14546,
  14570,
  14582,
  114,
  242,
  1005,
  97,
  114,
  59,
  26979,
  256,
  99,
  114,
  14300,
  14306,
  117,
  116,
  101,
  32827,
  250,
  16634,
  242,
  4432,
  114,
  483,
  14314,
  0,
  14317,
  121,
  59,
  17502,
  118,
  101,
  59,
  16749,
  256,
  105,
  121,
  14325,
  14330,
  114,
  99,
  32827,
  251,
  16635,
  59,
  17475,
  384,
  97,
  98,
  104,
  14339,
  14342,
  14347,
  114,
  242,
  5037,
  108,
  97,
  99,
  59,
  16753,
  97,
  242,
  5059,
  256,
  105,
  114,
  14355,
  14360,
  115,
  104,
  116,
  59,
  27006,
  59,
  49152,
  55349,
  56626,
  114,
  97,
  118,
  101,
  32827,
  249,
  16633,
  353,
  14375,
  14385,
  114,
  256,
  108,
  114,
  14380,
  14382,
  187,
  2391,
  187,
  4227,
  108,
  107,
  59,
  25984,
  256,
  99,
  116,
  14393,
  14413,
  623,
  14399,
  0,
  0,
  14410,
  114,
  110,
  256,
  59,
  101,
  14405,
  14406,
  25372,
  114,
  187,
  14406,
  111,
  112,
  59,
  25359,
  114,
  105,
  59,
  26104,
  256,
  97,
  108,
  14422,
  14426,
  99,
  114,
  59,
  16747,
  32955,
  168,
  841,
  256,
  103,
  112,
  14434,
  14438,
  111,
  110,
  59,
  16755,
  102,
  59,
  49152,
  55349,
  56678,
  768,
  97,
  100,
  104,
  108,
  115,
  117,
  4427,
  14456,
  14461,
  4978,
  14481,
  14496,
  111,
  119,
  110,
  225,
  5043,
  97,
  114,
  112,
  111,
  111,
  110,
  256,
  108,
  114,
  14472,
  14476,
  101,
  102,
  244,
  14381,
  105,
  103,
  104,
  244,
  14383,
  105,
  384,
  59,
  104,
  108,
  14489,
  14490,
  14492,
  17349,
  187,
  5114,
  111,
  110,
  187,
  14490,
  112,
  97,
  114,
  114,
  111,
  119,
  115,
  59,
  25032,
  384,
  99,
  105,
  116,
  14512,
  14532,
  14536,
  623,
  14518,
  0,
  0,
  14529,
  114,
  110,
  256,
  59,
  101,
  14524,
  14525,
  25373,
  114,
  187,
  14525,
  111,
  112,
  59,
  25358,
  110,
  103,
  59,
  16751,
  114,
  105,
  59,
  26105,
  99,
  114,
  59,
  49152,
  55349,
  56522,
  384,
  100,
  105,
  114,
  14553,
  14557,
  14562,
  111,
  116,
  59,
  25328,
  108,
  100,
  101,
  59,
  16745,
  105,
  256,
  59,
  102,
  14128,
  14568,
  187,
  6163,
  256,
  97,
  109,
  14575,
  14578,
  114,
  242,
  14504,
  108,
  32827,
  252,
  16636,
  97,
  110,
  103,
  108,
  101,
  59,
  27047,
  1920,
  65,
  66,
  68,
  97,
  99,
  100,
  101,
  102,
  108,
  110,
  111,
  112,
  114,
  115,
  122,
  14620,
  14623,
  14633,
  14637,
  14773,
  14776,
  14781,
  14815,
  14820,
  14824,
  14835,
  14841,
  14845,
  14849,
  14880,
  114,
  242,
  1015,
  97,
  114,
  256,
  59,
  118,
  14630,
  14631,
  27368,
  59,
  27369,
  97,
  115,
  232,
  993,
  256,
  110,
  114,
  14642,
  14647,
  103,
  114,
  116,
  59,
  27036,
  896,
  101,
  107,
  110,
  112,
  114,
  115,
  116,
  13539,
  14662,
  14667,
  14674,
  14685,
  14692,
  14742,
  97,
  112,
  112,
  225,
  9237,
  111,
  116,
  104,
  105,
  110,
  231,
  7830,
  384,
  104,
  105,
  114,
  13547,
  11976,
  14681,
  111,
  112,
  244,
  12213,
  256,
  59,
  104,
  5047,
  14690,
  239,
  12685,
  256,
  105,
  117,
  14697,
  14701,
  103,
  109,
  225,
  13235,
  256,
  98,
  112,
  14706,
  14724,
  115,
  101,
  116,
  110,
  101,
  113,
  256,
  59,
  113,
  14717,
  14720,
  49152,
  8842,
  65024,
  59,
  49152,
  10955,
  65024,
  115,
  101,
  116,
  110,
  101,
  113,
  256,
  59,
  113,
  14735,
  14738,
  49152,
  8843,
  65024,
  59,
  49152,
  10956,
  65024,
  256,
  104,
  114,
  14747,
  14751,
  101,
  116,
  225,
  13980,
  105,
  97,
  110,
  103,
  108,
  101,
  256,
  108,
  114,
  14762,
  14767,
  101,
  102,
  116,
  187,
  2341,
  105,
  103,
  104,
  116,
  187,
  4177,
  121,
  59,
  17458,
  97,
  115,
  104,
  187,
  4150,
  384,
  101,
  108,
  114,
  14788,
  14802,
  14807,
  384,
  59,
  98,
  101,
  11754,
  14795,
  14799,
  97,
  114,
  59,
  25275,
  113,
  59,
  25178,
  108,
  105,
  112,
  59,
  25326,
  256,
  98,
  116,
  14812,
  5224,
  97,
  242,
  5225,
  114,
  59,
  49152,
  55349,
  56627,
  116,
  114,
  233,
  14766,
  115,
  117,
  256,
  98,
  112,
  14831,
  14833,
  187,
  3356,
  187,
  3417,
  112,
  102,
  59,
  49152,
  55349,
  56679,
  114,
  111,
  240,
  3835,
  116,
  114,
  233,
  14772,
  256,
  99,
  117,
  14854,
  14859,
  114,
  59,
  49152,
  55349,
  56523,
  256,
  98,
  112,
  14864,
  14872,
  110,
  256,
  69,
  101,
  14720,
  14870,
  187,
  14718,
  110,
  256,
  69,
  101,
  14738,
  14878,
  187,
  14736,
  105,
  103,
  122,
  97,
  103,
  59,
  27034,
  896,
  99,
  101,
  102,
  111,
  112,
  114,
  115,
  14902,
  14907,
  14934,
  14939,
  14932,
  14945,
  14954,
  105,
  114,
  99,
  59,
  16757,
  256,
  100,
  105,
  14912,
  14929,
  256,
  98,
  103,
  14917,
  14921,
  97,
  114,
  59,
  27231,
  101,
  256,
  59,
  113,
  5626,
  14927,
  59,
  25177,
  101,
  114,
  112,
  59,
  24856,
  114,
  59,
  49152,
  55349,
  56628,
  112,
  102,
  59,
  49152,
  55349,
  56680,
  256,
  59,
  101,
  5241,
  14950,
  97,
  116,
  232,
  5241,
  99,
  114,
  59,
  49152,
  55349,
  56524,
  2787,
  6030,
  14983,
  0,
  14987,
  0,
  14992,
  15003,
  0,
  0,
  15005,
  15016,
  15019,
  15023,
  0,
  0,
  15043,
  15054,
  0,
  15064,
  6108,
  6111,
  116,
  114,
  233,
  6097,
  114,
  59,
  49152,
  55349,
  56629,
  256,
  65,
  97,
  14996,
  14999,
  114,
  242,
  963,
  114,
  242,
  2550,
  59,
  17342,
  256,
  65,
  97,
  15009,
  15012,
  114,
  242,
  952,
  114,
  242,
  2539,
  97,
  240,
  10003,
  105,
  115,
  59,
  25339,
  384,
  100,
  112,
  116,
  6052,
  15029,
  15038,
  256,
  102,
  108,
  15034,
  6057,
  59,
  49152,
  55349,
  56681,
  105,
  109,
  229,
  6066,
  256,
  65,
  97,
  15047,
  15050,
  114,
  242,
  974,
  114,
  242,
  2561,
  256,
  99,
  113,
  15058,
  6072,
  114,
  59,
  49152,
  55349,
  56525,
  256,
  112,
  116,
  6102,
  15068,
  114,
  233,
  6100,
  1024,
  97,
  99,
  101,
  102,
  105,
  111,
  115,
  117,
  15088,
  15101,
  15112,
  15116,
  15121,
  15125,
  15131,
  15137,
  99,
  256,
  117,
  121,
  15094,
  15099,
  116,
  101,
  32827,
  253,
  16637,
  59,
  17487,
  256,
  105,
  121,
  15106,
  15110,
  114,
  99,
  59,
  16759,
  59,
  17483,
  110,
  32827,
  165,
  16549,
  114,
  59,
  49152,
  55349,
  56630,
  99,
  121,
  59,
  17495,
  112,
  102,
  59,
  49152,
  55349,
  56682,
  99,
  114,
  59,
  49152,
  55349,
  56526,
  256,
  99,
  109,
  15142,
  15145,
  121,
  59,
  17486,
  108,
  32827,
  255,
  16639,
  1280,
  97,
  99,
  100,
  101,
  102,
  104,
  105,
  111,
  115,
  119,
  15170,
  15176,
  15188,
  15192,
  15204,
  15209,
  15213,
  15220,
  15226,
  15232,
  99,
  117,
  116,
  101,
  59,
  16762,
  256,
  97,
  121,
  15181,
  15186,
  114,
  111,
  110,
  59,
  16766,
  59,
  17463,
  111,
  116,
  59,
  16764,
  256,
  101,
  116,
  15197,
  15201,
  116,
  114,
  230,
  5471,
  97,
  59,
  17334,
  114,
  59,
  49152,
  55349,
  56631,
  99,
  121,
  59,
  17462,
  103,
  114,
  97,
  114,
  114,
  59,
  25053,
  112,
  102,
  59,
  49152,
  55349,
  56683,
  99,
  114,
  59,
  49152,
  55349,
  56527,
  256,
  106,
  110,
  15237,
  15239,
  59,
  24589,
  106,
  59,
  24588,
]);

// node_modules/entities/lib/esm/generated/decode-data-xml.js
var decode_data_xml_default = new Uint16Array([
  512,
  97,
  103,
  108,
  113,
  9,
  21,
  24,
  27,
  621,
  15,
  0,
  0,
  18,
  112,
  59,
  16422,
  111,
  115,
  59,
  16423,
  116,
  59,
  16446,
  116,
  59,
  16444,
  117,
  111,
  116,
  59,
  16418,
]);

// node_modules/entities/lib/esm/decode_codepoint.js
var _a2;
var decodeMap = /* @__PURE__ */ new Map([
  [0, 65533],
  [128, 8364],
  [130, 8218],
  [131, 402],
  [132, 8222],
  [133, 8230],
  [134, 8224],
  [135, 8225],
  [136, 710],
  [137, 8240],
  [138, 352],
  [139, 8249],
  [140, 338],
  [142, 381],
  [145, 8216],
  [146, 8217],
  [147, 8220],
  [148, 8221],
  [149, 8226],
  [150, 8211],
  [151, 8212],
  [152, 732],
  [153, 8482],
  [154, 353],
  [155, 8250],
  [156, 339],
  [158, 382],
  [159, 376],
]);
var fromCodePoint = (_a2 = String.fromCodePoint) !== null && _a2 !== void 0
  ? _a2
  : function (codePoint) {
    let output = "";
    if (codePoint > 65535) {
      codePoint -= 65536;
      output += String.fromCharCode(codePoint >>> 10 & 1023 | 55296);
      codePoint = 56320 | codePoint & 1023;
    }
    output += String.fromCharCode(codePoint);
    return output;
  };
function replaceCodePoint(codePoint) {
  var _a3;
  if (codePoint >= 55296 && codePoint <= 57343 || codePoint > 1114111) {
    return 65533;
  }
  return (_a3 = decodeMap.get(codePoint)) !== null && _a3 !== void 0
    ? _a3
    : codePoint;
}
__name(replaceCodePoint, "replaceCodePoint");
function decodeCodePoint(codePoint) {
  return fromCodePoint(replaceCodePoint(codePoint));
}
__name(decodeCodePoint, "decodeCodePoint");

// node_modules/entities/lib/esm/decode.js
var CharCodes;
(function (CharCodes3) {
  CharCodes3[CharCodes3["NUM"] = 35] = "NUM";
  CharCodes3[CharCodes3["SEMI"] = 59] = "SEMI";
  CharCodes3[CharCodes3["ZERO"] = 48] = "ZERO";
  CharCodes3[CharCodes3["NINE"] = 57] = "NINE";
  CharCodes3[CharCodes3["LOWER_A"] = 97] = "LOWER_A";
  CharCodes3[CharCodes3["LOWER_F"] = 102] = "LOWER_F";
  CharCodes3[CharCodes3["LOWER_X"] = 120] = "LOWER_X";
  CharCodes3[CharCodes3["To_LOWER_BIT"] = 32] = "To_LOWER_BIT";
})(CharCodes || (CharCodes = {}));
var BinTrieFlags;
(function (BinTrieFlags2) {
  BinTrieFlags2[BinTrieFlags2["VALUE_LENGTH"] = 49152] = "VALUE_LENGTH";
  BinTrieFlags2[BinTrieFlags2["BRANCH_LENGTH"] = 16256] = "BRANCH_LENGTH";
  BinTrieFlags2[BinTrieFlags2["JUMP_TABLE"] = 127] = "JUMP_TABLE";
})(BinTrieFlags || (BinTrieFlags = {}));
function getDecoder(decodeTree) {
  return /* @__PURE__ */ __name(function decodeHTMLBinary(str, strict) {
    let ret = "";
    let lastIdx = 0;
    let strIdx = 0;
    while ((strIdx = str.indexOf("&", strIdx)) >= 0) {
      ret += str.slice(lastIdx, strIdx);
      lastIdx = strIdx;
      strIdx += 1;
      if (str.charCodeAt(strIdx) === CharCodes.NUM) {
        let start = strIdx + 1;
        let base = 10;
        let cp = str.charCodeAt(start);
        if ((cp | CharCodes.To_LOWER_BIT) === CharCodes.LOWER_X) {
          base = 16;
          strIdx += 1;
          start += 1;
        }
        do cp = str.charCodeAt(++strIdx); while (
          cp >= CharCodes.ZERO && cp <= CharCodes.NINE ||
          base === 16 && (cp | CharCodes.To_LOWER_BIT) >= CharCodes.LOWER_A &&
            (cp | CharCodes.To_LOWER_BIT) <= CharCodes.LOWER_F
        );
        if (start !== strIdx) {
          const entity = str.substring(start, strIdx);
          const parsed = parseInt(entity, base);
          if (str.charCodeAt(strIdx) === CharCodes.SEMI) {
            strIdx += 1;
          } else if (strict) {
            continue;
          }
          ret += decodeCodePoint(parsed);
          lastIdx = strIdx;
        }
        continue;
      }
      let resultIdx = 0;
      let excess = 1;
      let treeIdx = 0;
      let current = decodeTree[treeIdx];
      for (; strIdx < str.length; strIdx++, excess++) {
        treeIdx = determineBranch(
          decodeTree,
          current,
          treeIdx + 1,
          str.charCodeAt(strIdx),
        );
        if (treeIdx < 0) {
          break;
        }
        current = decodeTree[treeIdx];
        const masked = current & BinTrieFlags.VALUE_LENGTH;
        if (masked) {
          if (!strict || str.charCodeAt(strIdx) === CharCodes.SEMI) {
            resultIdx = treeIdx;
            excess = 0;
          }
          const valueLength = (masked >> 14) - 1;
          if (valueLength === 0) {
            break;
          }
          treeIdx += valueLength;
        }
      }
      if (resultIdx !== 0) {
        const valueLength =
          (decodeTree[resultIdx] & BinTrieFlags.VALUE_LENGTH) >> 14;
        ret += valueLength === 1
          ? String.fromCharCode(
            decodeTree[resultIdx] & ~BinTrieFlags.VALUE_LENGTH,
          )
          : valueLength === 2
          ? String.fromCharCode(decodeTree[resultIdx + 1])
          : String.fromCharCode(
            decodeTree[resultIdx + 1],
            decodeTree[resultIdx + 2],
          );
        lastIdx = strIdx - excess + 1;
      }
    }
    return ret + str.slice(lastIdx);
  }, "decodeHTMLBinary");
}
__name(getDecoder, "getDecoder");
function determineBranch(decodeTree, current, nodeIdx, char) {
  const branchCount = (current & BinTrieFlags.BRANCH_LENGTH) >> 7;
  const jumpOffset = current & BinTrieFlags.JUMP_TABLE;
  if (branchCount === 0) {
    return jumpOffset !== 0 && char === jumpOffset ? nodeIdx : -1;
  }
  if (jumpOffset) {
    const value = char - jumpOffset;
    return value < 0 || value >= branchCount
      ? -1
      : decodeTree[nodeIdx + value] - 1;
  }
  let lo = nodeIdx;
  let hi = lo + branchCount - 1;
  while (lo <= hi) {
    const mid = lo + hi >>> 1;
    const midVal = decodeTree[mid];
    if (midVal < char) {
      lo = mid + 1;
    } else if (midVal > char) {
      hi = mid - 1;
    } else {
      return decodeTree[mid + branchCount];
    }
  }
  return -1;
}
__name(determineBranch, "determineBranch");
var htmlDecoder = getDecoder(decode_data_html_default);
var xmlDecoder = getDecoder(decode_data_xml_default);

// node_modules/htmlparser2/lib/esm/Tokenizer.js
var CharCodes2;
(function (CharCodes3) {
  CharCodes3[CharCodes3["Tab"] = 9] = "Tab";
  CharCodes3[CharCodes3["NewLine"] = 10] = "NewLine";
  CharCodes3[CharCodes3["FormFeed"] = 12] = "FormFeed";
  CharCodes3[CharCodes3["CarriageReturn"] = 13] = "CarriageReturn";
  CharCodes3[CharCodes3["Space"] = 32] = "Space";
  CharCodes3[CharCodes3["ExclamationMark"] = 33] = "ExclamationMark";
  CharCodes3[CharCodes3["Num"] = 35] = "Num";
  CharCodes3[CharCodes3["Amp"] = 38] = "Amp";
  CharCodes3[CharCodes3["SingleQuote"] = 39] = "SingleQuote";
  CharCodes3[CharCodes3["DoubleQuote"] = 34] = "DoubleQuote";
  CharCodes3[CharCodes3["Dash"] = 45] = "Dash";
  CharCodes3[CharCodes3["Slash"] = 47] = "Slash";
  CharCodes3[CharCodes3["Zero"] = 48] = "Zero";
  CharCodes3[CharCodes3["Nine"] = 57] = "Nine";
  CharCodes3[CharCodes3["Semi"] = 59] = "Semi";
  CharCodes3[CharCodes3["Lt"] = 60] = "Lt";
  CharCodes3[CharCodes3["Eq"] = 61] = "Eq";
  CharCodes3[CharCodes3["Gt"] = 62] = "Gt";
  CharCodes3[CharCodes3["Questionmark"] = 63] = "Questionmark";
  CharCodes3[CharCodes3["UpperA"] = 65] = "UpperA";
  CharCodes3[CharCodes3["LowerA"] = 97] = "LowerA";
  CharCodes3[CharCodes3["UpperF"] = 70] = "UpperF";
  CharCodes3[CharCodes3["LowerF"] = 102] = "LowerF";
  CharCodes3[CharCodes3["UpperZ"] = 90] = "UpperZ";
  CharCodes3[CharCodes3["LowerZ"] = 122] = "LowerZ";
  CharCodes3[CharCodes3["LowerX"] = 120] = "LowerX";
  CharCodes3[CharCodes3["OpeningSquareBracket"] = 91] = "OpeningSquareBracket";
})(CharCodes2 || (CharCodes2 = {}));
var State;
(function (State2) {
  State2[State2["Text"] = 1] = "Text";
  State2[State2["BeforeTagName"] = 2] = "BeforeTagName";
  State2[State2["InTagName"] = 3] = "InTagName";
  State2[State2["InSelfClosingTag"] = 4] = "InSelfClosingTag";
  State2[State2["BeforeClosingTagName"] = 5] = "BeforeClosingTagName";
  State2[State2["InClosingTagName"] = 6] = "InClosingTagName";
  State2[State2["AfterClosingTagName"] = 7] = "AfterClosingTagName";
  State2[State2["BeforeAttributeName"] = 8] = "BeforeAttributeName";
  State2[State2["InAttributeName"] = 9] = "InAttributeName";
  State2[State2["AfterAttributeName"] = 10] = "AfterAttributeName";
  State2[State2["BeforeAttributeValue"] = 11] = "BeforeAttributeValue";
  State2[State2["InAttributeValueDq"] = 12] = "InAttributeValueDq";
  State2[State2["InAttributeValueSq"] = 13] = "InAttributeValueSq";
  State2[State2["InAttributeValueNq"] = 14] = "InAttributeValueNq";
  State2[State2["BeforeDeclaration"] = 15] = "BeforeDeclaration";
  State2[State2["InDeclaration"] = 16] = "InDeclaration";
  State2[State2["InProcessingInstruction"] = 17] = "InProcessingInstruction";
  State2[State2["BeforeComment"] = 18] = "BeforeComment";
  State2[State2["CDATASequence"] = 19] = "CDATASequence";
  State2[State2["InSpecialComment"] = 20] = "InSpecialComment";
  State2[State2["InCommentLike"] = 21] = "InCommentLike";
  State2[State2["BeforeSpecialS"] = 22] = "BeforeSpecialS";
  State2[State2["SpecialStartSequence"] = 23] = "SpecialStartSequence";
  State2[State2["InSpecialTag"] = 24] = "InSpecialTag";
  State2[State2["BeforeEntity"] = 25] = "BeforeEntity";
  State2[State2["BeforeNumericEntity"] = 26] = "BeforeNumericEntity";
  State2[State2["InNamedEntity"] = 27] = "InNamedEntity";
  State2[State2["InNumericEntity"] = 28] = "InNumericEntity";
  State2[State2["InHexEntity"] = 29] = "InHexEntity";
})(State || (State = {}));
function isWhitespace(c) {
  return c === CharCodes2.Space || c === CharCodes2.NewLine ||
    c === CharCodes2.Tab || c === CharCodes2.FormFeed ||
    c === CharCodes2.CarriageReturn;
}
__name(isWhitespace, "isWhitespace");
function isEndOfTagSection(c) {
  return c === CharCodes2.Slash || c === CharCodes2.Gt || isWhitespace(c);
}
__name(isEndOfTagSection, "isEndOfTagSection");
function isNumber(c) {
  return c >= CharCodes2.Zero && c <= CharCodes2.Nine;
}
__name(isNumber, "isNumber");
function isASCIIAlpha(c) {
  return c >= CharCodes2.LowerA && c <= CharCodes2.LowerZ ||
    c >= CharCodes2.UpperA && c <= CharCodes2.UpperZ;
}
__name(isASCIIAlpha, "isASCIIAlpha");
function isHexDigit(c) {
  return c >= CharCodes2.UpperA && c <= CharCodes2.UpperF ||
    c >= CharCodes2.LowerA && c <= CharCodes2.LowerF;
}
__name(isHexDigit, "isHexDigit");
var QuoteType;
(function (QuoteType2) {
  QuoteType2[QuoteType2["NoValue"] = 0] = "NoValue";
  QuoteType2[QuoteType2["Unquoted"] = 1] = "Unquoted";
  QuoteType2[QuoteType2["Single"] = 2] = "Single";
  QuoteType2[QuoteType2["Double"] = 3] = "Double";
})(QuoteType || (QuoteType = {}));
var Sequences = {
  Cdata: new Uint8Array([67, 68, 65, 84, 65, 91]),
  CdataEnd: new Uint8Array([93, 93, 62]),
  CommentEnd: new Uint8Array([45, 45, 62]),
  ScriptEnd: new Uint8Array([60, 47, 115, 99, 114, 105, 112, 116]),
  StyleEnd: new Uint8Array([60, 47, 115, 116, 121, 108, 101]),
  TitleEnd: new Uint8Array([60, 47, 116, 105, 116, 108, 101]),
};
var Tokenizer = class {
  constructor({ xmlMode = false, decodeEntities = true }, cbs) {
    this.cbs = cbs;
    this.state = State.Text;
    this.buffer = "";
    this.sectionStart = 0;
    this.index = 0;
    this.baseState = State.Text;
    this.isSpecial = false;
    this.running = true;
    this.offset = 0;
    this.sequenceIndex = 0;
    this.trieIndex = 0;
    this.trieCurrent = 0;
    this.entityResult = 0;
    this.entityExcess = 0;
    this.xmlMode = xmlMode;
    this.decodeEntities = decodeEntities;
    this.entityTrie = xmlMode
      ? decode_data_xml_default
      : decode_data_html_default;
  }
  reset() {
    this.state = State.Text;
    this.buffer = "";
    this.sectionStart = 0;
    this.index = 0;
    this.baseState = State.Text;
    this.currentSequence = void 0;
    this.running = true;
    this.offset = 0;
  }
  write(chunk) {
    this.offset += this.buffer.length;
    this.buffer = chunk;
    this.parse();
  }
  end() {
    if (this.running) {
      this.finish();
    }
  }
  pause() {
    this.running = false;
  }
  resume() {
    this.running = true;
    if (this.index < this.buffer.length + this.offset) {
      this.parse();
    }
  }
  getIndex() {
    return this.index;
  }
  getSectionStart() {
    return this.sectionStart;
  }
  stateText(c) {
    if (
      c === CharCodes2.Lt ||
      !this.decodeEntities && this.fastForwardTo(CharCodes2.Lt)
    ) {
      if (this.index > this.sectionStart) {
        this.cbs.ontext(this.sectionStart, this.index);
      }
      this.state = State.BeforeTagName;
      this.sectionStart = this.index;
    } else if (this.decodeEntities && c === CharCodes2.Amp) {
      this.state = State.BeforeEntity;
    }
  }
  stateSpecialStartSequence(c) {
    const isEnd = this.sequenceIndex === this.currentSequence.length;
    const isMatch = isEnd
      ? isEndOfTagSection(c)
      : (c | 32) === this.currentSequence[this.sequenceIndex];
    if (!isMatch) {
      this.isSpecial = false;
    } else if (!isEnd) {
      this.sequenceIndex++;
      return;
    }
    this.sequenceIndex = 0;
    this.state = State.InTagName;
    this.stateInTagName(c);
  }
  stateInSpecialTag(c) {
    if (this.sequenceIndex === this.currentSequence.length) {
      if (c === CharCodes2.Gt || isWhitespace(c)) {
        const endOfText = this.index - this.currentSequence.length;
        if (this.sectionStart < endOfText) {
          const actualIndex = this.index;
          this.index = endOfText;
          this.cbs.ontext(this.sectionStart, endOfText);
          this.index = actualIndex;
        }
        this.isSpecial = false;
        this.sectionStart = endOfText + 2;
        this.stateInClosingTagName(c);
        return;
      }
      this.sequenceIndex = 0;
    }
    if ((c | 32) === this.currentSequence[this.sequenceIndex]) {
      this.sequenceIndex += 1;
    } else if (this.sequenceIndex === 0) {
      if (this.currentSequence === Sequences.TitleEnd) {
        if (this.decodeEntities && c === CharCodes2.Amp) {
          this.state = State.BeforeEntity;
        }
      } else if (this.fastForwardTo(CharCodes2.Lt)) {
        this.sequenceIndex = 1;
      }
    } else {
      this.sequenceIndex = Number(c === CharCodes2.Lt);
    }
  }
  stateCDATASequence(c) {
    if (c === Sequences.Cdata[this.sequenceIndex]) {
      if (++this.sequenceIndex === Sequences.Cdata.length) {
        this.state = State.InCommentLike;
        this.currentSequence = Sequences.CdataEnd;
        this.sequenceIndex = 0;
        this.sectionStart = this.index + 1;
      }
    } else {
      this.sequenceIndex = 0;
      this.state = State.InDeclaration;
      this.stateInDeclaration(c);
    }
  }
  fastForwardTo(c) {
    while (++this.index < this.buffer.length + this.offset) {
      if (this.buffer.charCodeAt(this.index - this.offset) === c) {
        return true;
      }
    }
    this.index = this.buffer.length + this.offset - 1;
    return false;
  }
  stateInCommentLike(c) {
    if (c === this.currentSequence[this.sequenceIndex]) {
      if (++this.sequenceIndex === this.currentSequence.length) {
        if (this.currentSequence === Sequences.CdataEnd) {
          this.cbs.oncdata(this.sectionStart, this.index, 2);
        } else {
          this.cbs.oncomment(this.sectionStart, this.index, 2);
        }
        this.sequenceIndex = 0;
        this.sectionStart = this.index + 1;
        this.state = State.Text;
      }
    } else if (this.sequenceIndex === 0) {
      if (this.fastForwardTo(this.currentSequence[0])) {
        this.sequenceIndex = 1;
      }
    } else if (c !== this.currentSequence[this.sequenceIndex - 1]) {
      this.sequenceIndex = 0;
    }
  }
  isTagStartChar(c) {
    return this.xmlMode ? !isEndOfTagSection(c) : isASCIIAlpha(c);
  }
  startSpecial(sequence, offset) {
    this.isSpecial = true;
    this.currentSequence = sequence;
    this.sequenceIndex = offset;
    this.state = State.SpecialStartSequence;
  }
  stateBeforeTagName(c) {
    if (c === CharCodes2.ExclamationMark) {
      this.state = State.BeforeDeclaration;
      this.sectionStart = this.index + 1;
    } else if (c === CharCodes2.Questionmark) {
      this.state = State.InProcessingInstruction;
      this.sectionStart = this.index + 1;
    } else if (this.isTagStartChar(c)) {
      const lower = c | 32;
      this.sectionStart = this.index;
      if (!this.xmlMode && lower === Sequences.TitleEnd[2]) {
        this.startSpecial(Sequences.TitleEnd, 3);
      } else {
        this.state = !this.xmlMode && lower === Sequences.ScriptEnd[2]
          ? State.BeforeSpecialS
          : State.InTagName;
      }
    } else if (c === CharCodes2.Slash) {
      this.state = State.BeforeClosingTagName;
    } else {
      this.state = State.Text;
      this.stateText(c);
    }
  }
  stateInTagName(c) {
    if (isEndOfTagSection(c)) {
      this.cbs.onopentagname(this.sectionStart, this.index);
      this.sectionStart = -1;
      this.state = State.BeforeAttributeName;
      this.stateBeforeAttributeName(c);
    }
  }
  stateBeforeClosingTagName(c) {
    if (isWhitespace(c)) {
    } else if (c === CharCodes2.Gt) {
      this.state = State.Text;
    } else {
      this.state = this.isTagStartChar(c)
        ? State.InClosingTagName
        : State.InSpecialComment;
      this.sectionStart = this.index;
    }
  }
  stateInClosingTagName(c) {
    if (c === CharCodes2.Gt || isWhitespace(c)) {
      this.cbs.onclosetag(this.sectionStart, this.index);
      this.sectionStart = -1;
      this.state = State.AfterClosingTagName;
      this.stateAfterClosingTagName(c);
    }
  }
  stateAfterClosingTagName(c) {
    if (c === CharCodes2.Gt || this.fastForwardTo(CharCodes2.Gt)) {
      this.state = State.Text;
      this.sectionStart = this.index + 1;
    }
  }
  stateBeforeAttributeName(c) {
    if (c === CharCodes2.Gt) {
      this.cbs.onopentagend(this.index);
      if (this.isSpecial) {
        this.state = State.InSpecialTag;
        this.sequenceIndex = 0;
      } else {
        this.state = State.Text;
      }
      this.baseState = this.state;
      this.sectionStart = this.index + 1;
    } else if (c === CharCodes2.Slash) {
      this.state = State.InSelfClosingTag;
    } else if (!isWhitespace(c)) {
      this.state = State.InAttributeName;
      this.sectionStart = this.index;
    }
  }
  stateInSelfClosingTag(c) {
    if (c === CharCodes2.Gt) {
      this.cbs.onselfclosingtag(this.index);
      this.state = State.Text;
      this.baseState = State.Text;
      this.sectionStart = this.index + 1;
      this.isSpecial = false;
    } else if (!isWhitespace(c)) {
      this.state = State.BeforeAttributeName;
      this.stateBeforeAttributeName(c);
    }
  }
  stateInAttributeName(c) {
    if (c === CharCodes2.Eq || isEndOfTagSection(c)) {
      this.cbs.onattribname(this.sectionStart, this.index);
      this.sectionStart = -1;
      this.state = State.AfterAttributeName;
      this.stateAfterAttributeName(c);
    }
  }
  stateAfterAttributeName(c) {
    if (c === CharCodes2.Eq) {
      this.state = State.BeforeAttributeValue;
    } else if (c === CharCodes2.Slash || c === CharCodes2.Gt) {
      this.cbs.onattribend(QuoteType.NoValue, this.index);
      this.state = State.BeforeAttributeName;
      this.stateBeforeAttributeName(c);
    } else if (!isWhitespace(c)) {
      this.cbs.onattribend(QuoteType.NoValue, this.index);
      this.state = State.InAttributeName;
      this.sectionStart = this.index;
    }
  }
  stateBeforeAttributeValue(c) {
    if (c === CharCodes2.DoubleQuote) {
      this.state = State.InAttributeValueDq;
      this.sectionStart = this.index + 1;
    } else if (c === CharCodes2.SingleQuote) {
      this.state = State.InAttributeValueSq;
      this.sectionStart = this.index + 1;
    } else if (!isWhitespace(c)) {
      this.sectionStart = this.index;
      this.state = State.InAttributeValueNq;
      this.stateInAttributeValueNoQuotes(c);
    }
  }
  handleInAttributeValue(c, quote) {
    if (c === quote || !this.decodeEntities && this.fastForwardTo(quote)) {
      this.cbs.onattribdata(this.sectionStart, this.index);
      this.sectionStart = -1;
      this.cbs.onattribend(
        quote === CharCodes2.DoubleQuote ? QuoteType.Double : QuoteType.Single,
        this.index,
      );
      this.state = State.BeforeAttributeName;
    } else if (this.decodeEntities && c === CharCodes2.Amp) {
      this.baseState = this.state;
      this.state = State.BeforeEntity;
    }
  }
  stateInAttributeValueDoubleQuotes(c) {
    this.handleInAttributeValue(c, CharCodes2.DoubleQuote);
  }
  stateInAttributeValueSingleQuotes(c) {
    this.handleInAttributeValue(c, CharCodes2.SingleQuote);
  }
  stateInAttributeValueNoQuotes(c) {
    if (isWhitespace(c) || c === CharCodes2.Gt) {
      this.cbs.onattribdata(this.sectionStart, this.index);
      this.sectionStart = -1;
      this.cbs.onattribend(QuoteType.Unquoted, this.index);
      this.state = State.BeforeAttributeName;
      this.stateBeforeAttributeName(c);
    } else if (this.decodeEntities && c === CharCodes2.Amp) {
      this.baseState = this.state;
      this.state = State.BeforeEntity;
    }
  }
  stateBeforeDeclaration(c) {
    if (c === CharCodes2.OpeningSquareBracket) {
      this.state = State.CDATASequence;
      this.sequenceIndex = 0;
    } else {
      this.state = c === CharCodes2.Dash
        ? State.BeforeComment
        : State.InDeclaration;
    }
  }
  stateInDeclaration(c) {
    if (c === CharCodes2.Gt || this.fastForwardTo(CharCodes2.Gt)) {
      this.cbs.ondeclaration(this.sectionStart, this.index);
      this.state = State.Text;
      this.sectionStart = this.index + 1;
    }
  }
  stateInProcessingInstruction(c) {
    if (c === CharCodes2.Gt || this.fastForwardTo(CharCodes2.Gt)) {
      this.cbs.onprocessinginstruction(this.sectionStart, this.index);
      this.state = State.Text;
      this.sectionStart = this.index + 1;
    }
  }
  stateBeforeComment(c) {
    if (c === CharCodes2.Dash) {
      this.state = State.InCommentLike;
      this.currentSequence = Sequences.CommentEnd;
      this.sequenceIndex = 2;
      this.sectionStart = this.index + 1;
    } else {
      this.state = State.InDeclaration;
    }
  }
  stateInSpecialComment(c) {
    if (c === CharCodes2.Gt || this.fastForwardTo(CharCodes2.Gt)) {
      this.cbs.oncomment(this.sectionStart, this.index, 0);
      this.state = State.Text;
      this.sectionStart = this.index + 1;
    }
  }
  stateBeforeSpecialS(c) {
    const lower = c | 32;
    if (lower === Sequences.ScriptEnd[3]) {
      this.startSpecial(Sequences.ScriptEnd, 4);
    } else if (lower === Sequences.StyleEnd[3]) {
      this.startSpecial(Sequences.StyleEnd, 4);
    } else {
      this.state = State.InTagName;
      this.stateInTagName(c);
    }
  }
  stateBeforeEntity(c) {
    this.entityExcess = 1;
    this.entityResult = 0;
    if (c === CharCodes2.Num) {
      this.state = State.BeforeNumericEntity;
    } else if (c === CharCodes2.Amp) {
    } else {
      this.trieIndex = 0;
      this.trieCurrent = this.entityTrie[0];
      this.state = State.InNamedEntity;
      this.stateInNamedEntity(c);
    }
  }
  stateInNamedEntity(c) {
    this.entityExcess += 1;
    this.trieIndex = determineBranch(
      this.entityTrie,
      this.trieCurrent,
      this.trieIndex + 1,
      c,
    );
    if (this.trieIndex < 0) {
      this.emitNamedEntity();
      this.index--;
      return;
    }
    this.trieCurrent = this.entityTrie[this.trieIndex];
    const masked = this.trieCurrent & BinTrieFlags.VALUE_LENGTH;
    if (masked) {
      const valueLength = (masked >> 14) - 1;
      if (!this.allowLegacyEntity() && c !== CharCodes2.Semi) {
        this.trieIndex += valueLength;
      } else {
        const entityStart = this.index - this.entityExcess + 1;
        if (entityStart > this.sectionStart) {
          this.emitPartial(this.sectionStart, entityStart);
        }
        this.entityResult = this.trieIndex;
        this.trieIndex += valueLength;
        this.entityExcess = 0;
        this.sectionStart = this.index + 1;
        if (valueLength === 0) {
          this.emitNamedEntity();
        }
      }
    }
  }
  emitNamedEntity() {
    this.state = this.baseState;
    if (this.entityResult === 0) {
      return;
    }
    const valueLength =
      (this.entityTrie[this.entityResult] & BinTrieFlags.VALUE_LENGTH) >> 14;
    switch (valueLength) {
      case 1:
        this.emitCodePoint(
          this.entityTrie[this.entityResult] & ~BinTrieFlags.VALUE_LENGTH,
        );
        break;
      case 2:
        this.emitCodePoint(this.entityTrie[this.entityResult + 1]);
        break;
      case 3: {
        this.emitCodePoint(this.entityTrie[this.entityResult + 1]);
        this.emitCodePoint(this.entityTrie[this.entityResult + 2]);
      }
    }
  }
  stateBeforeNumericEntity(c) {
    if ((c | 32) === CharCodes2.LowerX) {
      this.entityExcess++;
      this.state = State.InHexEntity;
    } else {
      this.state = State.InNumericEntity;
      this.stateInNumericEntity(c);
    }
  }
  emitNumericEntity(strict) {
    const entityStart = this.index - this.entityExcess - 1;
    const numberStart = entityStart + 2 +
      Number(this.state === State.InHexEntity);
    if (numberStart !== this.index) {
      if (entityStart > this.sectionStart) {
        this.emitPartial(this.sectionStart, entityStart);
      }
      this.sectionStart = this.index + Number(strict);
      this.emitCodePoint(replaceCodePoint(this.entityResult));
    }
    this.state = this.baseState;
  }
  stateInNumericEntity(c) {
    if (c === CharCodes2.Semi) {
      this.emitNumericEntity(true);
    } else if (isNumber(c)) {
      this.entityResult = this.entityResult * 10 + (c - CharCodes2.Zero);
      this.entityExcess++;
    } else {
      if (this.allowLegacyEntity()) {
        this.emitNumericEntity(false);
      } else {
        this.state = this.baseState;
      }
      this.index--;
    }
  }
  stateInHexEntity(c) {
    if (c === CharCodes2.Semi) {
      this.emitNumericEntity(true);
    } else if (isNumber(c)) {
      this.entityResult = this.entityResult * 16 + (c - CharCodes2.Zero);
      this.entityExcess++;
    } else if (isHexDigit(c)) {
      this.entityResult = this.entityResult * 16 +
        ((c | 32) - CharCodes2.LowerA + 10);
      this.entityExcess++;
    } else {
      if (this.allowLegacyEntity()) {
        this.emitNumericEntity(false);
      } else {
        this.state = this.baseState;
      }
      this.index--;
    }
  }
  allowLegacyEntity() {
    return !this.xmlMode &&
      (this.baseState === State.Text || this.baseState === State.InSpecialTag);
  }
  cleanup() {
    if (this.running && this.sectionStart !== this.index) {
      if (
        this.state === State.Text ||
        this.state === State.InSpecialTag && this.sequenceIndex === 0
      ) {
        this.cbs.ontext(this.sectionStart, this.index);
        this.sectionStart = this.index;
      } else if (
        this.state === State.InAttributeValueDq ||
        this.state === State.InAttributeValueSq ||
        this.state === State.InAttributeValueNq
      ) {
        this.cbs.onattribdata(this.sectionStart, this.index);
        this.sectionStart = this.index;
      }
    }
  }
  shouldContinue() {
    return this.index < this.buffer.length + this.offset && this.running;
  }
  parse() {
    while (this.shouldContinue()) {
      const c = this.buffer.charCodeAt(this.index - this.offset);
      if (this.state === State.Text) {
        this.stateText(c);
      } else if (this.state === State.SpecialStartSequence) {
        this.stateSpecialStartSequence(c);
      } else if (this.state === State.InSpecialTag) {
        this.stateInSpecialTag(c);
      } else if (this.state === State.CDATASequence) {
        this.stateCDATASequence(c);
      } else if (this.state === State.InAttributeValueDq) {
        this.stateInAttributeValueDoubleQuotes(c);
      } else if (this.state === State.InAttributeName) {
        this.stateInAttributeName(c);
      } else if (this.state === State.InCommentLike) {
        this.stateInCommentLike(c);
      } else if (this.state === State.InSpecialComment) {
        this.stateInSpecialComment(c);
      } else if (this.state === State.BeforeAttributeName) {
        this.stateBeforeAttributeName(c);
      } else if (this.state === State.InTagName) {
        this.stateInTagName(c);
      } else if (this.state === State.InClosingTagName) {
        this.stateInClosingTagName(c);
      } else if (this.state === State.BeforeTagName) {
        this.stateBeforeTagName(c);
      } else if (this.state === State.AfterAttributeName) {
        this.stateAfterAttributeName(c);
      } else if (this.state === State.InAttributeValueSq) {
        this.stateInAttributeValueSingleQuotes(c);
      } else if (this.state === State.BeforeAttributeValue) {
        this.stateBeforeAttributeValue(c);
      } else if (this.state === State.BeforeClosingTagName) {
        this.stateBeforeClosingTagName(c);
      } else if (this.state === State.AfterClosingTagName) {
        this.stateAfterClosingTagName(c);
      } else if (this.state === State.BeforeSpecialS) {
        this.stateBeforeSpecialS(c);
      } else if (this.state === State.InAttributeValueNq) {
        this.stateInAttributeValueNoQuotes(c);
      } else if (this.state === State.InSelfClosingTag) {
        this.stateInSelfClosingTag(c);
      } else if (this.state === State.InDeclaration) {
        this.stateInDeclaration(c);
      } else if (this.state === State.BeforeDeclaration) {
        this.stateBeforeDeclaration(c);
      } else if (this.state === State.BeforeComment) {
        this.stateBeforeComment(c);
      } else if (this.state === State.InProcessingInstruction) {
        this.stateInProcessingInstruction(c);
      } else if (this.state === State.InNamedEntity) {
        this.stateInNamedEntity(c);
      } else if (this.state === State.BeforeEntity) {
        this.stateBeforeEntity(c);
      } else if (this.state === State.InHexEntity) {
        this.stateInHexEntity(c);
      } else if (this.state === State.InNumericEntity) {
        this.stateInNumericEntity(c);
      } else {
        this.stateBeforeNumericEntity(c);
      }
      this.index++;
    }
    this.cleanup();
  }
  finish() {
    if (this.state === State.InNamedEntity) {
      this.emitNamedEntity();
    }
    if (this.sectionStart < this.index) {
      this.handleTrailingData();
    }
    this.cbs.onend();
  }
  handleTrailingData() {
    const endIndex = this.buffer.length + this.offset;
    if (this.state === State.InCommentLike) {
      if (this.currentSequence === Sequences.CdataEnd) {
        this.cbs.oncdata(this.sectionStart, endIndex, 0);
      } else {
        this.cbs.oncomment(this.sectionStart, endIndex, 0);
      }
    } else if (
      this.state === State.InNumericEntity && this.allowLegacyEntity()
    ) {
      this.emitNumericEntity(false);
    } else if (this.state === State.InHexEntity && this.allowLegacyEntity()) {
      this.emitNumericEntity(false);
    } else if (
      this.state === State.InTagName ||
      this.state === State.BeforeAttributeName ||
      this.state === State.BeforeAttributeValue ||
      this.state === State.AfterAttributeName ||
      this.state === State.InAttributeName ||
      this.state === State.InAttributeValueSq ||
      this.state === State.InAttributeValueDq ||
      this.state === State.InAttributeValueNq ||
      this.state === State.InClosingTagName
    ) {
    } else {
      this.cbs.ontext(this.sectionStart, endIndex);
    }
  }
  emitPartial(start, endIndex) {
    if (
      this.baseState !== State.Text && this.baseState !== State.InSpecialTag
    ) {
      this.cbs.onattribdata(start, endIndex);
    } else {
      this.cbs.ontext(start, endIndex);
    }
  }
  emitCodePoint(cp) {
    if (
      this.baseState !== State.Text && this.baseState !== State.InSpecialTag
    ) {
      this.cbs.onattribentity(cp);
    } else {
      this.cbs.ontextentity(cp);
    }
  }
};
__name(Tokenizer, "Tokenizer");

// node_modules/htmlparser2/lib/esm/Parser.js
var formTags = /* @__PURE__ */ new Set([
  "input",
  "option",
  "optgroup",
  "select",
  "button",
  "datalist",
  "textarea",
]);
var pTag = /* @__PURE__ */ new Set(["p"]);
var tableSectionTags = /* @__PURE__ */ new Set(["thead", "tbody"]);
var ddtTags = /* @__PURE__ */ new Set(["dd", "dt"]);
var rtpTags = /* @__PURE__ */ new Set(["rt", "rp"]);
var openImpliesClose = /* @__PURE__ */ new Map([
  ["tr", /* @__PURE__ */ new Set(["tr", "th", "td"])],
  ["th", /* @__PURE__ */ new Set(["th"])],
  ["td", /* @__PURE__ */ new Set(["thead", "th", "td"])],
  ["body", /* @__PURE__ */ new Set(["head", "link", "script"])],
  ["li", /* @__PURE__ */ new Set(["li"])],
  ["p", pTag],
  ["h1", pTag],
  ["h2", pTag],
  ["h3", pTag],
  ["h4", pTag],
  ["h5", pTag],
  ["h6", pTag],
  ["select", formTags],
  ["input", formTags],
  ["output", formTags],
  ["button", formTags],
  ["datalist", formTags],
  ["textarea", formTags],
  ["option", /* @__PURE__ */ new Set(["option"])],
  ["optgroup", /* @__PURE__ */ new Set(["optgroup", "option"])],
  ["dd", ddtTags],
  ["dt", ddtTags],
  ["address", pTag],
  ["article", pTag],
  ["aside", pTag],
  ["blockquote", pTag],
  ["details", pTag],
  ["div", pTag],
  ["dl", pTag],
  ["fieldset", pTag],
  ["figcaption", pTag],
  ["figure", pTag],
  ["footer", pTag],
  ["form", pTag],
  ["header", pTag],
  ["hr", pTag],
  ["main", pTag],
  ["nav", pTag],
  ["ol", pTag],
  ["pre", pTag],
  ["section", pTag],
  ["table", pTag],
  ["ul", pTag],
  ["rt", rtpTags],
  ["rp", rtpTags],
  ["tbody", tableSectionTags],
  ["tfoot", tableSectionTags],
]);
var voidElements = /* @__PURE__ */ new Set([
  "area",
  "base",
  "basefont",
  "br",
  "col",
  "command",
  "embed",
  "frame",
  "hr",
  "img",
  "input",
  "isindex",
  "keygen",
  "link",
  "meta",
  "param",
  "source",
  "track",
  "wbr",
]);
var foreignContextElements = /* @__PURE__ */ new Set(["math", "svg"]);
var htmlIntegrationElements = /* @__PURE__ */ new Set([
  "mi",
  "mo",
  "mn",
  "ms",
  "mtext",
  "annotation-xml",
  "foreignobject",
  "desc",
  "title",
]);
var reNameEnd = /\s|\//;
var Parser2 = class {
  constructor(cbs, options = {}) {
    var _a3, _b, _c, _d, _e;
    this.options = options;
    this.startIndex = 0;
    this.endIndex = 0;
    this.openTagStart = 0;
    this.tagname = "";
    this.attribname = "";
    this.attribvalue = "";
    this.attribs = null;
    this.stack = [];
    this.foreignContext = [];
    this.buffers = [];
    this.bufferOffset = 0;
    this.writeIndex = 0;
    this.ended = false;
    this.cbs = cbs !== null && cbs !== void 0 ? cbs : {};
    this.lowerCaseTagNames =
      (_a3 = options.lowerCaseTags) !== null && _a3 !== void 0
        ? _a3
        : !options.xmlMode;
    this.lowerCaseAttributeNames =
      (_b = options.lowerCaseAttributeNames) !== null && _b !== void 0
        ? _b
        : !options.xmlMode;
    this.tokenizer =
      new ((_c = options.Tokenizer) !== null && _c !== void 0 ? _c : Tokenizer)(
        this.options,
        this,
      );
    (_e = (_d = this.cbs).onparserinit) === null || _e === void 0
      ? void 0
      : _e.call(_d, this);
  }
  ontext(start, endIndex) {
    var _a3, _b;
    const data = this.getSlice(start, endIndex);
    this.endIndex = endIndex - 1;
    (_b = (_a3 = this.cbs).ontext) === null || _b === void 0
      ? void 0
      : _b.call(_a3, data);
    this.startIndex = endIndex;
  }
  ontextentity(cp) {
    var _a3, _b;
    const idx = this.tokenizer.getSectionStart();
    this.endIndex = idx - 1;
    (_b = (_a3 = this.cbs).ontext) === null || _b === void 0
      ? void 0
      : _b.call(_a3, fromCodePoint(cp));
    this.startIndex = idx;
  }
  isVoidElement(name) {
    return !this.options.xmlMode && voidElements.has(name);
  }
  onopentagname(start, endIndex) {
    this.endIndex = endIndex;
    let name = this.getSlice(start, endIndex);
    if (this.lowerCaseTagNames) {
      name = name.toLowerCase();
    }
    this.emitOpenTag(name);
  }
  emitOpenTag(name) {
    var _a3, _b, _c, _d;
    this.openTagStart = this.startIndex;
    this.tagname = name;
    const impliesClose = !this.options.xmlMode && openImpliesClose.get(name);
    if (impliesClose) {
      while (
        this.stack.length > 0 &&
        impliesClose.has(this.stack[this.stack.length - 1])
      ) {
        const el = this.stack.pop();
        (_b = (_a3 = this.cbs).onclosetag) === null || _b === void 0
          ? void 0
          : _b.call(_a3, el, true);
      }
    }
    if (!this.isVoidElement(name)) {
      this.stack.push(name);
      if (foreignContextElements.has(name)) {
        this.foreignContext.push(true);
      } else if (htmlIntegrationElements.has(name)) {
        this.foreignContext.push(false);
      }
    }
    (_d = (_c = this.cbs).onopentagname) === null || _d === void 0
      ? void 0
      : _d.call(_c, name);
    if (this.cbs.onopentag) {
      this.attribs = {};
    }
  }
  endOpenTag(isImplied) {
    var _a3, _b;
    this.startIndex = this.openTagStart;
    if (this.attribs) {
      (_b = (_a3 = this.cbs).onopentag) === null || _b === void 0
        ? void 0
        : _b.call(_a3, this.tagname, this.attribs, isImplied);
      this.attribs = null;
    }
    if (this.cbs.onclosetag && this.isVoidElement(this.tagname)) {
      this.cbs.onclosetag(this.tagname, true);
    }
    this.tagname = "";
  }
  onopentagend(endIndex) {
    this.endIndex = endIndex;
    this.endOpenTag(false);
    this.startIndex = endIndex + 1;
  }
  onclosetag(start, endIndex) {
    var _a3, _b, _c, _d, _e, _f;
    this.endIndex = endIndex;
    let name = this.getSlice(start, endIndex);
    if (this.lowerCaseTagNames) {
      name = name.toLowerCase();
    }
    if (foreignContextElements.has(name) || htmlIntegrationElements.has(name)) {
      this.foreignContext.pop();
    }
    if (!this.isVoidElement(name)) {
      const pos = this.stack.lastIndexOf(name);
      if (pos !== -1) {
        if (this.cbs.onclosetag) {
          let count = this.stack.length - pos;
          while (count--) {
            this.cbs.onclosetag(this.stack.pop(), count !== 0);
          }
        } else {
          this.stack.length = pos;
        }
      } else if (!this.options.xmlMode && name === "p") {
        this.emitOpenTag("p");
        this.closeCurrentTag(true);
      }
    } else if (!this.options.xmlMode && name === "br") {
      (_b = (_a3 = this.cbs).onopentagname) === null || _b === void 0
        ? void 0
        : _b.call(_a3, "br");
      (_d = (_c = this.cbs).onopentag) === null || _d === void 0
        ? void 0
        : _d.call(_c, "br", {}, true);
      (_f = (_e = this.cbs).onclosetag) === null || _f === void 0
        ? void 0
        : _f.call(_e, "br", false);
    }
    this.startIndex = endIndex + 1;
  }
  onselfclosingtag(endIndex) {
    this.endIndex = endIndex;
    if (
      this.options.xmlMode || this.options.recognizeSelfClosing ||
      this.foreignContext[this.foreignContext.length - 1]
    ) {
      this.closeCurrentTag(false);
      this.startIndex = endIndex + 1;
    } else {
      this.onopentagend(endIndex);
    }
  }
  closeCurrentTag(isOpenImplied) {
    var _a3, _b;
    const name = this.tagname;
    this.endOpenTag(isOpenImplied);
    if (this.stack[this.stack.length - 1] === name) {
      (_b = (_a3 = this.cbs).onclosetag) === null || _b === void 0
        ? void 0
        : _b.call(_a3, name, !isOpenImplied);
      this.stack.pop();
    }
  }
  onattribname(start, endIndex) {
    this.startIndex = start;
    const name = this.getSlice(start, endIndex);
    this.attribname = this.lowerCaseAttributeNames ? name.toLowerCase() : name;
  }
  onattribdata(start, endIndex) {
    this.attribvalue += this.getSlice(start, endIndex);
  }
  onattribentity(cp) {
    this.attribvalue += fromCodePoint(cp);
  }
  onattribend(quote, endIndex) {
    var _a3, _b;
    this.endIndex = endIndex;
    (_b = (_a3 = this.cbs).onattribute) === null || _b === void 0
      ? void 0
      : _b.call(
        _a3,
        this.attribname,
        this.attribvalue,
        quote === QuoteType.Double
          ? '"'
          : quote === QuoteType.Single
          ? "'"
          : quote === QuoteType.NoValue
          ? void 0
          : null,
      );
    if (
      this.attribs &&
      !Object.prototype.hasOwnProperty.call(this.attribs, this.attribname)
    ) {
      this.attribs[this.attribname] = this.attribvalue;
    }
    this.attribvalue = "";
  }
  getInstructionName(value) {
    const idx = value.search(reNameEnd);
    let name = idx < 0 ? value : value.substr(0, idx);
    if (this.lowerCaseTagNames) {
      name = name.toLowerCase();
    }
    return name;
  }
  ondeclaration(start, endIndex) {
    this.endIndex = endIndex;
    const value = this.getSlice(start, endIndex);
    if (this.cbs.onprocessinginstruction) {
      const name = this.getInstructionName(value);
      this.cbs.onprocessinginstruction(`!${name}`, `!${value}`);
    }
    this.startIndex = endIndex + 1;
  }
  onprocessinginstruction(start, endIndex) {
    this.endIndex = endIndex;
    const value = this.getSlice(start, endIndex);
    if (this.cbs.onprocessinginstruction) {
      const name = this.getInstructionName(value);
      this.cbs.onprocessinginstruction(`?${name}`, `?${value}`);
    }
    this.startIndex = endIndex + 1;
  }
  oncomment(start, endIndex, offset) {
    var _a3, _b, _c, _d;
    this.endIndex = endIndex;
    (_b = (_a3 = this.cbs).oncomment) === null || _b === void 0
      ? void 0
      : _b.call(_a3, this.getSlice(start, endIndex - offset));
    (_d = (_c = this.cbs).oncommentend) === null || _d === void 0
      ? void 0
      : _d.call(_c);
    this.startIndex = endIndex + 1;
  }
  oncdata(start, endIndex, offset) {
    var _a3, _b, _c, _d, _e, _f, _g, _h, _j, _k;
    this.endIndex = endIndex;
    const value = this.getSlice(start, endIndex - offset);
    if (this.options.xmlMode || this.options.recognizeCDATA) {
      (_b = (_a3 = this.cbs).oncdatastart) === null || _b === void 0
        ? void 0
        : _b.call(_a3);
      (_d = (_c = this.cbs).ontext) === null || _d === void 0
        ? void 0
        : _d.call(_c, value);
      (_f = (_e = this.cbs).oncdataend) === null || _f === void 0
        ? void 0
        : _f.call(_e);
    } else {
      (_h = (_g = this.cbs).oncomment) === null || _h === void 0
        ? void 0
        : _h.call(_g, `[CDATA[${value}]]`);
      (_k = (_j = this.cbs).oncommentend) === null || _k === void 0
        ? void 0
        : _k.call(_j);
    }
    this.startIndex = endIndex + 1;
  }
  onend() {
    var _a3, _b;
    if (this.cbs.onclosetag) {
      this.endIndex = this.startIndex;
      for (
        let i = this.stack.length;
        i > 0;
        this.cbs.onclosetag(this.stack[--i], true)
      );
    }
    (_b = (_a3 = this.cbs).onend) === null || _b === void 0
      ? void 0
      : _b.call(_a3);
  }
  reset() {
    var _a3, _b, _c, _d;
    (_b = (_a3 = this.cbs).onreset) === null || _b === void 0
      ? void 0
      : _b.call(_a3);
    this.tokenizer.reset();
    this.tagname = "";
    this.attribname = "";
    this.attribs = null;
    this.stack.length = 0;
    this.startIndex = 0;
    this.endIndex = 0;
    (_d = (_c = this.cbs).onparserinit) === null || _d === void 0
      ? void 0
      : _d.call(_c, this);
    this.buffers.length = 0;
    this.bufferOffset = 0;
    this.writeIndex = 0;
    this.ended = false;
  }
  parseComplete(data) {
    this.reset();
    this.end(data);
  }
  getSlice(start, end) {
    while (start - this.bufferOffset >= this.buffers[0].length) {
      this.shiftBuffer();
    }
    let str = this.buffers[0].slice(
      start - this.bufferOffset,
      end - this.bufferOffset,
    );
    while (end - this.bufferOffset > this.buffers[0].length) {
      this.shiftBuffer();
      str += this.buffers[0].slice(0, end - this.bufferOffset);
    }
    return str;
  }
  shiftBuffer() {
    this.bufferOffset += this.buffers[0].length;
    this.writeIndex--;
    this.buffers.shift();
  }
  write(chunk) {
    var _a3, _b;
    if (this.ended) {
      (_b = (_a3 = this.cbs).onerror) === null || _b === void 0
        ? void 0
        : _b.call(_a3, new Error(".write() after done!"));
      return;
    }
    this.buffers.push(chunk);
    if (this.tokenizer.running) {
      this.tokenizer.write(chunk);
      this.writeIndex++;
    }
  }
  end(chunk) {
    var _a3, _b;
    if (this.ended) {
      (_b = (_a3 = this.cbs).onerror) === null || _b === void 0
        ? void 0
        : _b.call(_a3, Error(".end() after done!"));
      return;
    }
    if (chunk) {
      this.write(chunk);
    }
    this.ended = true;
    this.tokenizer.end();
  }
  pause() {
    this.tokenizer.pause();
  }
  resume() {
    this.tokenizer.resume();
    while (this.tokenizer.running && this.writeIndex < this.buffers.length) {
      this.tokenizer.write(this.buffers[this.writeIndex++]);
    }
    if (this.ended) {
      this.tokenizer.end();
    }
  }
  parseChunk(chunk) {
    this.write(chunk);
  }
  done(chunk) {
    this.end(chunk);
  }
};
__name(Parser2, "Parser");

// node_modules/domelementtype/lib/esm/index.js
var esm_exports = {};
__export(esm_exports, {
  CDATA: () => CDATA,
  Comment: () => Comment2,
  Directive: () => Directive,
  Doctype: () => Doctype,
  ElementType: () => ElementType,
  Root: () => Root,
  Script: () => Script,
  Style: () => Style,
  Tag: () => Tag,
  Text: () => Text2,
  isTag: () => isTag,
});
var ElementType;
(function (ElementType2) {
  ElementType2["Root"] = "root";
  ElementType2["Text"] = "text";
  ElementType2["Directive"] = "directive";
  ElementType2["Comment"] = "comment";
  ElementType2["Script"] = "script";
  ElementType2["Style"] = "style";
  ElementType2["Tag"] = "tag";
  ElementType2["CDATA"] = "cdata";
  ElementType2["Doctype"] = "doctype";
})(ElementType || (ElementType = {}));
function isTag(elem) {
  return elem.type === ElementType.Tag || elem.type === ElementType.Script ||
    elem.type === ElementType.Style;
}
__name(isTag, "isTag");
var Root = ElementType.Root;
var Text2 = ElementType.Text;
var Directive = ElementType.Directive;
var Comment2 = ElementType.Comment;
var Script = ElementType.Script;
var Style = ElementType.Style;
var Tag = ElementType.Tag;
var CDATA = ElementType.CDATA;
var Doctype = ElementType.Doctype;

// node_modules/domhandler/lib/esm/node.js
var Node = class {
  constructor() {
    this.parent = null;
    this.prev = null;
    this.next = null;
    this.startIndex = null;
    this.endIndex = null;
  }
  get parentNode() {
    return this.parent;
  }
  set parentNode(parent) {
    this.parent = parent;
  }
  get previousSibling() {
    return this.prev;
  }
  set previousSibling(prev) {
    this.prev = prev;
  }
  get nextSibling() {
    return this.next;
  }
  set nextSibling(next) {
    this.next = next;
  }
  cloneNode(recursive = false) {
    return cloneNode(this, recursive);
  }
};
__name(Node, "Node");
var DataNode = class extends Node {
  constructor(data) {
    super();
    this.data = data;
  }
  get nodeValue() {
    return this.data;
  }
  set nodeValue(data) {
    this.data = data;
  }
};
__name(DataNode, "DataNode");
var Text3 = class extends DataNode {
  constructor() {
    super(...arguments);
    this.type = ElementType.Text;
  }
  get nodeType() {
    return 3;
  }
};
__name(Text3, "Text");
var Comment3 = class extends DataNode {
  constructor() {
    super(...arguments);
    this.type = ElementType.Comment;
  }
  get nodeType() {
    return 8;
  }
};
__name(Comment3, "Comment");
var ProcessingInstruction = class extends DataNode {
  constructor(name, data) {
    super(data);
    this.name = name;
    this.type = ElementType.Directive;
  }
  get nodeType() {
    return 1;
  }
};
__name(ProcessingInstruction, "ProcessingInstruction");
var NodeWithChildren = class extends Node {
  constructor(children) {
    super();
    this.children = children;
  }
  get firstChild() {
    var _a3;
    return (_a3 = this.children[0]) !== null && _a3 !== void 0 ? _a3 : null;
  }
  get lastChild() {
    return this.children.length > 0
      ? this.children[this.children.length - 1]
      : null;
  }
  get childNodes() {
    return this.children;
  }
  set childNodes(children) {
    this.children = children;
  }
};
__name(NodeWithChildren, "NodeWithChildren");
var CDATA2 = class extends NodeWithChildren {
  constructor() {
    super(...arguments);
    this.type = ElementType.CDATA;
  }
  get nodeType() {
    return 4;
  }
};
__name(CDATA2, "CDATA");
var Document = class extends NodeWithChildren {
  constructor() {
    super(...arguments);
    this.type = ElementType.Root;
  }
  get nodeType() {
    return 9;
  }
};
__name(Document, "Document");
var Element2 = class extends NodeWithChildren {
  constructor(
    name,
    attribs,
    children = [],
    type = name === "script"
      ? ElementType.Script
      : name === "style"
      ? ElementType.Style
      : ElementType.Tag,
  ) {
    super(children);
    this.name = name;
    this.attribs = attribs;
    this.type = type;
  }
  get nodeType() {
    return 1;
  }
  get tagName() {
    return this.name;
  }
  set tagName(name) {
    this.name = name;
  }
  get attributes() {
    return Object.keys(this.attribs).map((name) => {
      var _a3, _b;
      return {
        name,
        value: this.attribs[name],
        namespace: (_a3 = this["x-attribsNamespace"]) === null || _a3 === void 0
          ? void 0
          : _a3[name],
        prefix: (_b = this["x-attribsPrefix"]) === null || _b === void 0
          ? void 0
          : _b[name],
      };
    });
  }
};
__name(Element2, "Element");
function isTag2(node) {
  return isTag(node);
}
__name(isTag2, "isTag");
function isCDATA(node) {
  return node.type === ElementType.CDATA;
}
__name(isCDATA, "isCDATA");
function isText(node) {
  return node.type === ElementType.Text;
}
__name(isText, "isText");
function isComment(node) {
  return node.type === ElementType.Comment;
}
__name(isComment, "isComment");
function isDirective(node) {
  return node.type === ElementType.Directive;
}
__name(isDirective, "isDirective");
function isDocument(node) {
  return node.type === ElementType.Root;
}
__name(isDocument, "isDocument");
function hasChildren(node) {
  return Object.prototype.hasOwnProperty.call(node, "children");
}
__name(hasChildren, "hasChildren");
function cloneNode(node, recursive = false) {
  let result;
  if (isText(node)) {
    result = new Text3(node.data);
  } else if (isComment(node)) {
    result = new Comment3(node.data);
  } else if (isTag2(node)) {
    const children = recursive ? cloneChildren(node.children) : [];
    const clone = new Element2(
      node.name,
      __spreadValues({}, node.attribs),
      children,
    );
    children.forEach((child) => child.parent = clone);
    if (node.namespace != null) {
      clone.namespace = node.namespace;
    }
    if (node["x-attribsNamespace"]) {
      clone["x-attribsNamespace"] = __spreadValues(
        {},
        node["x-attribsNamespace"],
      );
    }
    if (node["x-attribsPrefix"]) {
      clone["x-attribsPrefix"] = __spreadValues({}, node["x-attribsPrefix"]);
    }
    result = clone;
  } else if (isCDATA(node)) {
    const children = recursive ? cloneChildren(node.children) : [];
    const clone = new CDATA2(children);
    children.forEach((child) => child.parent = clone);
    result = clone;
  } else if (isDocument(node)) {
    const children = recursive ? cloneChildren(node.children) : [];
    const clone = new Document(children);
    children.forEach((child) => child.parent = clone);
    if (node["x-mode"]) {
      clone["x-mode"] = node["x-mode"];
    }
    result = clone;
  } else if (isDirective(node)) {
    const instruction = new ProcessingInstruction(node.name, node.data);
    if (node["x-name"] != null) {
      instruction["x-name"] = node["x-name"];
      instruction["x-publicId"] = node["x-publicId"];
      instruction["x-systemId"] = node["x-systemId"];
    }
    result = instruction;
  } else {
    throw new Error(`Not implemented yet: ${node.type}`);
  }
  result.startIndex = node.startIndex;
  result.endIndex = node.endIndex;
  if (node.sourceCodeLocation != null) {
    result.sourceCodeLocation = node.sourceCodeLocation;
  }
  return result;
}
__name(cloneNode, "cloneNode");
function cloneChildren(childs) {
  const children = childs.map((child) => cloneNode(child, true));
  for (let i = 1; i < children.length; i++) {
    children[i].prev = children[i - 1];
    children[i - 1].next = children[i];
  }
  return children;
}
__name(cloneChildren, "cloneChildren");

// node_modules/domhandler/lib/esm/index.js
var defaultOpts = {
  withStartIndices: false,
  withEndIndices: false,
  xmlMode: false,
};
var DomHandler = class {
  constructor(callback, options, elementCB) {
    this.dom = [];
    this.root = new Document(this.dom);
    this.done = false;
    this.tagStack = [this.root];
    this.lastNode = null;
    this.parser = null;
    if (typeof options === "function") {
      elementCB = options;
      options = defaultOpts;
    }
    if (typeof callback === "object") {
      options = callback;
      callback = void 0;
    }
    this.callback = callback !== null && callback !== void 0 ? callback : null;
    this.options = options !== null && options !== void 0
      ? options
      : defaultOpts;
    this.elementCB = elementCB !== null && elementCB !== void 0
      ? elementCB
      : null;
  }
  onparserinit(parser) {
    this.parser = parser;
  }
  onreset() {
    this.dom = [];
    this.root = new Document(this.dom);
    this.done = false;
    this.tagStack = [this.root];
    this.lastNode = null;
    this.parser = null;
  }
  onend() {
    if (this.done) {
      return;
    }
    this.done = true;
    this.parser = null;
    this.handleCallback(null);
  }
  onerror(error) {
    this.handleCallback(error);
  }
  onclosetag() {
    this.lastNode = null;
    const elem = this.tagStack.pop();
    if (this.options.withEndIndices) {
      elem.endIndex = this.parser.endIndex;
    }
    if (this.elementCB) {
      this.elementCB(elem);
    }
  }
  onopentag(name, attribs) {
    const type = this.options.xmlMode ? ElementType.Tag : void 0;
    const element = new Element2(name, attribs, void 0, type);
    this.addNode(element);
    this.tagStack.push(element);
  }
  ontext(data) {
    const { lastNode } = this;
    if (lastNode && lastNode.type === ElementType.Text) {
      lastNode.data += data;
      if (this.options.withEndIndices) {
        lastNode.endIndex = this.parser.endIndex;
      }
    } else {
      const node = new Text3(data);
      this.addNode(node);
      this.lastNode = node;
    }
  }
  oncomment(data) {
    if (this.lastNode && this.lastNode.type === ElementType.Comment) {
      this.lastNode.data += data;
      return;
    }
    const node = new Comment3(data);
    this.addNode(node);
    this.lastNode = node;
  }
  oncommentend() {
    this.lastNode = null;
  }
  oncdatastart() {
    const text = new Text3("");
    const node = new CDATA2([text]);
    this.addNode(node);
    text.parent = node;
    this.lastNode = text;
  }
  oncdataend() {
    this.lastNode = null;
  }
  onprocessinginstruction(name, data) {
    const node = new ProcessingInstruction(name, data);
    this.addNode(node);
  }
  handleCallback(error) {
    if (typeof this.callback === "function") {
      this.callback(error, this.dom);
    } else if (error) {
      throw error;
    }
  }
  addNode(node) {
    const parent = this.tagStack[this.tagStack.length - 1];
    const previousSibling2 = parent.children[parent.children.length - 1];
    if (this.options.withStartIndices) {
      node.startIndex = this.parser.startIndex;
    }
    if (this.options.withEndIndices) {
      node.endIndex = this.parser.endIndex;
    }
    parent.children.push(node);
    if (previousSibling2) {
      node.prev = previousSibling2;
      previousSibling2.next = node;
    }
    node.parent = parent;
    this.lastNode = null;
  }
};
__name(DomHandler, "DomHandler");

// node_modules/domutils/lib/esm/index.js
var esm_exports2 = {};
__export(esm_exports2, {
  DocumentPosition: () => DocumentPosition,
  append: () => append,
  appendChild: () => appendChild,
  compareDocumentPosition: () => compareDocumentPosition,
  existsOne: () => existsOne,
  filter: () => filter,
  find: () => find,
  findAll: () => findAll,
  findOne: () => findOne,
  findOneChild: () => findOneChild,
  getAttributeValue: () => getAttributeValue,
  getChildren: () => getChildren,
  getElementById: () => getElementById,
  getElements: () => getElements,
  getElementsByTagName: () => getElementsByTagName,
  getElementsByTagType: () => getElementsByTagType,
  getFeed: () => getFeed,
  getInnerHTML: () => getInnerHTML,
  getName: () => getName,
  getOuterHTML: () => getOuterHTML,
  getParent: () => getParent,
  getSiblings: () => getSiblings,
  getText: () => getText,
  hasAttrib: () => hasAttrib,
  hasChildren: () => hasChildren,
  innerText: () => innerText,
  isCDATA: () => isCDATA,
  isComment: () => isComment,
  isDocument: () => isDocument,
  isTag: () => isTag2,
  isText: () => isText,
  nextElementSibling: () => nextElementSibling,
  prepend: () => prepend,
  prependChild: () => prependChild,
  prevElementSibling: () => prevElementSibling,
  removeElement: () => removeElement,
  removeSubsets: () => removeSubsets,
  replaceElement: () => replaceElement,
  testElement: () => testElement,
  textContent: () => textContent,
  uniqueSort: () => uniqueSort,
});

// node_modules/entities/lib/esm/escape.js
var xmlReplacer = /["&'<>$\x80-\uFFFF]/g;
var xmlCodeMap = /* @__PURE__ */ new Map([
  [34, "&quot;"],
  [38, "&amp;"],
  [39, "&apos;"],
  [60, "&lt;"],
  [62, "&gt;"],
]);
var getCodePoint = String.prototype.codePointAt != null
  ? (str, index) => str.codePointAt(index)
  : (c, index) =>
    (c.charCodeAt(index) & 64512) === 55296
      ? (c.charCodeAt(index) - 55296) * 1024 + c.charCodeAt(index + 1) - 56320 +
        65536
      : c.charCodeAt(index);
function encodeXML(str) {
  let ret = "";
  let lastIdx = 0;
  let match;
  while ((match = xmlReplacer.exec(str)) !== null) {
    const i = match.index;
    const char = str.charCodeAt(i);
    const next = xmlCodeMap.get(char);
    if (next !== void 0) {
      ret += str.substring(lastIdx, i) + next;
      lastIdx = i + 1;
    } else {
      ret += `${str.substring(lastIdx, i)}&#x${
        getCodePoint(str, i).toString(16)
      };`;
      lastIdx = xmlReplacer.lastIndex += Number((char & 64512) === 55296);
    }
  }
  return ret + str.substr(lastIdx);
}
__name(encodeXML, "encodeXML");
function getEscaper(regex, map2) {
  return /* @__PURE__ */ __name(function escape3(data) {
    let match;
    let lastIdx = 0;
    let result = "";
    while (match = regex.exec(data)) {
      if (lastIdx !== match.index) {
        result += data.substring(lastIdx, match.index);
      }
      result += map2.get(match[0].charCodeAt(0));
      lastIdx = match.index + 1;
    }
    return result + data.substring(lastIdx);
  }, "escape");
}
__name(getEscaper, "getEscaper");
var escapeUTF8 = getEscaper(/[&<>'"]/g, xmlCodeMap);
var escapeAttribute = getEscaper(
  /["&\u00A0]/g,
  /* @__PURE__ */ new Map([
    [34, "&quot;"],
    [38, "&amp;"],
    [160, "&nbsp;"],
  ]),
);
var escapeText = getEscaper(
  /[&<>\u00A0]/g,
  /* @__PURE__ */ new Map([
    [38, "&amp;"],
    [60, "&lt;"],
    [62, "&gt;"],
    [160, "&nbsp;"],
  ]),
);

// node_modules/entities/lib/esm/index.js
var EntityLevel;
(function (EntityLevel2) {
  EntityLevel2[EntityLevel2["XML"] = 0] = "XML";
  EntityLevel2[EntityLevel2["HTML"] = 1] = "HTML";
})(EntityLevel || (EntityLevel = {}));
var DecodingMode;
(function (DecodingMode2) {
  DecodingMode2[DecodingMode2["Legacy"] = 0] = "Legacy";
  DecodingMode2[DecodingMode2["Strict"] = 1] = "Strict";
})(DecodingMode || (DecodingMode = {}));
var EncodingMode;
(function (EncodingMode2) {
  EncodingMode2[EncodingMode2["UTF8"] = 0] = "UTF8";
  EncodingMode2[EncodingMode2["ASCII"] = 1] = "ASCII";
  EncodingMode2[EncodingMode2["Extensive"] = 2] = "Extensive";
  EncodingMode2[EncodingMode2["Attribute"] = 3] = "Attribute";
  EncodingMode2[EncodingMode2["Text"] = 4] = "Text";
})(EncodingMode || (EncodingMode = {}));

// node_modules/dom-serializer/lib/esm/foreignNames.js
var elementNames = new Map([
  "altGlyph",
  "altGlyphDef",
  "altGlyphItem",
  "animateColor",
  "animateMotion",
  "animateTransform",
  "clipPath",
  "feBlend",
  "feColorMatrix",
  "feComponentTransfer",
  "feComposite",
  "feConvolveMatrix",
  "feDiffuseLighting",
  "feDisplacementMap",
  "feDistantLight",
  "feDropShadow",
  "feFlood",
  "feFuncA",
  "feFuncB",
  "feFuncG",
  "feFuncR",
  "feGaussianBlur",
  "feImage",
  "feMerge",
  "feMergeNode",
  "feMorphology",
  "feOffset",
  "fePointLight",
  "feSpecularLighting",
  "feSpotLight",
  "feTile",
  "feTurbulence",
  "foreignObject",
  "glyphRef",
  "linearGradient",
  "radialGradient",
  "textPath",
].map((val) => [val.toLowerCase(), val]));
var attributeNames = new Map([
  "definitionURL",
  "attributeName",
  "attributeType",
  "baseFrequency",
  "baseProfile",
  "calcMode",
  "clipPathUnits",
  "diffuseConstant",
  "edgeMode",
  "filterUnits",
  "glyphRef",
  "gradientTransform",
  "gradientUnits",
  "kernelMatrix",
  "kernelUnitLength",
  "keyPoints",
  "keySplines",
  "keyTimes",
  "lengthAdjust",
  "limitingConeAngle",
  "markerHeight",
  "markerUnits",
  "markerWidth",
  "maskContentUnits",
  "maskUnits",
  "numOctaves",
  "pathLength",
  "patternContentUnits",
  "patternTransform",
  "patternUnits",
  "pointsAtX",
  "pointsAtY",
  "pointsAtZ",
  "preserveAlpha",
  "preserveAspectRatio",
  "primitiveUnits",
  "refX",
  "refY",
  "repeatCount",
  "repeatDur",
  "requiredExtensions",
  "requiredFeatures",
  "specularConstant",
  "specularExponent",
  "spreadMethod",
  "startOffset",
  "stdDeviation",
  "stitchTiles",
  "surfaceScale",
  "systemLanguage",
  "tableValues",
  "targetX",
  "targetY",
  "textLength",
  "viewBox",
  "viewTarget",
  "xChannelSelector",
  "yChannelSelector",
  "zoomAndPan",
].map((val) => [val.toLowerCase(), val]));

// node_modules/dom-serializer/lib/esm/index.js
var unencodedElements = /* @__PURE__ */ new Set([
  "style",
  "script",
  "xmp",
  "iframe",
  "noembed",
  "noframes",
  "plaintext",
  "noscript",
]);
function replaceQuotes(value) {
  return value.replace(/"/g, "&quot;");
}
__name(replaceQuotes, "replaceQuotes");
function formatAttributes(attributes2, opts) {
  var _a3;
  if (!attributes2) {
    return;
  }
  const encode =
    ((_a3 = opts.encodeEntities) !== null && _a3 !== void 0
        ? _a3
        : opts.decodeEntities) === false
      ? replaceQuotes
      : opts.xmlMode || opts.encodeEntities !== "utf8"
      ? encodeXML
      : escapeAttribute;
  return Object.keys(attributes2).map((key2) => {
    var _a4, _b;
    const value = (_a4 = attributes2[key2]) !== null && _a4 !== void 0
      ? _a4
      : "";
    if (opts.xmlMode === "foreign") {
      key2 = (_b = attributeNames.get(key2)) !== null && _b !== void 0
        ? _b
        : key2;
    }
    if (!opts.emptyAttrs && !opts.xmlMode && value === "") {
      return key2;
    }
    return `${key2}="${encode(value)}"`;
  }).join(" ");
}
__name(formatAttributes, "formatAttributes");
var singleTag = /* @__PURE__ */ new Set([
  "area",
  "base",
  "basefont",
  "br",
  "col",
  "command",
  "embed",
  "frame",
  "hr",
  "img",
  "input",
  "isindex",
  "keygen",
  "link",
  "meta",
  "param",
  "source",
  "track",
  "wbr",
]);
function render(node, options = {}) {
  const nodes = "length" in node ? node : [node];
  let output = "";
  for (let i = 0; i < nodes.length; i++) {
    output += renderNode(nodes[i], options);
  }
  return output;
}
__name(render, "render");
var esm_default = render;
function renderNode(node, options) {
  switch (node.type) {
    case Root:
      return render(node.children, options);
    case Doctype:
    case Directive:
      return renderDirective(node);
    case Comment2:
      return renderComment(node);
    case CDATA:
      return renderCdata(node);
    case Script:
    case Style:
    case Tag:
      return renderTag(node, options);
    case Text2:
      return renderText(node, options);
  }
}
__name(renderNode, "renderNode");
var foreignModeIntegrationPoints = /* @__PURE__ */ new Set([
  "mi",
  "mo",
  "mn",
  "ms",
  "mtext",
  "annotation-xml",
  "foreignObject",
  "desc",
  "title",
]);
var foreignElements = /* @__PURE__ */ new Set(["svg", "math"]);
function renderTag(elem, opts) {
  var _a3;
  if (opts.xmlMode === "foreign") {
    elem.name = (_a3 = elementNames.get(elem.name)) !== null && _a3 !== void 0
      ? _a3
      : elem.name;
    if (elem.parent && foreignModeIntegrationPoints.has(elem.parent.name)) {
      opts = __spreadProps(__spreadValues({}, opts), { xmlMode: false });
    }
  }
  if (!opts.xmlMode && foreignElements.has(elem.name)) {
    opts = __spreadProps(__spreadValues({}, opts), { xmlMode: "foreign" });
  }
  let tag = `<${elem.name}`;
  const attribs = formatAttributes(elem.attribs, opts);
  if (attribs) {
    tag += ` ${attribs}`;
  }
  if (
    elem.children.length === 0 && (opts.xmlMode
      ? opts.selfClosingTags !== false
      : opts.selfClosingTags && singleTag.has(elem.name))
  ) {
    if (!opts.xmlMode) {
      tag += " ";
    }
    tag += "/>";
  } else {
    tag += ">";
    if (elem.children.length > 0) {
      tag += render(elem.children, opts);
    }
    if (opts.xmlMode || !singleTag.has(elem.name)) {
      tag += `</${elem.name}>`;
    }
  }
  return tag;
}
__name(renderTag, "renderTag");
function renderDirective(elem) {
  return `<${elem.data}>`;
}
__name(renderDirective, "renderDirective");
function renderText(elem, opts) {
  var _a3;
  let data = elem.data || "";
  if (
    ((_a3 = opts.encodeEntities) !== null && _a3 !== void 0
        ? _a3
        : opts.decodeEntities) !== false &&
    !(!opts.xmlMode && elem.parent && unencodedElements.has(elem.parent.name))
  ) {
    data = opts.xmlMode || opts.encodeEntities !== "utf8"
      ? encodeXML(data)
      : escapeText(data);
  }
  return data;
}
__name(renderText, "renderText");
function renderCdata(elem) {
  return `<![CDATA[${elem.children[0].data}]]>`;
}
__name(renderCdata, "renderCdata");
function renderComment(elem) {
  return `<!--${elem.data}-->`;
}
__name(renderComment, "renderComment");

// node_modules/domutils/lib/esm/stringify.js
function getOuterHTML(node, options) {
  return esm_default(node, options);
}
__name(getOuterHTML, "getOuterHTML");
function getInnerHTML(node, options) {
  return hasChildren(node)
    ? node.children.map((node2) => getOuterHTML(node2, options)).join("")
    : "";
}
__name(getInnerHTML, "getInnerHTML");
function getText(node) {
  if (Array.isArray(node)) {
    return node.map(getText).join("");
  }
  if (isTag2(node)) {
    return node.name === "br" ? "\n" : getText(node.children);
  }
  if (isCDATA(node)) {
    return getText(node.children);
  }
  if (isText(node)) {
    return node.data;
  }
  return "";
}
__name(getText, "getText");
function textContent(node) {
  if (Array.isArray(node)) {
    return node.map(textContent).join("");
  }
  if (hasChildren(node) && !isComment(node)) {
    return textContent(node.children);
  }
  if (isText(node)) {
    return node.data;
  }
  return "";
}
__name(textContent, "textContent");
function innerText(node) {
  if (Array.isArray(node)) {
    return node.map(innerText).join("");
  }
  if (hasChildren(node) && (node.type === ElementType.Tag || isCDATA(node))) {
    return innerText(node.children);
  }
  if (isText(node)) {
    return node.data;
  }
  return "";
}
__name(innerText, "innerText");

// node_modules/domutils/lib/esm/traversal.js
function getChildren(elem) {
  return hasChildren(elem) ? elem.children : [];
}
__name(getChildren, "getChildren");
function getParent(elem) {
  return elem.parent || null;
}
__name(getParent, "getParent");
function getSiblings(elem) {
  const parent = getParent(elem);
  if (parent != null) {
    return getChildren(parent);
  }
  const siblings = [elem];
  let { prev, next } = elem;
  while (prev != null) {
    siblings.unshift(prev);
    ({ prev } = prev);
  }
  while (next != null) {
    siblings.push(next);
    ({ next } = next);
  }
  return siblings;
}
__name(getSiblings, "getSiblings");
function getAttributeValue(elem, name) {
  var _a3;
  return (_a3 = elem.attribs) === null || _a3 === void 0 ? void 0 : _a3[name];
}
__name(getAttributeValue, "getAttributeValue");
function hasAttrib(elem, name) {
  return elem.attribs != null &&
    Object.prototype.hasOwnProperty.call(elem.attribs, name) &&
    elem.attribs[name] != null;
}
__name(hasAttrib, "hasAttrib");
function getName(elem) {
  return elem.name;
}
__name(getName, "getName");
function nextElementSibling(elem) {
  let { next } = elem;
  while (next !== null && !isTag2(next)) {
    ({ next } = next);
  }
  return next;
}
__name(nextElementSibling, "nextElementSibling");
function prevElementSibling(elem) {
  let { prev } = elem;
  while (prev !== null && !isTag2(prev)) {
    ({ prev } = prev);
  }
  return prev;
}
__name(prevElementSibling, "prevElementSibling");

// node_modules/domutils/lib/esm/manipulation.js
function removeElement(elem) {
  if (elem.prev) {
    elem.prev.next = elem.next;
  }
  if (elem.next) {
    elem.next.prev = elem.prev;
  }
  if (elem.parent) {
    const childs = elem.parent.children;
    childs.splice(childs.lastIndexOf(elem), 1);
  }
}
__name(removeElement, "removeElement");
function replaceElement(elem, replacement) {
  const prev = replacement.prev = elem.prev;
  if (prev) {
    prev.next = replacement;
  }
  const next = replacement.next = elem.next;
  if (next) {
    next.prev = replacement;
  }
  const parent = replacement.parent = elem.parent;
  if (parent) {
    const childs = parent.children;
    childs[childs.lastIndexOf(elem)] = replacement;
    elem.parent = null;
  }
}
__name(replaceElement, "replaceElement");
function appendChild(elem, child) {
  removeElement(child);
  child.next = null;
  child.parent = elem;
  if (elem.children.push(child) > 1) {
    const sibling = elem.children[elem.children.length - 2];
    sibling.next = child;
    child.prev = sibling;
  } else {
    child.prev = null;
  }
}
__name(appendChild, "appendChild");
function append(elem, next) {
  removeElement(next);
  const { parent } = elem;
  const currNext = elem.next;
  next.next = currNext;
  next.prev = elem;
  elem.next = next;
  next.parent = parent;
  if (currNext) {
    currNext.prev = next;
    if (parent) {
      const childs = parent.children;
      childs.splice(childs.lastIndexOf(currNext), 0, next);
    }
  } else if (parent) {
    parent.children.push(next);
  }
}
__name(append, "append");
function prependChild(elem, child) {
  removeElement(child);
  child.parent = elem;
  child.prev = null;
  if (elem.children.unshift(child) !== 1) {
    const sibling = elem.children[1];
    sibling.prev = child;
    child.next = sibling;
  } else {
    child.next = null;
  }
}
__name(prependChild, "prependChild");
function prepend(elem, prev) {
  removeElement(prev);
  const { parent } = elem;
  if (parent) {
    const childs = parent.children;
    childs.splice(childs.indexOf(elem), 0, prev);
  }
  if (elem.prev) {
    elem.prev.next = prev;
  }
  prev.parent = parent;
  prev.prev = elem.prev;
  prev.next = elem;
  elem.prev = prev;
}
__name(prepend, "prepend");

// node_modules/domutils/lib/esm/querying.js
function filter(test, node, recurse = true, limit = Infinity) {
  if (!Array.isArray(node)) {
    node = [node];
  }
  return find(test, node, recurse, limit);
}
__name(filter, "filter");
function find(test, nodes, recurse, limit) {
  const result = [];
  for (const elem of nodes) {
    if (test(elem)) {
      result.push(elem);
      if (--limit <= 0) {
        break;
      }
    }
    if (recurse && hasChildren(elem) && elem.children.length > 0) {
      const children = find(test, elem.children, recurse, limit);
      result.push(...children);
      limit -= children.length;
      if (limit <= 0) {
        break;
      }
    }
  }
  return result;
}
__name(find, "find");
function findOneChild(test, nodes) {
  return nodes.find(test);
}
__name(findOneChild, "findOneChild");
function findOne(test, nodes, recurse = true) {
  let elem = null;
  for (let i = 0; i < nodes.length && !elem; i++) {
    const checked = nodes[i];
    if (!isTag2(checked)) {
      continue;
    } else if (test(checked)) {
      elem = checked;
    } else if (recurse && checked.children.length > 0) {
      elem = findOne(test, checked.children, true);
    }
  }
  return elem;
}
__name(findOne, "findOne");
function existsOne(test, nodes) {
  return nodes.some((checked) =>
    isTag2(checked) &&
    (test(checked) ||
      checked.children.length > 0 && existsOne(test, checked.children))
  );
}
__name(existsOne, "existsOne");
function findAll(test, nodes) {
  var _a3;
  const result = [];
  const stack = nodes.filter(isTag2);
  let elem;
  while (elem = stack.shift()) {
    const children = (_a3 = elem.children) === null || _a3 === void 0
      ? void 0
      : _a3.filter(isTag2);
    if (children && children.length > 0) {
      stack.unshift(...children);
    }
    if (test(elem)) {
      result.push(elem);
    }
  }
  return result;
}
__name(findAll, "findAll");

// node_modules/domutils/lib/esm/legacy.js
var Checks = {
  tag_name(name) {
    if (typeof name === "function") {
      return (elem) => isTag2(elem) && name(elem.name);
    } else if (name === "*") {
      return isTag2;
    }
    return (elem) => isTag2(elem) && elem.name === name;
  },
  tag_type(type) {
    if (typeof type === "function") {
      return (elem) => type(elem.type);
    }
    return (elem) => elem.type === type;
  },
  tag_contains(data) {
    if (typeof data === "function") {
      return (elem) => isText(elem) && data(elem.data);
    }
    return (elem) => isText(elem) && elem.data === data;
  },
};
function getAttribCheck(attrib, value) {
  if (typeof value === "function") {
    return (elem) => isTag2(elem) && value(elem.attribs[attrib]);
  }
  return (elem) => isTag2(elem) && elem.attribs[attrib] === value;
}
__name(getAttribCheck, "getAttribCheck");
function combineFuncs(a, b) {
  return (elem) => a(elem) || b(elem);
}
__name(combineFuncs, "combineFuncs");
function compileTest(options) {
  const funcs = Object.keys(options).map((key2) => {
    const value = options[key2];
    return Object.prototype.hasOwnProperty.call(Checks, key2)
      ? Checks[key2](value)
      : getAttribCheck(key2, value);
  });
  return funcs.length === 0 ? null : funcs.reduce(combineFuncs);
}
__name(compileTest, "compileTest");
function testElement(options, node) {
  const test = compileTest(options);
  return test ? test(node) : true;
}
__name(testElement, "testElement");
function getElements(options, nodes, recurse, limit = Infinity) {
  const test = compileTest(options);
  return test ? filter(test, nodes, recurse, limit) : [];
}
__name(getElements, "getElements");
function getElementById(id, nodes, recurse = true) {
  if (!Array.isArray(nodes)) {
    nodes = [nodes];
  }
  return findOne(getAttribCheck("id", id), nodes, recurse);
}
__name(getElementById, "getElementById");
function getElementsByTagName(
  tagName16,
  nodes,
  recurse = true,
  limit = Infinity,
) {
  return filter(Checks["tag_name"](tagName16), nodes, recurse, limit);
}
__name(getElementsByTagName, "getElementsByTagName");
function getElementsByTagType(type, nodes, recurse = true, limit = Infinity) {
  return filter(Checks["tag_type"](type), nodes, recurse, limit);
}
__name(getElementsByTagType, "getElementsByTagType");

// node_modules/domutils/lib/esm/helpers.js
function removeSubsets(nodes) {
  let idx = nodes.length;
  while (--idx >= 0) {
    const node = nodes[idx];
    if (idx > 0 && nodes.lastIndexOf(node, idx - 1) >= 0) {
      nodes.splice(idx, 1);
      continue;
    }
    for (let ancestor = node.parent; ancestor; ancestor = ancestor.parent) {
      if (nodes.includes(ancestor)) {
        nodes.splice(idx, 1);
        break;
      }
    }
  }
  return nodes;
}
__name(removeSubsets, "removeSubsets");
var DocumentPosition;
(function (DocumentPosition2) {
  DocumentPosition2[DocumentPosition2["DISCONNECTED"] = 1] = "DISCONNECTED";
  DocumentPosition2[DocumentPosition2["PRECEDING"] = 2] = "PRECEDING";
  DocumentPosition2[DocumentPosition2["FOLLOWING"] = 4] = "FOLLOWING";
  DocumentPosition2[DocumentPosition2["CONTAINS"] = 8] = "CONTAINS";
  DocumentPosition2[DocumentPosition2["CONTAINED_BY"] = 16] = "CONTAINED_BY";
})(DocumentPosition || (DocumentPosition = {}));
function compareDocumentPosition(nodeA, nodeB) {
  const aParents = [];
  const bParents = [];
  if (nodeA === nodeB) {
    return 0;
  }
  let current = hasChildren(nodeA) ? nodeA : nodeA.parent;
  while (current) {
    aParents.unshift(current);
    current = current.parent;
  }
  current = hasChildren(nodeB) ? nodeB : nodeB.parent;
  while (current) {
    bParents.unshift(current);
    current = current.parent;
  }
  const maxIdx = Math.min(aParents.length, bParents.length);
  let idx = 0;
  while (idx < maxIdx && aParents[idx] === bParents[idx]) {
    idx++;
  }
  if (idx === 0) {
    return DocumentPosition.DISCONNECTED;
  }
  const sharedParent = aParents[idx - 1];
  const siblings = sharedParent.children;
  const aSibling = aParents[idx];
  const bSibling = bParents[idx];
  if (siblings.indexOf(aSibling) > siblings.indexOf(bSibling)) {
    if (sharedParent === nodeB) {
      return DocumentPosition.FOLLOWING | DocumentPosition.CONTAINED_BY;
    }
    return DocumentPosition.FOLLOWING;
  }
  if (sharedParent === nodeA) {
    return DocumentPosition.PRECEDING | DocumentPosition.CONTAINS;
  }
  return DocumentPosition.PRECEDING;
}
__name(compareDocumentPosition, "compareDocumentPosition");
function uniqueSort(nodes) {
  nodes = nodes.filter((node, i, arr) => !arr.includes(node, i + 1));
  nodes.sort((a, b) => {
    const relative = compareDocumentPosition(a, b);
    if (relative & DocumentPosition.PRECEDING) {
      return -1;
    } else if (relative & DocumentPosition.FOLLOWING) {
      return 1;
    }
    return 0;
  });
  return nodes;
}
__name(uniqueSort, "uniqueSort");

// node_modules/domutils/lib/esm/feeds.js
function getFeed(doc) {
  const feedRoot = getOneElement(isValidFeed, doc);
  return !feedRoot
    ? null
    : feedRoot.name === "feed"
    ? getAtomFeed(feedRoot)
    : getRssFeed(feedRoot);
}
__name(getFeed, "getFeed");
function getAtomFeed(feedRoot) {
  var _a3;
  const childs = feedRoot.children;
  const feed = {
    type: "atom",
    items: getElementsByTagName("entry", childs).map((item) => {
      var _a4;
      const { children } = item;
      const entry = { media: getMediaElements(children) };
      addConditionally(entry, "id", "id", children);
      addConditionally(entry, "title", "title", children);
      const href2 =
        (_a4 = getOneElement("link", children)) === null || _a4 === void 0
          ? void 0
          : _a4.attribs["href"];
      if (href2) {
        entry.link = href2;
      }
      const description = fetch("summary", children) ||
        fetch("content", children);
      if (description) {
        entry.description = description;
      }
      const pubDate = fetch("updated", children);
      if (pubDate) {
        entry.pubDate = new Date(pubDate);
      }
      return entry;
    }),
  };
  addConditionally(feed, "id", "id", childs);
  addConditionally(feed, "title", "title", childs);
  const href = (_a3 = getOneElement("link", childs)) === null || _a3 === void 0
    ? void 0
    : _a3.attribs["href"];
  if (href) {
    feed.link = href;
  }
  addConditionally(feed, "description", "subtitle", childs);
  const updated = fetch("updated", childs);
  if (updated) {
    feed.updated = new Date(updated);
  }
  addConditionally(feed, "author", "email", childs, true);
  return feed;
}
__name(getAtomFeed, "getAtomFeed");
function getRssFeed(feedRoot) {
  var _a3, _b;
  const childs =
    (_b =
          (_a3 = getOneElement("channel", feedRoot.children)) === null ||
            _a3 === void 0
            ? void 0
            : _a3.children) !== null && _b !== void 0
      ? _b
      : [];
  const feed = {
    type: feedRoot.name.substr(0, 3),
    id: "",
    items: getElementsByTagName("item", feedRoot.children).map((item) => {
      const { children } = item;
      const entry = { media: getMediaElements(children) };
      addConditionally(entry, "id", "guid", children);
      addConditionally(entry, "title", "title", children);
      addConditionally(entry, "link", "link", children);
      addConditionally(entry, "description", "description", children);
      const pubDate = fetch("pubDate", children);
      if (pubDate) {
        entry.pubDate = new Date(pubDate);
      }
      return entry;
    }),
  };
  addConditionally(feed, "title", "title", childs);
  addConditionally(feed, "link", "link", childs);
  addConditionally(feed, "description", "description", childs);
  const updated = fetch("lastBuildDate", childs);
  if (updated) {
    feed.updated = new Date(updated);
  }
  addConditionally(feed, "author", "managingEditor", childs, true);
  return feed;
}
__name(getRssFeed, "getRssFeed");
var MEDIA_KEYS_STRING = ["url", "type", "lang"];
var MEDIA_KEYS_INT = [
  "fileSize",
  "bitrate",
  "framerate",
  "samplingrate",
  "channels",
  "duration",
  "height",
  "width",
];
function getMediaElements(where) {
  return getElementsByTagName("media:content", where).map((elem) => {
    const { attribs } = elem;
    const media = {
      medium: attribs["medium"],
      isDefault: !!attribs["isDefault"],
    };
    for (const attrib of MEDIA_KEYS_STRING) {
      if (attribs[attrib]) {
        media[attrib] = attribs[attrib];
      }
    }
    for (const attrib of MEDIA_KEYS_INT) {
      if (attribs[attrib]) {
        media[attrib] = parseInt(attribs[attrib], 10);
      }
    }
    if (attribs["expression"]) {
      media.expression = attribs["expression"];
    }
    return media;
  });
}
__name(getMediaElements, "getMediaElements");
function getOneElement(tagName16, node) {
  return getElementsByTagName(tagName16, node, true, 1)[0];
}
__name(getOneElement, "getOneElement");
function fetch(tagName16, where, recurse = false) {
  return textContent(getElementsByTagName(tagName16, where, recurse, 1)).trim();
}
__name(fetch, "fetch");
function addConditionally(obj, prop2, tagName16, where, recurse = false) {
  const val = fetch(tagName16, where, recurse);
  if (val) {
    obj[prop2] = val;
  }
}
__name(addConditionally, "addConditionally");
function isValidFeed(value) {
  return value === "rss" || value === "feed" || value === "rdf:RDF";
}
__name(isValidFeed, "isValidFeed");

// node_modules/htmlparser2/lib/esm/index.js
function parseDocument(data, options) {
  const handler4 = new DomHandler(void 0, options);
  new Parser2(handler4, options).end(data);
  return handler4.root;
}
__name(parseDocument, "parseDocument");
function parseDOM(data, options) {
  return parseDocument(data, options).children;
}
__name(parseDOM, "parseDOM");
function createDomStream(cb, options, elementCb) {
  const handler4 = new DomHandler(cb, options, elementCb);
  return new Parser2(handler4, options);
}
__name(createDomStream, "createDomStream");
function parseFeed(feed, options = { xmlMode: true }) {
  return getFeed(parseDOM(feed, options));
}
__name(parseFeed, "parseFeed");

// node_modules/linkedom/esm/shared/constants.js
var NODE_END = -1;
var ELEMENT_NODE = 1;
var ATTRIBUTE_NODE = 2;
var TEXT_NODE = 3;
var COMMENT_NODE = 8;
var DOCUMENT_NODE = 9;
var DOCUMENT_TYPE_NODE = 10;
var DOCUMENT_FRAGMENT_NODE = 11;
var BLOCK_ELEMENTS = /* @__PURE__ */ new Set([
  "ARTICLE",
  "ASIDE",
  "BLOCKQUOTE",
  "BODY",
  "BR",
  "BUTTON",
  "CANVAS",
  "CAPTION",
  "COL",
  "COLGROUP",
  "DD",
  "DIV",
  "DL",
  "DT",
  "EMBED",
  "FIELDSET",
  "FIGCAPTION",
  "FIGURE",
  "FOOTER",
  "FORM",
  "H1",
  "H2",
  "H3",
  "H4",
  "H5",
  "H6",
  "LI",
  "UL",
  "OL",
  "P",
]);
var SHOW_ALL = -1;
var SHOW_ELEMENT = 1;
var SHOW_TEXT = 4;
var SHOW_COMMENT = 128;
var DOCUMENT_POSITION_DISCONNECTED = 1;
var DOCUMENT_POSITION_PRECEDING = 2;
var DOCUMENT_POSITION_FOLLOWING = 4;
var DOCUMENT_POSITION_CONTAINS = 8;
var DOCUMENT_POSITION_CONTAINED_BY = 16;
var DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC = 32;
var SVG_NAMESPACE = "http://www.w3.org/2000/svg";

// node_modules/linkedom/esm/shared/object.js
var {
  assign,
  create,
  defineProperties,
  entries,
  getOwnPropertyDescriptors,
  keys,
  setPrototypeOf,
} = Object;

// node_modules/linkedom/esm/shared/utils.js
var $String = String;
var getEnd = /* @__PURE__ */ __name(
  (node) => node.nodeType === ELEMENT_NODE ? node[END] : node,
  "getEnd",
);
var ignoreCase = /* @__PURE__ */ __name(
  ({ ownerDocument }) => ownerDocument[MIME].ignoreCase,
  "ignoreCase",
);
var knownAdjacent = /* @__PURE__ */ __name((prev, next) => {
  prev[NEXT] = next;
  next[PREV] = prev;
}, "knownAdjacent");
var knownBoundaries = /* @__PURE__ */ __name((prev, current, next) => {
  knownAdjacent(prev, current);
  knownAdjacent(getEnd(current), next);
}, "knownBoundaries");
var knownSegment = /* @__PURE__ */ __name((prev, start, end, next) => {
  knownAdjacent(prev, start);
  knownAdjacent(getEnd(end), next);
}, "knownSegment");
var knownSiblings = /* @__PURE__ */ __name((prev, current, next) => {
  knownAdjacent(prev, current);
  knownAdjacent(current, next);
}, "knownSiblings");
var localCase = /* @__PURE__ */ __name(({ localName, ownerDocument }) => {
  return ownerDocument[MIME].ignoreCase ? localName.toUpperCase() : localName;
}, "localCase");
var setAdjacent = /* @__PURE__ */ __name((prev, next) => {
  if (prev) {
    prev[NEXT] = next;
  }
  if (next) {
    next[PREV] = prev;
  }
}, "setAdjacent");

// node_modules/linkedom/esm/shared/shadow-roots.js
var shadowRoots = /* @__PURE__ */ new WeakMap();

// node_modules/linkedom/esm/interface/custom-element-registry.js
var reactive = false;
var Classes = /* @__PURE__ */ new WeakMap();
var customElements = /* @__PURE__ */ new WeakMap();
var attributeChangedCallback = /* @__PURE__ */ __name(
  (element, attributeName, oldValue, newValue) => {
    if (
      reactive && customElements.has(element) &&
      element.attributeChangedCallback &&
      element.constructor.observedAttributes.includes(attributeName)
    ) {
      element.attributeChangedCallback(attributeName, oldValue, newValue);
    }
  },
  "attributeChangedCallback",
);
var createTrigger = /* @__PURE__ */ __name(
  (method, isConnected2) =>
    (element) => {
      if (customElements.has(element)) {
        const info = customElements.get(element);
        if (
          info.connected !== isConnected2 &&
          element.isConnected === isConnected2
        ) {
          info.connected = isConnected2;
          if (method in element) {
            element[method]();
          }
        }
      }
    },
  "createTrigger",
);
var triggerConnected = createTrigger("connectedCallback", true);
var connectedCallback = /* @__PURE__ */ __name((element) => {
  if (reactive) {
    triggerConnected(element);
    if (shadowRoots.has(element)) {
      element = shadowRoots.get(element).shadowRoot;
    }
    let { [NEXT]: next, [END]: end } = element;
    while (next !== end) {
      if (next.nodeType === ELEMENT_NODE) {
        triggerConnected(next);
      }
      next = next[NEXT];
    }
  }
}, "connectedCallback");
var triggerDisconnected = createTrigger("disconnectedCallback", false);
var disconnectedCallback = /* @__PURE__ */ __name((element) => {
  if (reactive) {
    triggerDisconnected(element);
    if (shadowRoots.has(element)) {
      element = shadowRoots.get(element).shadowRoot;
    }
    let { [NEXT]: next, [END]: end } = element;
    while (next !== end) {
      if (next.nodeType === ELEMENT_NODE) {
        triggerDisconnected(next);
      }
      next = next[NEXT];
    }
  }
}, "disconnectedCallback");
var CustomElementRegistry = class {
  constructor(ownerDocument) {
    this.ownerDocument = ownerDocument;
    this.registry = /* @__PURE__ */ new Map();
    this.waiting = /* @__PURE__ */ new Map();
    this.active = false;
  }
  define(localName, Class, options = {}) {
    const { ownerDocument, registry, waiting } = this;
    if (registry.has(localName)) {
      throw new Error("unable to redefine " + localName);
    }
    if (Classes.has(Class)) {
      throw new Error("unable to redefine the same class: " + Class);
    }
    this.active = reactive = true;
    const { extends: extend } = options;
    Classes.set(Class, {
      ownerDocument,
      options: { is: extend ? localName : "" },
      localName: extend || localName,
    });
    const check = extend
      ? (element) => {
        return element.localName === extend &&
          element.getAttribute("is") === localName;
      }
      : (element) => element.localName === localName;
    registry.set(localName, { Class, check });
    if (waiting.has(localName)) {
      for (const resolve of waiting.get(localName)) {
        resolve(Class);
      }
      waiting.delete(localName);
    }
    ownerDocument.querySelectorAll(
      extend ? `${extend}[is="${localName}"]` : localName,
    ).forEach(this.upgrade, this);
  }
  upgrade(element) {
    if (customElements.has(element)) {
      return;
    }
    const { ownerDocument, registry } = this;
    const ce = element.getAttribute("is") || element.localName;
    if (registry.has(ce)) {
      const { Class, check } = registry.get(ce);
      if (check(element)) {
        const { attributes: attributes2, isConnected: isConnected2 } = element;
        for (const attr of attributes2) {
          element.removeAttributeNode(attr);
        }
        const values = entries(element);
        for (const [key2] of values) {
          delete element[key2];
        }
        setPrototypeOf(element, Class.prototype);
        ownerDocument[UPGRADE] = { element, values };
        new Class(ownerDocument, ce);
        customElements.set(element, { connected: isConnected2 });
        for (const attr of attributes2) {
          element.setAttributeNode(attr);
        }
        if (isConnected2 && element.connectedCallback) {
          element.connectedCallback();
        }
      }
    }
  }
  whenDefined(localName) {
    const { registry, waiting } = this;
    return new Promise((resolve) => {
      if (registry.has(localName)) {
        resolve(registry.get(localName).Class);
      } else {
        if (!waiting.has(localName)) {
          waiting.set(localName, []);
        }
        waiting.get(localName).push(resolve);
      }
    });
  }
  get(localName) {
    const info = this.registry.get(localName);
    return info && info.Class;
  }
};
__name(CustomElementRegistry, "CustomElementRegistry");

// node_modules/linkedom/esm/shared/parse-from-string.js
var { Parser: Parser3 } = esm_exports3;
var notParsing = true;
var append2 = /* @__PURE__ */ __name((self, node, active) => {
  const end = self[END];
  node.parentNode = self;
  knownBoundaries(end[PREV], node, end);
  if (active && node.nodeType === ELEMENT_NODE) {
    connectedCallback(node);
  }
  return node;
}, "append");
var attribute = /* @__PURE__ */ __name(
  (element, end, attribute2, value, active) => {
    attribute2[VALUE] = value;
    attribute2.ownerElement = element;
    knownSiblings(end[PREV], attribute2, end);
    if (attribute2.name === "class") {
      element.className = value;
    }
    if (active) {
      attributeChangedCallback(element, attribute2.name, null, value);
    }
  },
  "attribute",
);
var parseFromString = /* @__PURE__ */ __name(
  (document, isHTML, markupLanguage) => {
    const { active, registry } = document[CUSTOM_ELEMENTS];
    let node = document;
    let ownerSVGElement = null;
    notParsing = false;
    const content = new Parser3({
      onprocessinginstruction(name, data) {
        if (name.toLowerCase() === "!doctype") {
          document.doctype = data.slice(name.length).trim();
        }
      },
      onopentag(name, attributes2) {
        let create3 = true;
        if (isHTML) {
          if (ownerSVGElement) {
            node = append2(
              node,
              document.createElementNS(SVG_NAMESPACE, name),
              active,
            );
            node.ownerSVGElement = ownerSVGElement;
            create3 = false;
          } else if (name === "svg" || name === "SVG") {
            ownerSVGElement = document.createElementNS(SVG_NAMESPACE, name);
            node = append2(node, ownerSVGElement, active);
            create3 = false;
          } else if (active) {
            const ce = name.includes("-") ? name : attributes2.is || "";
            if (ce && registry.has(ce)) {
              const { Class } = registry.get(ce);
              node = append2(node, new Class(), active);
              delete attributes2.is;
              create3 = false;
            }
          }
        }
        if (create3) {
          node = append2(node, document.createElement(name), false);
        }
        let end = node[END];
        for (const name2 of keys(attributes2)) {
          attribute(
            node,
            end,
            document.createAttribute(name2),
            attributes2[name2],
            active,
          );
        }
      },
      oncomment(data) {
        append2(node, document.createComment(data), active);
      },
      ontext(text) {
        append2(node, document.createTextNode(text), active);
      },
      onclosetag() {
        if (isHTML && node === ownerSVGElement) {
          ownerSVGElement = null;
        }
        node = node.parentNode;
      },
    }, {
      lowerCaseAttributeNames: false,
      decodeEntities: true,
      xmlMode: !isHTML,
    });
    content.write(markupLanguage);
    content.end();
    notParsing = true;
    return document;
  },
  "parseFromString",
);

// node_modules/linkedom/esm/shared/register-html-class.js
var htmlClasses = /* @__PURE__ */ new Map();
var registerHTMLClass = /* @__PURE__ */ __name((names, Class) => {
  for (const name of [].concat(names)) {
    htmlClasses.set(name, Class);
    htmlClasses.set(name.toUpperCase(), Class);
  }
}, "registerHTMLClass");

// node_modules/linkedom/esm/interface/document.js
var import_perf_hooks = __toESM(require_perf_hooks(), 1);

// node_modules/linkedom/esm/shared/jsdon.js
var loopSegment = /* @__PURE__ */ __name(
  ({ [NEXT]: next, [END]: end }, json) => {
    while (next !== end) {
      switch (next.nodeType) {
        case ATTRIBUTE_NODE:
          attrAsJSON(next, json);
          break;
        case TEXT_NODE:
        case COMMENT_NODE:
          characterDataAsJSON(next, json);
          break;
        case ELEMENT_NODE:
          elementAsJSON(next, json);
          next = getEnd(next);
          break;
        case DOCUMENT_TYPE_NODE:
          documentTypeAsJSON(next, json);
          break;
      }
      next = next[NEXT];
    }
    const last = json.length - 1;
    const value = json[last];
    if (typeof value === "number" && value < 0) {
      json[last] += NODE_END;
    } else {
      json.push(NODE_END);
    }
  },
  "loopSegment",
);
var attrAsJSON = /* @__PURE__ */ __name((attr, json) => {
  json.push(ATTRIBUTE_NODE, attr.name);
  const value = attr[VALUE].trim();
  if (value) {
    json.push(value);
  }
}, "attrAsJSON");
var characterDataAsJSON = /* @__PURE__ */ __name((node, json) => {
  const value = node[VALUE];
  if (value.trim()) {
    json.push(node.nodeType, value);
  }
}, "characterDataAsJSON");
var nonElementAsJSON = /* @__PURE__ */ __name((node, json) => {
  json.push(node.nodeType);
  loopSegment(node, json);
}, "nonElementAsJSON");
var documentTypeAsJSON = /* @__PURE__ */ __name(
  ({ name, publicId, systemId }, json) => {
    json.push(DOCUMENT_TYPE_NODE, name);
    if (publicId) {
      json.push(publicId);
    }
    if (systemId) {
      json.push(systemId);
    }
  },
  "documentTypeAsJSON",
);
var elementAsJSON = /* @__PURE__ */ __name((element, json) => {
  json.push(ELEMENT_NODE, element.localName);
  loopSegment(element, json);
}, "elementAsJSON");

// node_modules/linkedom/esm/interface/mutation-observer.js
var createRecord = /* @__PURE__ */ __name(
  (type, target, addedNodes, removedNodes, attributeName, oldValue) => ({
    type,
    target,
    addedNodes,
    removedNodes,
    attributeName,
    oldValue,
  }),
  "createRecord",
);
var queueAttribute = /* @__PURE__ */ __name(
  (
    observer,
    target,
    attributeName,
    attributeFilter,
    attributeOldValue,
    oldValue,
  ) => {
    if (!attributeFilter || attributeFilter.includes(attributeName)) {
      const { callback, records, scheduled } = observer;
      records.push(
        createRecord(
          "attributes",
          target,
          [],
          [],
          attributeName,
          attributeOldValue ? oldValue : void 0,
        ),
      );
      if (!scheduled) {
        observer.scheduled = true;
        Promise.resolve().then(() => {
          observer.scheduled = false;
          callback(records.splice(0), observer);
        });
      }
    }
  },
  "queueAttribute",
);
var attributeChangedCallback2 = /* @__PURE__ */ __name(
  (element, attributeName, oldValue) => {
    const { ownerDocument } = element;
    const { active, observers } = ownerDocument[MUTATION_OBSERVER];
    if (active) {
      for (const observer of observers) {
        for (
          const [
            target,
            {
              childList,
              subtree,
              attributes: attributes2,
              attributeFilter,
              attributeOldValue,
            },
          ] of observer.nodes
        ) {
          if (childList) {
            if (
              subtree &&
                (target === ownerDocument || target.contains(element)) ||
              !subtree && target.children.includes(element)
            ) {
              queueAttribute(
                observer,
                element,
                attributeName,
                attributeFilter,
                attributeOldValue,
                oldValue,
              );
              break;
            }
          } else if (attributes2 && target === element) {
            queueAttribute(
              observer,
              element,
              attributeName,
              attributeFilter,
              attributeOldValue,
              oldValue,
            );
            break;
          }
        }
      }
    }
  },
  "attributeChangedCallback",
);
var moCallback = /* @__PURE__ */ __name((element, parentNode) => {
  const { ownerDocument } = element;
  const { active, observers } = ownerDocument[MUTATION_OBSERVER];
  if (active) {
    for (const observer of observers) {
      for (
        const [target, { subtree, childList, characterData }] of observer.nodes
      ) {
        if (childList) {
          if (
            parentNode &&
              (target === parentNode ||
                subtree && target.contains(parentNode)) ||
            !parentNode &&
              (subtree &&
                  (target === ownerDocument || target.contains(element)) ||
                !subtree &&
                  target[characterData ? "childNodes" : "children"].includes(
                    element,
                  ))
          ) {
            const { callback, records, scheduled } = observer;
            records.push(
              createRecord(
                "childList",
                target,
                parentNode ? [] : [element],
                parentNode ? [element] : [],
              ),
            );
            if (!scheduled) {
              observer.scheduled = true;
              Promise.resolve().then(() => {
                observer.scheduled = false;
                callback(records.splice(0), observer);
              });
            }
            break;
          }
        }
      }
    }
  }
}, "moCallback");
var MutationObserverClass = class {
  constructor(ownerDocument) {
    const observers = /* @__PURE__ */ new Set();
    this.observers = observers;
    this.active = false;
    this.class = /* @__PURE__ */ __name(
      class MutationObserver {
        constructor(callback) {
          this.callback = callback;
          this.nodes = /* @__PURE__ */ new Map();
          this.records = [];
          this.scheduled = false;
        }
        disconnect() {
          this.records.splice(0);
          this.nodes.clear();
          observers.delete(this);
          ownerDocument[MUTATION_OBSERVER].active = !!observers.size;
        }
        observe(target, options = {
          subtree: false,
          childList: false,
          attributes: false,
          attributeFilter: null,
          attributeOldValue: false,
          characterData: false,
        }) {
          if ("attributeOldValue" in options || "attributeFilter" in options) {
            options.attributes = true;
          }
          options.childList = !!options.childList;
          options.subtree = !!options.subtree;
          this.nodes.set(target, options);
          observers.add(this);
          ownerDocument[MUTATION_OBSERVER].active = true;
        }
        takeRecords() {
          return this.records.splice(0);
        }
      },
      "MutationObserver",
    );
  }
};
__name(MutationObserverClass, "MutationObserverClass");

// node_modules/linkedom/esm/shared/attributes.js
var emptyAttributes = /* @__PURE__ */ new Set([
  "allowfullscreen",
  "allowpaymentrequest",
  "async",
  "autofocus",
  "autoplay",
  "checked",
  "class",
  "contenteditable",
  "controls",
  "default",
  "defer",
  "disabled",
  "draggable",
  "formnovalidate",
  "hidden",
  "id",
  "ismap",
  "itemscope",
  "loop",
  "multiple",
  "muted",
  "nomodule",
  "novalidate",
  "open",
  "playsinline",
  "readonly",
  "required",
  "reversed",
  "selected",
  "style",
  "truespeed",
]);
var setAttribute = /* @__PURE__ */ __name((element, attribute2) => {
  const { [VALUE]: value, name } = attribute2;
  attribute2.ownerElement = element;
  knownSiblings(element, attribute2, element[NEXT]);
  if (name === "class") {
    element.className = value;
  }
  attributeChangedCallback2(element, name, null);
  attributeChangedCallback(element, name, null, value);
}, "setAttribute");
var removeAttribute = /* @__PURE__ */ __name((element, attribute2) => {
  const { [VALUE]: value, name } = attribute2;
  knownAdjacent(attribute2[PREV], attribute2[NEXT]);
  attribute2.ownerElement = attribute2[PREV] = attribute2[NEXT] = null;
  if (name === "class") {
    element[CLASS_LIST] = null;
  }
  attributeChangedCallback2(element, name, value);
  attributeChangedCallback(element, name, value, null);
}, "removeAttribute");
var booleanAttribute = {
  get(element, name) {
    return element.hasAttribute(name);
  },
  set(element, name, value) {
    if (value) {
      element.setAttribute(name, "");
    } else {
      element.removeAttribute(name);
    }
  },
};
var numericAttribute = {
  get(element, name) {
    return parseFloat(element.getAttribute(name) || 0);
  },
  set(element, name, value) {
    element.setAttribute(name, value);
  },
};
var stringAttribute = {
  get(element, name) {
    return element.getAttribute(name) || "";
  },
  set(element, name, value) {
    element.setAttribute(name, value);
  },
};

// node_modules/linkedom/esm/interface/event-target.js
var wm = /* @__PURE__ */ new WeakMap();
function dispatch(event, listener) {
  if (typeof listener === "function") {
    listener.call(event.target, event);
  } else {
    listener.handleEvent(event);
  }
  return event._stopImmediatePropagationFlag;
}
__name(dispatch, "dispatch");
function invokeListeners({ currentTarget, target }) {
  const map2 = wm.get(currentTarget);
  if (map2 && map2.has(this.type)) {
    const listeners = map2.get(this.type);
    if (currentTarget === target) {
      this.eventPhase = this.AT_TARGET;
    } else {
      this.eventPhase = this.BUBBLING_PHASE;
    }
    this.currentTarget = currentTarget;
    this.target = target;
    for (const [listener, options] of listeners) {
      if (options && options.once) {
        listeners.delete(listener);
      }
      if (dispatch(this, listener)) {
        break;
      }
    }
    delete this.currentTarget;
    delete this.target;
    return this.cancelBubble;
  }
}
__name(invokeListeners, "invokeListeners");
var DOMEventTarget = class {
  constructor() {
    wm.set(this, /* @__PURE__ */ new Map());
  }
  _getParent() {
    return null;
  }
  addEventListener(type, listener, options) {
    const map2 = wm.get(this);
    if (!map2.has(type)) {
      map2.set(type, /* @__PURE__ */ new Map());
    }
    map2.get(type).set(listener, options);
  }
  removeEventListener(type, listener) {
    const map2 = wm.get(this);
    if (map2.has(type)) {
      const listeners = map2.get(type);
      if (listeners.delete(listener) && !listeners.size) {
        map2.delete(type);
      }
    }
  }
  dispatchEvent(event) {
    let node = this;
    event.eventPhase = event.CAPTURING_PHASE;
    while (node) {
      if (node.dispatchEvent) {
        event._path.push({ currentTarget: node, target: this });
      }
      node = event.bubbles && node._getParent && node._getParent();
    }
    event._path.some(invokeListeners, event);
    event._path = [];
    event.eventPhase = event.NONE;
    return !event.defaultPrevented;
  }
};
__name(DOMEventTarget, "DOMEventTarget");

// node_modules/linkedom/esm/interface/node-list.js
var NodeList = class extends Array {
  item(i) {
    return i < this.length ? this[i] : null;
  }
};
__name(NodeList, "NodeList");

// node_modules/linkedom/esm/interface/node.js
var getParentNodeCount = /* @__PURE__ */ __name(({ parentNode }) => {
  let count = 0;
  while (parentNode) {
    count++;
    parentNode = parentNode.parentNode;
  }
  return count;
}, "getParentNodeCount");
var Node2 = class extends DOMEventTarget {
  static get ELEMENT_NODE() {
    return ELEMENT_NODE;
  }
  static get ATTRIBUTE_NODE() {
    return ATTRIBUTE_NODE;
  }
  static get TEXT_NODE() {
    return TEXT_NODE;
  }
  static get COMMENT_NODE() {
    return COMMENT_NODE;
  }
  static get DOCUMENT_NODE() {
    return DOCUMENT_NODE;
  }
  static get DOCUMENT_FRAGMENT_NODE() {
    return DOCUMENT_FRAGMENT_NODE;
  }
  static get DOCUMENT_TYPE_NODE() {
    return DOCUMENT_TYPE_NODE;
  }
  constructor(ownerDocument, localName, nodeType) {
    super();
    this.ownerDocument = ownerDocument;
    this.localName = localName;
    this.nodeType = nodeType;
    this.parentNode = null;
    this[NEXT] = null;
    this[PREV] = null;
  }
  get ELEMENT_NODE() {
    return ELEMENT_NODE;
  }
  get ATTRIBUTE_NODE() {
    return ATTRIBUTE_NODE;
  }
  get TEXT_NODE() {
    return TEXT_NODE;
  }
  get COMMENT_NODE() {
    return COMMENT_NODE;
  }
  get DOCUMENT_NODE() {
    return DOCUMENT_NODE;
  }
  get DOCUMENT_FRAGMENT_NODE() {
    return DOCUMENT_FRAGMENT_NODE;
  }
  get DOCUMENT_TYPE_NODE() {
    return DOCUMENT_TYPE_NODE;
  }
  get baseURI() {
    const ownerDocument = this.nodeType === DOCUMENT_NODE
      ? this
      : this.ownerDocument;
    if (ownerDocument) {
      const base = ownerDocument.querySelector("base");
      if (base) {
        return base.getAttribute("href");
      }
      const { location } = ownerDocument.defaultView;
      if (location) {
        return location.href;
      }
    }
    return null;
  }
  get isConnected() {
    return false;
  }
  get nodeName() {
    return this.localName;
  }
  get parentElement() {
    return null;
  }
  get previousSibling() {
    return null;
  }
  get previousElementSibling() {
    return null;
  }
  get nextSibling() {
    return null;
  }
  get nextElementSibling() {
    return null;
  }
  get childNodes() {
    return new NodeList();
  }
  get firstChild() {
    return null;
  }
  get lastChild() {
    return null;
  }
  get nodeValue() {
    return null;
  }
  set nodeValue(value) {
  }
  get textContent() {
    return null;
  }
  set textContent(value) {
  }
  normalize() {
  }
  cloneNode() {
    return null;
  }
  contains() {
    return false;
  }
  insertBefore(newNode, referenceNode) {
    return newNode;
  }
  appendChild(child) {
    return child;
  }
  replaceChild(newChild, oldChild) {
    return oldChild;
  }
  removeChild(child) {
    return child;
  }
  toString() {
    return "";
  }
  hasChildNodes() {
    return !!this.lastChild;
  }
  isSameNode(node) {
    return this === node;
  }
  compareDocumentPosition(target) {
    let result = 0;
    if (this !== target) {
      let self = getParentNodeCount(this);
      let other = getParentNodeCount(target);
      if (self < other) {
        result += DOCUMENT_POSITION_FOLLOWING;
        if (this.contains(target)) {
          result += DOCUMENT_POSITION_CONTAINED_BY;
        }
      } else if (other < self) {
        result += DOCUMENT_POSITION_PRECEDING;
        if (target.contains(this)) {
          result += DOCUMENT_POSITION_CONTAINS;
        }
      } else if (self && other) {
        const { childNodes } = this.parentNode;
        if (childNodes.indexOf(this) < childNodes.indexOf(target)) {
          result += DOCUMENT_POSITION_FOLLOWING;
        } else {
          result += DOCUMENT_POSITION_PRECEDING;
        }
      }
      if (!self || !other) {
        result += DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC;
        result += DOCUMENT_POSITION_DISCONNECTED;
      }
    }
    return result;
  }
  isEqualNode(node) {
    if (this === node) {
      return true;
    }
    if (this.nodeType === node.nodeType) {
      switch (this.nodeType) {
        case DOCUMENT_NODE:
        case DOCUMENT_FRAGMENT_NODE: {
          const aNodes = this.childNodes;
          const bNodes = node.childNodes;
          return aNodes.length === bNodes.length &&
            aNodes.every((node2, i) => node2.isEqualNode(bNodes[i]));
        }
      }
      return this.toString() === node.toString();
    }
    return false;
  }
  _getParent() {
    return this.parentNode;
  }
  getRootNode() {
    let root = this;
    while (root.parentNode) {
      root = root.parentNode;
    }
    return root.nodeType === DOCUMENT_NODE ? root.documentElement : root;
  }
};
__name(Node2, "Node");

// node_modules/linkedom/esm/interface/attr.js
var QUOTE = /"/g;
var Attr = class extends Node2 {
  constructor(ownerDocument, name, value = "") {
    super(ownerDocument, "#attribute", ATTRIBUTE_NODE);
    this.ownerElement = null;
    this.name = $String(name);
    this[VALUE] = $String(value);
    this[CHANGED] = false;
  }
  get value() {
    return this[VALUE];
  }
  set value(newValue) {
    const { [VALUE]: oldValue, name, ownerElement } = this;
    this[VALUE] = $String(newValue);
    this[CHANGED] = true;
    if (ownerElement) {
      attributeChangedCallback2(ownerElement, name, oldValue);
      attributeChangedCallback(ownerElement, name, oldValue, this[VALUE]);
    }
  }
  cloneNode() {
    const { ownerDocument, name, [VALUE]: value } = this;
    return new Attr(ownerDocument, name, value);
  }
  toString() {
    const { name, [VALUE]: value } = this;
    return emptyAttributes.has(name) && !value
      ? name
      : `${name}="${value.replace(QUOTE, "&quot;")}"`;
  }
  toJSON() {
    const json = [];
    attrAsJSON(this, json);
    return json;
  }
};
__name(Attr, "Attr");

// node_modules/linkedom/esm/shared/node.js
var isConnected = /* @__PURE__ */ __name(({ ownerDocument, parentNode }) => {
  while (parentNode) {
    if (parentNode === ownerDocument) {
      return true;
    }
    parentNode = parentNode.parentNode || parentNode.host;
  }
  return false;
}, "isConnected");
var parentElement = /* @__PURE__ */ __name(({ parentNode }) => {
  if (parentNode) {
    switch (parentNode.nodeType) {
      case DOCUMENT_NODE:
      case DOCUMENT_FRAGMENT_NODE:
        return null;
    }
  }
  return parentNode;
}, "parentElement");
var previousSibling = /* @__PURE__ */ __name(({ [PREV]: prev }) => {
  switch (prev ? prev.nodeType : 0) {
    case NODE_END:
      return prev[START];
    case TEXT_NODE:
    case COMMENT_NODE:
      return prev;
  }
  return null;
}, "previousSibling");
var nextSibling = /* @__PURE__ */ __name((node) => {
  const next = getEnd(node)[NEXT];
  return next && (next.nodeType === NODE_END ? null : next);
}, "nextSibling");

// node_modules/linkedom/esm/mixin/non-document-type-child-node.js
var nextElementSibling2 = /* @__PURE__ */ __name((node) => {
  let next = nextSibling(node);
  while (next && next.nodeType !== ELEMENT_NODE) {
    next = nextSibling(next);
  }
  return next;
}, "nextElementSibling");
var previousElementSibling = /* @__PURE__ */ __name((node) => {
  let prev = previousSibling(node);
  while (prev && prev.nodeType !== ELEMENT_NODE) {
    prev = previousSibling(prev);
  }
  return prev;
}, "previousElementSibling");

// node_modules/linkedom/esm/mixin/child-node.js
var asFragment = /* @__PURE__ */ __name((ownerDocument, nodes) => {
  const fragment = ownerDocument.createDocumentFragment();
  fragment.append(...nodes);
  return fragment;
}, "asFragment");
var before = /* @__PURE__ */ __name((node, nodes) => {
  const { ownerDocument, parentNode } = node;
  if (parentNode) {
    parentNode.insertBefore(asFragment(ownerDocument, nodes), node);
  }
}, "before");
var after = /* @__PURE__ */ __name((node, nodes) => {
  const { ownerDocument, parentNode } = node;
  if (parentNode) {
    parentNode.insertBefore(
      asFragment(ownerDocument, nodes),
      getEnd(node)[NEXT],
    );
  }
}, "after");
var replaceWith = /* @__PURE__ */ __name((node, nodes) => {
  const { ownerDocument, parentNode } = node;
  if (parentNode) {
    parentNode.insertBefore(asFragment(ownerDocument, nodes), node);
    node.remove();
  }
}, "replaceWith");
var remove = /* @__PURE__ */ __name((prev, current, next) => {
  const { parentNode, nodeType } = current;
  if (prev || next) {
    setAdjacent(prev, next);
    current[PREV] = null;
    getEnd(current)[NEXT] = null;
  }
  if (parentNode) {
    current.parentNode = null;
    moCallback(current, parentNode);
    if (nodeType === ELEMENT_NODE) {
      disconnectedCallback(current);
    }
  }
}, "remove");

// node_modules/linkedom/esm/interface/character-data.js
var CharacterData = class extends Node2 {
  constructor(ownerDocument, localName, nodeType, data) {
    super(ownerDocument, localName, nodeType);
    this[VALUE] = $String(data);
  }
  get isConnected() {
    return isConnected(this);
  }
  get parentElement() {
    return parentElement(this);
  }
  get previousSibling() {
    return previousSibling(this);
  }
  get nextSibling() {
    return nextSibling(this);
  }
  get previousElementSibling() {
    return previousElementSibling(this);
  }
  get nextElementSibling() {
    return nextElementSibling2(this);
  }
  before(...nodes) {
    before(this, nodes);
  }
  after(...nodes) {
    after(this, nodes);
  }
  replaceWith(...nodes) {
    replaceWith(this, nodes);
  }
  remove() {
    remove(this[PREV], this, this[NEXT]);
  }
  get data() {
    return this[VALUE];
  }
  set data(value) {
    this[VALUE] = $String(value);
    moCallback(this, this.parentNode);
  }
  get nodeValue() {
    return this.data;
  }
  set nodeValue(value) {
    this.data = value;
  }
  get textContent() {
    return this.data;
  }
  set textContent(value) {
    this.data = value;
  }
  get length() {
    return this.data.length;
  }
  substringData(offset, count) {
    return this.data.substr(offset, count);
  }
  appendData(data) {
    this.data += data;
  }
  insertData(offset, data) {
    const { data: t } = this;
    this.data = t.slice(0, offset) + data + t.slice(offset);
  }
  deleteData(offset, count) {
    const { data: t } = this;
    this.data = t.slice(0, offset) + t.slice(offset + count);
  }
  replaceData(offset, count, data) {
    const { data: t } = this;
    this.data = t.slice(0, offset) + data + t.slice(offset + count);
  }
  toJSON() {
    const json = [];
    characterDataAsJSON(this, json);
    return json;
  }
};
__name(CharacterData, "CharacterData");

// node_modules/linkedom/esm/interface/comment.js
var Comment4 = class extends CharacterData {
  constructor(ownerDocument, data = "") {
    super(ownerDocument, "#comment", COMMENT_NODE, data);
  }
  cloneNode() {
    const { ownerDocument, [VALUE]: data } = this;
    return new Comment4(ownerDocument, data);
  }
  toString() {
    return `<!--${this[VALUE]}-->`;
  }
};
__name(Comment4, "Comment");

// node_modules/css-select/lib/esm/index.js
var import_boolbase6 = __toESM(require_boolbase(), 1);

// node_modules/css-what/lib/es/types.js
var SelectorType;
(function (SelectorType2) {
  SelectorType2["Attribute"] = "attribute";
  SelectorType2["Pseudo"] = "pseudo";
  SelectorType2["PseudoElement"] = "pseudo-element";
  SelectorType2["Tag"] = "tag";
  SelectorType2["Universal"] = "universal";
  SelectorType2["Adjacent"] = "adjacent";
  SelectorType2["Child"] = "child";
  SelectorType2["Descendant"] = "descendant";
  SelectorType2["Parent"] = "parent";
  SelectorType2["Sibling"] = "sibling";
  SelectorType2["ColumnCombinator"] = "column-combinator";
})(SelectorType || (SelectorType = {}));
var AttributeAction;
(function (AttributeAction2) {
  AttributeAction2["Any"] = "any";
  AttributeAction2["Element"] = "element";
  AttributeAction2["End"] = "end";
  AttributeAction2["Equals"] = "equals";
  AttributeAction2["Exists"] = "exists";
  AttributeAction2["Hyphen"] = "hyphen";
  AttributeAction2["Not"] = "not";
  AttributeAction2["Start"] = "start";
})(AttributeAction || (AttributeAction = {}));

// node_modules/css-what/lib/es/parse.js
var reName = /^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/;
var reEscape = /\\([\da-f]{1,6}\s?|(\s)|.)/gi;
var actionTypes = /* @__PURE__ */ new Map([
  [126, AttributeAction.Element],
  [94, AttributeAction.Start],
  [36, AttributeAction.End],
  [42, AttributeAction.Any],
  [33, AttributeAction.Not],
  [124, AttributeAction.Hyphen],
]);
var unpackPseudos = /* @__PURE__ */ new Set([
  "has",
  "not",
  "matches",
  "is",
  "where",
  "host",
  "host-context",
]);
function isTraversal(selector) {
  switch (selector.type) {
    case SelectorType.Adjacent:
    case SelectorType.Child:
    case SelectorType.Descendant:
    case SelectorType.Parent:
    case SelectorType.Sibling:
    case SelectorType.ColumnCombinator:
      return true;
    default:
      return false;
  }
}
__name(isTraversal, "isTraversal");
var stripQuotesFromPseudos = /* @__PURE__ */ new Set(["contains", "icontains"]);
function funescape(_, escaped, escapedWhitespace) {
  const high = parseInt(escaped, 16) - 65536;
  return high !== high || escapedWhitespace
    ? escaped
    : high < 0
    ? String.fromCharCode(high + 65536)
    : String.fromCharCode(high >> 10 | 55296, high & 1023 | 56320);
}
__name(funescape, "funescape");
function unescapeCSS(str) {
  return str.replace(reEscape, funescape);
}
__name(unescapeCSS, "unescapeCSS");
function isQuote(c) {
  return c === 39 || c === 34;
}
__name(isQuote, "isQuote");
function isWhitespace2(c) {
  return c === 32 || c === 9 || c === 10 || c === 12 || c === 13;
}
__name(isWhitespace2, "isWhitespace");
function parse(selector) {
  const subselects2 = [];
  const endIndex = parseSelector(subselects2, `${selector}`, 0);
  if (endIndex < selector.length) {
    throw new Error(`Unmatched selector: ${selector.slice(endIndex)}`);
  }
  return subselects2;
}
__name(parse, "parse");
function parseSelector(subselects2, selector, selectorIndex) {
  let tokens = [];
  function getName3(offset) {
    const match = selector.slice(selectorIndex + offset).match(reName);
    if (!match) {
      throw new Error(`Expected name, found ${selector.slice(selectorIndex)}`);
    }
    const [name] = match;
    selectorIndex += offset + name.length;
    return unescapeCSS(name);
  }
  __name(getName3, "getName");
  function stripWhitespace(offset) {
    selectorIndex += offset;
    while (
      selectorIndex < selector.length &&
      isWhitespace2(selector.charCodeAt(selectorIndex))
    ) {
      selectorIndex++;
    }
  }
  __name(stripWhitespace, "stripWhitespace");
  function readValueWithParenthesis() {
    selectorIndex += 1;
    const start = selectorIndex;
    let counter = 1;
    for (; counter > 0 && selectorIndex < selector.length; selectorIndex++) {
      if (
        selector.charCodeAt(selectorIndex) === 40 && !isEscaped(selectorIndex)
      ) {
        counter++;
      } else if (
        selector.charCodeAt(selectorIndex) === 41 && !isEscaped(selectorIndex)
      ) {
        counter--;
      }
    }
    if (counter) {
      throw new Error("Parenthesis not matched");
    }
    return unescapeCSS(selector.slice(start, selectorIndex - 1));
  }
  __name(readValueWithParenthesis, "readValueWithParenthesis");
  function isEscaped(pos) {
    let slashCount = 0;
    while (selector.charCodeAt(--pos) === 92) {
      slashCount++;
    }
    return (slashCount & 1) === 1;
  }
  __name(isEscaped, "isEscaped");
  function ensureNotTraversal() {
    if (tokens.length > 0 && isTraversal(tokens[tokens.length - 1])) {
      throw new Error("Did not expect successive traversals.");
    }
  }
  __name(ensureNotTraversal, "ensureNotTraversal");
  function addTraversal(type) {
    if (
      tokens.length > 0 &&
      tokens[tokens.length - 1].type === SelectorType.Descendant
    ) {
      tokens[tokens.length - 1].type = type;
      return;
    }
    ensureNotTraversal();
    tokens.push({ type });
  }
  __name(addTraversal, "addTraversal");
  function addSpecialAttribute(name, action) {
    tokens.push({
      type: SelectorType.Attribute,
      name,
      action,
      value: getName3(1),
      namespace: null,
      ignoreCase: "quirks",
    });
  }
  __name(addSpecialAttribute, "addSpecialAttribute");
  function finalizeSubselector() {
    if (
      tokens.length &&
      tokens[tokens.length - 1].type === SelectorType.Descendant
    ) {
      tokens.pop();
    }
    if (tokens.length === 0) {
      throw new Error("Empty sub-selector");
    }
    subselects2.push(tokens);
  }
  __name(finalizeSubselector, "finalizeSubselector");
  stripWhitespace(0);
  if (selector.length === selectorIndex) {
    return selectorIndex;
  }
  loop:
  while (selectorIndex < selector.length) {
    const firstChar = selector.charCodeAt(selectorIndex);
    switch (firstChar) {
      case 32:
      case 9:
      case 10:
      case 12:
      case 13: {
        if (tokens.length === 0 || tokens[0].type !== SelectorType.Descendant) {
          ensureNotTraversal();
          tokens.push({ type: SelectorType.Descendant });
        }
        stripWhitespace(1);
        break;
      }
      case 62: {
        addTraversal(SelectorType.Child);
        stripWhitespace(1);
        break;
      }
      case 60: {
        addTraversal(SelectorType.Parent);
        stripWhitespace(1);
        break;
      }
      case 126: {
        addTraversal(SelectorType.Sibling);
        stripWhitespace(1);
        break;
      }
      case 43: {
        addTraversal(SelectorType.Adjacent);
        stripWhitespace(1);
        break;
      }
      case 46: {
        addSpecialAttribute("class", AttributeAction.Element);
        break;
      }
      case 35: {
        addSpecialAttribute("id", AttributeAction.Equals);
        break;
      }
      case 91: {
        stripWhitespace(1);
        let name;
        let namespace = null;
        if (selector.charCodeAt(selectorIndex) === 124) {
          name = getName3(1);
        } else if (selector.startsWith("*|", selectorIndex)) {
          namespace = "*";
          name = getName3(2);
        } else {
          name = getName3(0);
          if (
            selector.charCodeAt(selectorIndex) === 124 &&
            selector.charCodeAt(selectorIndex + 1) !== 61
          ) {
            namespace = name;
            name = getName3(1);
          }
        }
        stripWhitespace(0);
        let action = AttributeAction.Exists;
        const possibleAction = actionTypes.get(
          selector.charCodeAt(selectorIndex),
        );
        if (possibleAction) {
          action = possibleAction;
          if (selector.charCodeAt(selectorIndex + 1) !== 61) {
            throw new Error("Expected `=`");
          }
          stripWhitespace(2);
        } else if (selector.charCodeAt(selectorIndex) === 61) {
          action = AttributeAction.Equals;
          stripWhitespace(1);
        }
        let value = "";
        let ignoreCase2 = null;
        if (action !== "exists") {
          if (isQuote(selector.charCodeAt(selectorIndex))) {
            const quote = selector.charCodeAt(selectorIndex);
            let sectionEnd = selectorIndex + 1;
            while (
              sectionEnd < selector.length &&
              (selector.charCodeAt(sectionEnd) !== quote ||
                isEscaped(sectionEnd))
            ) {
              sectionEnd += 1;
            }
            if (selector.charCodeAt(sectionEnd) !== quote) {
              throw new Error("Attribute value didn't end");
            }
            value = unescapeCSS(selector.slice(selectorIndex + 1, sectionEnd));
            selectorIndex = sectionEnd + 1;
          } else {
            const valueStart = selectorIndex;
            while (
              selectorIndex < selector.length &&
              (!isWhitespace2(selector.charCodeAt(selectorIndex)) &&
                  selector.charCodeAt(selectorIndex) !== 93 ||
                isEscaped(selectorIndex))
            ) {
              selectorIndex += 1;
            }
            value = unescapeCSS(selector.slice(valueStart, selectorIndex));
          }
          stripWhitespace(0);
          const forceIgnore = selector.charCodeAt(selectorIndex) | 32;
          if (forceIgnore === 115) {
            ignoreCase2 = false;
            stripWhitespace(1);
          } else if (forceIgnore === 105) {
            ignoreCase2 = true;
            stripWhitespace(1);
          }
        }
        if (selector.charCodeAt(selectorIndex) !== 93) {
          throw new Error("Attribute selector didn't terminate");
        }
        selectorIndex += 1;
        const attributeSelector = {
          type: SelectorType.Attribute,
          name,
          action,
          value,
          namespace,
          ignoreCase: ignoreCase2,
        };
        tokens.push(attributeSelector);
        break;
      }
      case 58: {
        if (selector.charCodeAt(selectorIndex + 1) === 58) {
          tokens.push({
            type: SelectorType.PseudoElement,
            name: getName3(2).toLowerCase(),
            data: selector.charCodeAt(selectorIndex) === 40
              ? readValueWithParenthesis()
              : null,
          });
          continue;
        }
        const name = getName3(1).toLowerCase();
        let data = null;
        if (selector.charCodeAt(selectorIndex) === 40) {
          if (unpackPseudos.has(name)) {
            if (isQuote(selector.charCodeAt(selectorIndex + 1))) {
              throw new Error(`Pseudo-selector ${name} cannot be quoted`);
            }
            data = [];
            selectorIndex = parseSelector(data, selector, selectorIndex + 1);
            if (selector.charCodeAt(selectorIndex) !== 41) {
              throw new Error(
                `Missing closing parenthesis in :${name} (${selector})`,
              );
            }
            selectorIndex += 1;
          } else {
            data = readValueWithParenthesis();
            if (stripQuotesFromPseudos.has(name)) {
              const quot = data.charCodeAt(0);
              if (quot === data.charCodeAt(data.length - 1) && isQuote(quot)) {
                data = data.slice(1, -1);
              }
            }
            data = unescapeCSS(data);
          }
        }
        tokens.push({ type: SelectorType.Pseudo, name, data });
        break;
      }
      case 44: {
        finalizeSubselector();
        tokens = [];
        stripWhitespace(1);
        break;
      }
      default: {
        if (selector.startsWith("/*", selectorIndex)) {
          const endIndex = selector.indexOf("*/", selectorIndex + 2);
          if (endIndex < 0) {
            throw new Error("Comment was not terminated");
          }
          selectorIndex = endIndex + 2;
          if (tokens.length === 0) {
            stripWhitespace(0);
          }
          break;
        }
        let namespace = null;
        let name;
        if (firstChar === 42) {
          selectorIndex += 1;
          name = "*";
        } else if (firstChar === 124) {
          name = "";
          if (selector.charCodeAt(selectorIndex + 1) === 124) {
            addTraversal(SelectorType.ColumnCombinator);
            stripWhitespace(2);
            break;
          }
        } else if (reName.test(selector.slice(selectorIndex))) {
          name = getName3(0);
        } else {
          break loop;
        }
        if (
          selector.charCodeAt(selectorIndex) === 124 &&
          selector.charCodeAt(selectorIndex + 1) !== 124
        ) {
          namespace = name;
          if (selector.charCodeAt(selectorIndex + 1) === 42) {
            name = "*";
            selectorIndex += 2;
          } else {
            name = getName3(1);
          }
        }
        tokens.push(
          name === "*"
            ? { type: SelectorType.Universal, namespace }
            : { type: SelectorType.Tag, name, namespace },
        );
      }
    }
  }
  finalizeSubselector();
  return selectorIndex;
}
__name(parseSelector, "parseSelector");

// node_modules/css-select/lib/esm/compile.js
var import_boolbase5 = __toESM(require_boolbase(), 1);

// node_modules/css-select/lib/esm/sort.js
var procedure = /* @__PURE__ */ new Map([
  [SelectorType.Universal, 50],
  [SelectorType.Tag, 30],
  [SelectorType.Attribute, 1],
  [SelectorType.Pseudo, 0],
]);
function isTraversal2(token) {
  return !procedure.has(token.type);
}
__name(isTraversal2, "isTraversal");
var attributes = /* @__PURE__ */ new Map([
  [AttributeAction.Exists, 10],
  [AttributeAction.Equals, 8],
  [AttributeAction.Not, 7],
  [AttributeAction.Start, 6],
  [AttributeAction.End, 6],
  [AttributeAction.Any, 5],
]);
function sortByProcedure(arr) {
  const procs = arr.map(getProcedure);
  for (let i = 1; i < arr.length; i++) {
    const procNew = procs[i];
    if (procNew < 0) {
      continue;
    }
    for (let j = i - 1; j >= 0 && procNew < procs[j]; j--) {
      const token = arr[j + 1];
      arr[j + 1] = arr[j];
      arr[j] = token;
      procs[j + 1] = procs[j];
      procs[j] = procNew;
    }
  }
}
__name(sortByProcedure, "sortByProcedure");
function getProcedure(token) {
  var _a3, _b;
  let proc = (_a3 = procedure.get(token.type)) !== null && _a3 !== void 0
    ? _a3
    : -1;
  if (token.type === SelectorType.Attribute) {
    proc = (_b = attributes.get(token.action)) !== null && _b !== void 0
      ? _b
      : 4;
    if (token.action === AttributeAction.Equals && token.name === "id") {
      proc = 9;
    }
    if (token.ignoreCase) {
      proc >>= 1;
    }
  } else if (token.type === SelectorType.Pseudo) {
    if (!token.data) {
      proc = 3;
    } else if (token.name === "has" || token.name === "contains") {
      proc = 0;
    } else if (Array.isArray(token.data)) {
      proc = Math.min(
        ...token.data.map((d) => Math.min(...d.map(getProcedure))),
      );
      if (proc < 0) {
        proc = 0;
      }
    } else {
      proc = 2;
    }
  }
  return proc;
}
__name(getProcedure, "getProcedure");

// node_modules/css-select/lib/esm/attributes.js
var import_boolbase = __toESM(require_boolbase(), 1);
var reChars = /[-[\]{}()*+?.,\\^$|#\s]/g;
function escapeRegex(value) {
  return value.replace(reChars, "\\$&");
}
__name(escapeRegex, "escapeRegex");
var caseInsensitiveAttributes = /* @__PURE__ */ new Set([
  "accept",
  "accept-charset",
  "align",
  "alink",
  "axis",
  "bgcolor",
  "charset",
  "checked",
  "clear",
  "codetype",
  "color",
  "compact",
  "declare",
  "defer",
  "dir",
  "direction",
  "disabled",
  "enctype",
  "face",
  "frame",
  "hreflang",
  "http-equiv",
  "lang",
  "language",
  "link",
  "media",
  "method",
  "multiple",
  "nohref",
  "noresize",
  "noshade",
  "nowrap",
  "readonly",
  "rel",
  "rev",
  "rules",
  "scope",
  "scrolling",
  "selected",
  "shape",
  "target",
  "text",
  "type",
  "valign",
  "valuetype",
  "vlink",
]);
function shouldIgnoreCase(selector, options) {
  return typeof selector.ignoreCase === "boolean"
    ? selector.ignoreCase
    : selector.ignoreCase === "quirks"
    ? !!options.quirksMode
    : !options.xmlMode && caseInsensitiveAttributes.has(selector.name);
}
__name(shouldIgnoreCase, "shouldIgnoreCase");
var attributeRules = {
  equals(next, data, options) {
    const { adapter: adapter2 } = options;
    const { name } = data;
    let { value } = data;
    if (shouldIgnoreCase(data, options)) {
      value = value.toLowerCase();
      return (elem) => {
        const attr = adapter2.getAttributeValue(elem, name);
        return attr != null && attr.length === value.length &&
          attr.toLowerCase() === value && next(elem);
      };
    }
    return (elem) =>
      adapter2.getAttributeValue(elem, name) === value && next(elem);
  },
  hyphen(next, data, options) {
    const { adapter: adapter2 } = options;
    const { name } = data;
    let { value } = data;
    const len = value.length;
    if (shouldIgnoreCase(data, options)) {
      value = value.toLowerCase();
      return /* @__PURE__ */ __name(function hyphenIC(elem) {
        const attr = adapter2.getAttributeValue(elem, name);
        return attr != null &&
          (attr.length === len || attr.charAt(len) === "-") &&
          attr.substr(0, len).toLowerCase() === value && next(elem);
      }, "hyphenIC");
    }
    return /* @__PURE__ */ __name(function hyphen(elem) {
      const attr = adapter2.getAttributeValue(elem, name);
      return attr != null &&
        (attr.length === len || attr.charAt(len) === "-") &&
        attr.substr(0, len) === value && next(elem);
    }, "hyphen");
  },
  element(next, data, options) {
    const { adapter: adapter2 } = options;
    const { name, value } = data;
    if (/\s/.test(value)) {
      return import_boolbase.default.falseFunc;
    }
    const regex = new RegExp(
      `(?:^|\\s)${escapeRegex(value)}(?:$|\\s)`,
      shouldIgnoreCase(data, options) ? "i" : "",
    );
    return /* @__PURE__ */ __name(function element(elem) {
      const attr = adapter2.getAttributeValue(elem, name);
      return attr != null && attr.length >= value.length && regex.test(attr) &&
        next(elem);
    }, "element");
  },
  exists(next, { name }, { adapter: adapter2 }) {
    return (elem) => adapter2.hasAttrib(elem, name) && next(elem);
  },
  start(next, data, options) {
    const { adapter: adapter2 } = options;
    const { name } = data;
    let { value } = data;
    const len = value.length;
    if (len === 0) {
      return import_boolbase.default.falseFunc;
    }
    if (shouldIgnoreCase(data, options)) {
      value = value.toLowerCase();
      return (elem) => {
        const attr = adapter2.getAttributeValue(elem, name);
        return attr != null && attr.length >= len &&
          attr.substr(0, len).toLowerCase() === value && next(elem);
      };
    }
    return (elem) => {
      var _a3;
      return !!((_a3 = adapter2.getAttributeValue(elem, name)) === null ||
          _a3 === void 0
        ? void 0
        : _a3.startsWith(value)) && next(elem);
    };
  },
  end(next, data, options) {
    const { adapter: adapter2 } = options;
    const { name } = data;
    let { value } = data;
    const len = -value.length;
    if (len === 0) {
      return import_boolbase.default.falseFunc;
    }
    if (shouldIgnoreCase(data, options)) {
      value = value.toLowerCase();
      return (elem) => {
        var _a3;
        return ((_a3 = adapter2.getAttributeValue(elem, name)) === null ||
                _a3 === void 0
              ? void 0
              : _a3.substr(len).toLowerCase()) === value && next(elem);
      };
    }
    return (elem) => {
      var _a3;
      return !!((_a3 = adapter2.getAttributeValue(elem, name)) === null ||
          _a3 === void 0
        ? void 0
        : _a3.endsWith(value)) && next(elem);
    };
  },
  any(next, data, options) {
    const { adapter: adapter2 } = options;
    const { name, value } = data;
    if (value === "") {
      return import_boolbase.default.falseFunc;
    }
    if (shouldIgnoreCase(data, options)) {
      const regex = new RegExp(escapeRegex(value), "i");
      return /* @__PURE__ */ __name(function anyIC(elem) {
        const attr = adapter2.getAttributeValue(elem, name);
        return attr != null && attr.length >= value.length &&
          regex.test(attr) && next(elem);
      }, "anyIC");
    }
    return (elem) => {
      var _a3;
      return !!((_a3 = adapter2.getAttributeValue(elem, name)) === null ||
          _a3 === void 0
        ? void 0
        : _a3.includes(value)) && next(elem);
    };
  },
  not(next, data, options) {
    const { adapter: adapter2 } = options;
    const { name } = data;
    let { value } = data;
    if (value === "") {
      return (elem) => !!adapter2.getAttributeValue(elem, name) && next(elem);
    } else if (shouldIgnoreCase(data, options)) {
      value = value.toLowerCase();
      return (elem) => {
        const attr = adapter2.getAttributeValue(elem, name);
        return (attr == null || attr.length !== value.length ||
          attr.toLowerCase() !== value) && next(elem);
      };
    }
    return (elem) =>
      adapter2.getAttributeValue(elem, name) !== value && next(elem);
  },
};

// node_modules/nth-check/lib/esm/parse.js
var whitespace = /* @__PURE__ */ new Set([9, 10, 12, 13, 32]);
var ZERO = "0".charCodeAt(0);
var NINE = "9".charCodeAt(0);
function parse2(formula) {
  formula = formula.trim().toLowerCase();
  if (formula === "even") {
    return [2, 0];
  } else if (formula === "odd") {
    return [2, 1];
  }
  let idx = 0;
  let a = 0;
  let sign = readSign();
  let number = readNumber();
  if (idx < formula.length && formula.charAt(idx) === "n") {
    idx++;
    a = sign * (number !== null && number !== void 0 ? number : 1);
    skipWhitespace();
    if (idx < formula.length) {
      sign = readSign();
      skipWhitespace();
      number = readNumber();
    } else {
      sign = number = 0;
    }
  }
  if (number === null || idx < formula.length) {
    throw new Error(`n-th rule couldn't be parsed ('${formula}')`);
  }
  return [a, sign * number];
  function readSign() {
    if (formula.charAt(idx) === "-") {
      idx++;
      return -1;
    }
    if (formula.charAt(idx) === "+") {
      idx++;
    }
    return 1;
  }
  __name(readSign, "readSign");
  function readNumber() {
    const start = idx;
    let value = 0;
    while (
      idx < formula.length && formula.charCodeAt(idx) >= ZERO &&
      formula.charCodeAt(idx) <= NINE
    ) {
      value = value * 10 + (formula.charCodeAt(idx) - ZERO);
      idx++;
    }
    return idx === start ? null : value;
  }
  __name(readNumber, "readNumber");
  function skipWhitespace() {
    while (idx < formula.length && whitespace.has(formula.charCodeAt(idx))) {
      idx++;
    }
  }
  __name(skipWhitespace, "skipWhitespace");
}
__name(parse2, "parse");

// node_modules/nth-check/lib/esm/compile.js
var import_boolbase2 = __toESM(require_boolbase(), 1);
function compile(parsed) {
  const a = parsed[0];
  const b = parsed[1] - 1;
  if (b < 0 && a <= 0) {
    return import_boolbase2.default.falseFunc;
  }
  if (a === -1) {
    return (index) => index <= b;
  }
  if (a === 0) {
    return (index) => index === b;
  }
  if (a === 1) {
    return b < 0 ? import_boolbase2.default.trueFunc : (index) => index >= b;
  }
  const absA = Math.abs(a);
  const bMod = (b % absA + absA) % absA;
  return a > 1
    ? (index) => index >= b && index % absA === bMod
    : (index) => index <= b && index % absA === bMod;
}
__name(compile, "compile");

// node_modules/nth-check/lib/esm/index.js
function nthCheck(formula) {
  return compile(parse2(formula));
}
__name(nthCheck, "nthCheck");

// node_modules/css-select/lib/esm/pseudo-selectors/filters.js
var import_boolbase3 = __toESM(require_boolbase(), 1);
function getChildFunc(next, adapter2) {
  return (elem) => {
    const parent = adapter2.getParent(elem);
    return parent != null && adapter2.isTag(parent) && next(elem);
  };
}
__name(getChildFunc, "getChildFunc");
var filters = {
  contains(next, text, { adapter: adapter2 }) {
    return /* @__PURE__ */ __name(function contains(elem) {
      return next(elem) && adapter2.getText(elem).includes(text);
    }, "contains");
  },
  icontains(next, text, { adapter: adapter2 }) {
    const itext = text.toLowerCase();
    return /* @__PURE__ */ __name(function icontains(elem) {
      return next(elem) && adapter2.getText(elem).toLowerCase().includes(itext);
    }, "icontains");
  },
  "nth-child"(next, rule, { adapter: adapter2, equals }) {
    const func = nthCheck(rule);
    if (func === import_boolbase3.default.falseFunc) {
      return import_boolbase3.default.falseFunc;
    }
    if (func === import_boolbase3.default.trueFunc) {
      return getChildFunc(next, adapter2);
    }
    return /* @__PURE__ */ __name(function nthChild(elem) {
      const siblings = adapter2.getSiblings(elem);
      let pos = 0;
      for (let i = 0; i < siblings.length; i++) {
        if (equals(elem, siblings[i])) {
          break;
        }
        if (adapter2.isTag(siblings[i])) {
          pos++;
        }
      }
      return func(pos) && next(elem);
    }, "nthChild");
  },
  "nth-last-child"(next, rule, { adapter: adapter2, equals }) {
    const func = nthCheck(rule);
    if (func === import_boolbase3.default.falseFunc) {
      return import_boolbase3.default.falseFunc;
    }
    if (func === import_boolbase3.default.trueFunc) {
      return getChildFunc(next, adapter2);
    }
    return /* @__PURE__ */ __name(function nthLastChild(elem) {
      const siblings = adapter2.getSiblings(elem);
      let pos = 0;
      for (let i = siblings.length - 1; i >= 0; i--) {
        if (equals(elem, siblings[i])) {
          break;
        }
        if (adapter2.isTag(siblings[i])) {
          pos++;
        }
      }
      return func(pos) && next(elem);
    }, "nthLastChild");
  },
  "nth-of-type"(next, rule, { adapter: adapter2, equals }) {
    const func = nthCheck(rule);
    if (func === import_boolbase3.default.falseFunc) {
      return import_boolbase3.default.falseFunc;
    }
    if (func === import_boolbase3.default.trueFunc) {
      return getChildFunc(next, adapter2);
    }
    return /* @__PURE__ */ __name(function nthOfType(elem) {
      const siblings = adapter2.getSiblings(elem);
      let pos = 0;
      for (let i = 0; i < siblings.length; i++) {
        const currentSibling = siblings[i];
        if (equals(elem, currentSibling)) {
          break;
        }
        if (
          adapter2.isTag(currentSibling) &&
          adapter2.getName(currentSibling) === adapter2.getName(elem)
        ) {
          pos++;
        }
      }
      return func(pos) && next(elem);
    }, "nthOfType");
  },
  "nth-last-of-type"(next, rule, { adapter: adapter2, equals }) {
    const func = nthCheck(rule);
    if (func === import_boolbase3.default.falseFunc) {
      return import_boolbase3.default.falseFunc;
    }
    if (func === import_boolbase3.default.trueFunc) {
      return getChildFunc(next, adapter2);
    }
    return /* @__PURE__ */ __name(function nthLastOfType(elem) {
      const siblings = adapter2.getSiblings(elem);
      let pos = 0;
      for (let i = siblings.length - 1; i >= 0; i--) {
        const currentSibling = siblings[i];
        if (equals(elem, currentSibling)) {
          break;
        }
        if (
          adapter2.isTag(currentSibling) &&
          adapter2.getName(currentSibling) === adapter2.getName(elem)
        ) {
          pos++;
        }
      }
      return func(pos) && next(elem);
    }, "nthLastOfType");
  },
  root(next, _rule, { adapter: adapter2 }) {
    return (elem) => {
      const parent = adapter2.getParent(elem);
      return (parent == null || !adapter2.isTag(parent)) && next(elem);
    };
  },
  scope(next, rule, options, context) {
    const { equals } = options;
    if (!context || context.length === 0) {
      return filters["root"](next, rule, options);
    }
    if (context.length === 1) {
      return (elem) => equals(context[0], elem) && next(elem);
    }
    return (elem) => context.includes(elem) && next(elem);
  },
  hover: dynamicStatePseudo("isHovered"),
  visited: dynamicStatePseudo("isVisited"),
  active: dynamicStatePseudo("isActive"),
};
function dynamicStatePseudo(name) {
  return /* @__PURE__ */ __name(
    function dynamicPseudo(next, _rule, { adapter: adapter2 }) {
      const func = adapter2[name];
      if (typeof func !== "function") {
        return import_boolbase3.default.falseFunc;
      }
      return /* @__PURE__ */ __name(function active(elem) {
        return func(elem) && next(elem);
      }, "active");
    },
    "dynamicPseudo",
  );
}
__name(dynamicStatePseudo, "dynamicStatePseudo");

// node_modules/css-select/lib/esm/pseudo-selectors/pseudos.js
var pseudos = {
  empty(elem, { adapter: adapter2 }) {
    return !adapter2.getChildren(elem).some((elem2) =>
      adapter2.isTag(elem2) || adapter2.getText(elem2) !== ""
    );
  },
  "first-child"(elem, { adapter: adapter2, equals }) {
    if (adapter2.prevElementSibling) {
      return adapter2.prevElementSibling(elem) == null;
    }
    const firstChild = adapter2.getSiblings(elem).find((elem2) =>
      adapter2.isTag(elem2)
    );
    return firstChild != null && equals(elem, firstChild);
  },
  "last-child"(elem, { adapter: adapter2, equals }) {
    const siblings = adapter2.getSiblings(elem);
    for (let i = siblings.length - 1; i >= 0; i--) {
      if (equals(elem, siblings[i])) {
        return true;
      }
      if (adapter2.isTag(siblings[i])) {
        break;
      }
    }
    return false;
  },
  "first-of-type"(elem, { adapter: adapter2, equals }) {
    const siblings = adapter2.getSiblings(elem);
    const elemName = adapter2.getName(elem);
    for (let i = 0; i < siblings.length; i++) {
      const currentSibling = siblings[i];
      if (equals(elem, currentSibling)) {
        return true;
      }
      if (
        adapter2.isTag(currentSibling) &&
        adapter2.getName(currentSibling) === elemName
      ) {
        break;
      }
    }
    return false;
  },
  "last-of-type"(elem, { adapter: adapter2, equals }) {
    const siblings = adapter2.getSiblings(elem);
    const elemName = adapter2.getName(elem);
    for (let i = siblings.length - 1; i >= 0; i--) {
      const currentSibling = siblings[i];
      if (equals(elem, currentSibling)) {
        return true;
      }
      if (
        adapter2.isTag(currentSibling) &&
        adapter2.getName(currentSibling) === elemName
      ) {
        break;
      }
    }
    return false;
  },
  "only-of-type"(elem, { adapter: adapter2, equals }) {
    const elemName = adapter2.getName(elem);
    return adapter2.getSiblings(elem).every((sibling) =>
      equals(elem, sibling) || !adapter2.isTag(sibling) ||
      adapter2.getName(sibling) !== elemName
    );
  },
  "only-child"(elem, { adapter: adapter2, equals }) {
    return adapter2.getSiblings(elem).every((sibling) =>
      equals(elem, sibling) || !adapter2.isTag(sibling)
    );
  },
};
function verifyPseudoArgs(func, name, subselect, argIndex) {
  if (subselect === null) {
    if (func.length > argIndex) {
      throw new Error(`Pseudo-class :${name} requires an argument`);
    }
  } else if (func.length === argIndex) {
    throw new Error(`Pseudo-class :${name} doesn't have any arguments`);
  }
}
__name(verifyPseudoArgs, "verifyPseudoArgs");

// node_modules/css-select/lib/esm/pseudo-selectors/aliases.js
var aliases = {
  "any-link": ":is(a, area, link)[href]",
  link: ":any-link:not(:visited)",
  disabled: `:is(
        :is(button, input, select, textarea, optgroup, option)[disabled],
        optgroup[disabled] > option,
        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)
    )`,
  enabled: ":not(:disabled)",
  checked:
    ":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",
  required: ":is(input, select, textarea)[required]",
  optional: ":is(input, select, textarea):not([required])",
  selected:
    "option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",
  checkbox: "[type=checkbox]",
  file: "[type=file]",
  password: "[type=password]",
  radio: "[type=radio]",
  reset: "[type=reset]",
  image: "[type=image]",
  submit: "[type=submit]",
  parent: ":not(:empty)",
  header: ":is(h1, h2, h3, h4, h5, h6)",
  button: ":is(button, input[type=button])",
  input: ":is(input, textarea, select, button)",
  text: "input:is(:not([type!='']), [type=text])",
};

// node_modules/css-select/lib/esm/pseudo-selectors/subselects.js
var import_boolbase4 = __toESM(require_boolbase(), 1);
var PLACEHOLDER_ELEMENT = {};
function ensureIsTag(next, adapter2) {
  if (next === import_boolbase4.default.falseFunc) {
    return import_boolbase4.default.falseFunc;
  }
  return (elem) => adapter2.isTag(elem) && next(elem);
}
__name(ensureIsTag, "ensureIsTag");
function getNextSiblings(elem, adapter2) {
  const siblings = adapter2.getSiblings(elem);
  if (siblings.length <= 1) {
    return [];
  }
  const elemIndex = siblings.indexOf(elem);
  if (elemIndex < 0 || elemIndex === siblings.length - 1) {
    return [];
  }
  return siblings.slice(elemIndex + 1).filter(adapter2.isTag);
}
__name(getNextSiblings, "getNextSiblings");
function copyOptions(options) {
  return {
    xmlMode: !!options.xmlMode,
    lowerCaseAttributeNames: !!options.lowerCaseAttributeNames,
    lowerCaseTags: !!options.lowerCaseTags,
    quirksMode: !!options.quirksMode,
    cacheResults: !!options.cacheResults,
    pseudos: options.pseudos,
    adapter: options.adapter,
    equals: options.equals,
  };
}
__name(copyOptions, "copyOptions");
var is = /* @__PURE__ */ __name(
  (next, token, options, context, compileToken2) => {
    const func = compileToken2(token, copyOptions(options), context);
    return func === import_boolbase4.default.trueFunc
      ? next
      : func === import_boolbase4.default.falseFunc
      ? import_boolbase4.default.falseFunc
      : (elem) => func(elem) && next(elem);
  },
  "is",
);
var subselects = {
  is,
  matches: is,
  where: is,
  not(next, token, options, context, compileToken2) {
    const func = compileToken2(token, copyOptions(options), context);
    return func === import_boolbase4.default.falseFunc
      ? next
      : func === import_boolbase4.default.trueFunc
      ? import_boolbase4.default.falseFunc
      : (elem) => !func(elem) && next(elem);
  },
  has(next, subselect, options, _context, compileToken2) {
    const { adapter: adapter2 } = options;
    const opts = copyOptions(options);
    opts.relativeSelector = true;
    const context = subselect.some((s) => s.some(isTraversal2))
      ? [PLACEHOLDER_ELEMENT]
      : void 0;
    const compiled = compileToken2(subselect, opts, context);
    if (compiled === import_boolbase4.default.falseFunc) {
      return import_boolbase4.default.falseFunc;
    }
    const hasElement = ensureIsTag(compiled, adapter2);
    if (context && compiled !== import_boolbase4.default.trueFunc) {
      const { shouldTestNextSiblings = false } = compiled;
      return (elem) => {
        if (!next(elem)) {
          return false;
        }
        context[0] = elem;
        const childs = adapter2.getChildren(elem);
        const nextElements = shouldTestNextSiblings
          ? [...childs, ...getNextSiblings(elem, adapter2)]
          : childs;
        return adapter2.existsOne(hasElement, nextElements);
      };
    }
    return (elem) =>
      next(elem) && adapter2.existsOne(hasElement, adapter2.getChildren(elem));
  },
};

// node_modules/css-select/lib/esm/pseudo-selectors/index.js
function compilePseudoSelector(
  next,
  selector,
  options,
  context,
  compileToken2,
) {
  var _a3;
  const { name, data } = selector;
  if (Array.isArray(data)) {
    if (!(name in subselects)) {
      throw new Error(`Unknown pseudo-class :${name}(${data})`);
    }
    return subselects[name](next, data, options, context, compileToken2);
  }
  const userPseudo = (_a3 = options.pseudos) === null || _a3 === void 0
    ? void 0
    : _a3[name];
  const stringPseudo = typeof userPseudo === "string"
    ? userPseudo
    : aliases[name];
  if (typeof stringPseudo === "string") {
    if (data != null) {
      throw new Error(`Pseudo ${name} doesn't have any arguments`);
    }
    const alias = parse(stringPseudo);
    return subselects["is"](next, alias, options, context, compileToken2);
  }
  if (typeof userPseudo === "function") {
    verifyPseudoArgs(userPseudo, name, data, 1);
    return (elem) => userPseudo(elem, data) && next(elem);
  }
  if (name in filters) {
    return filters[name](next, data, options, context);
  }
  if (name in pseudos) {
    const pseudo = pseudos[name];
    verifyPseudoArgs(pseudo, name, data, 2);
    return (elem) => pseudo(elem, options, data) && next(elem);
  }
  throw new Error(`Unknown pseudo-class :${name}`);
}
__name(compilePseudoSelector, "compilePseudoSelector");

// node_modules/css-select/lib/esm/general.js
function getElementParent(node, adapter2) {
  const parent = adapter2.getParent(node);
  if (parent && adapter2.isTag(parent)) {
    return parent;
  }
  return null;
}
__name(getElementParent, "getElementParent");
function compileGeneralSelector(
  next,
  selector,
  options,
  context,
  compileToken2,
) {
  const { adapter: adapter2, equals } = options;
  switch (selector.type) {
    case SelectorType.PseudoElement: {
      throw new Error("Pseudo-elements are not supported by css-select");
    }
    case SelectorType.ColumnCombinator: {
      throw new Error("Column combinators are not yet supported by css-select");
    }
    case SelectorType.Attribute: {
      if (selector.namespace != null) {
        throw new Error(
          "Namespaced attributes are not yet supported by css-select",
        );
      }
      if (!options.xmlMode || options.lowerCaseAttributeNames) {
        selector.name = selector.name.toLowerCase();
      }
      return attributeRules[selector.action](next, selector, options);
    }
    case SelectorType.Pseudo: {
      return compilePseudoSelector(
        next,
        selector,
        options,
        context,
        compileToken2,
      );
    }
    case SelectorType.Tag: {
      if (selector.namespace != null) {
        throw new Error(
          "Namespaced tag names are not yet supported by css-select",
        );
      }
      let { name } = selector;
      if (!options.xmlMode || options.lowerCaseTags) {
        name = name.toLowerCase();
      }
      return /* @__PURE__ */ __name(function tag(elem) {
        return adapter2.getName(elem) === name && next(elem);
      }, "tag");
    }
    case SelectorType.Descendant: {
      if (options.cacheResults === false || typeof WeakSet === "undefined") {
        return /* @__PURE__ */ __name(function descendant(elem) {
          let current = elem;
          while (current = getElementParent(current, adapter2)) {
            if (next(current)) {
              return true;
            }
          }
          return false;
        }, "descendant");
      }
      const isFalseCache = /* @__PURE__ */ new WeakSet();
      return /* @__PURE__ */ __name(function cachedDescendant(elem) {
        let current = elem;
        while (current = getElementParent(current, adapter2)) {
          if (!isFalseCache.has(current)) {
            if (adapter2.isTag(current) && next(current)) {
              return true;
            }
            isFalseCache.add(current);
          }
        }
        return false;
      }, "cachedDescendant");
    }
    case "_flexibleDescendant": {
      return /* @__PURE__ */ __name(function flexibleDescendant(elem) {
        let current = elem;
        do {
          if (next(current)) {
            return true;
          }
        } while (current = getElementParent(current, adapter2));
        return false;
      }, "flexibleDescendant");
    }
    case SelectorType.Parent: {
      return /* @__PURE__ */ __name(function parent(elem) {
        return adapter2.getChildren(elem).some((elem2) =>
          adapter2.isTag(elem2) && next(elem2)
        );
      }, "parent");
    }
    case SelectorType.Child: {
      return /* @__PURE__ */ __name(function child(elem) {
        const parent = adapter2.getParent(elem);
        return parent != null && adapter2.isTag(parent) && next(parent);
      }, "child");
    }
    case SelectorType.Sibling: {
      return /* @__PURE__ */ __name(function sibling(elem) {
        const siblings = adapter2.getSiblings(elem);
        for (let i = 0; i < siblings.length; i++) {
          const currentSibling = siblings[i];
          if (equals(elem, currentSibling)) {
            break;
          }
          if (adapter2.isTag(currentSibling) && next(currentSibling)) {
            return true;
          }
        }
        return false;
      }, "sibling");
    }
    case SelectorType.Adjacent: {
      if (adapter2.prevElementSibling) {
        return /* @__PURE__ */ __name(function adjacent(elem) {
          const previous = adapter2.prevElementSibling(elem);
          return previous != null && next(previous);
        }, "adjacent");
      }
      return /* @__PURE__ */ __name(function adjacent(elem) {
        const siblings = adapter2.getSiblings(elem);
        let lastElement;
        for (let i = 0; i < siblings.length; i++) {
          const currentSibling = siblings[i];
          if (equals(elem, currentSibling)) {
            break;
          }
          if (adapter2.isTag(currentSibling)) {
            lastElement = currentSibling;
          }
        }
        return !!lastElement && next(lastElement);
      }, "adjacent");
    }
    case SelectorType.Universal: {
      if (selector.namespace != null && selector.namespace !== "*") {
        throw new Error(
          "Namespaced universal selectors are not yet supported by css-select",
        );
      }
      return next;
    }
  }
}
__name(compileGeneralSelector, "compileGeneralSelector");

// node_modules/css-select/lib/esm/compile.js
function compile2(selector, options, context) {
  const next = compileUnsafe(selector, options, context);
  return ensureIsTag(next, options.adapter);
}
__name(compile2, "compile");
function compileUnsafe(selector, options, context) {
  const token = typeof selector === "string" ? parse(selector) : selector;
  return compileToken(token, options, context);
}
__name(compileUnsafe, "compileUnsafe");
function includesScopePseudo(t) {
  return t.type === SelectorType.Pseudo &&
    (t.name === "scope" ||
      Array.isArray(t.data) &&
        t.data.some((data) => data.some(includesScopePseudo)));
}
__name(includesScopePseudo, "includesScopePseudo");
var DESCENDANT_TOKEN = { type: SelectorType.Descendant };
var FLEXIBLE_DESCENDANT_TOKEN = {
  type: "_flexibleDescendant",
};
var SCOPE_TOKEN = {
  type: SelectorType.Pseudo,
  name: "scope",
  data: null,
};
function absolutize(token, { adapter: adapter2 }, context) {
  const hasContext =
    !!(context === null || context === void 0 ? void 0 : context.every((e) => {
      const parent = adapter2.isTag(e) && adapter2.getParent(e);
      return e === PLACEHOLDER_ELEMENT || parent && adapter2.isTag(parent);
    }));
  for (const t of token) {
    if (
      t.length > 0 && isTraversal2(t[0]) &&
      t[0].type !== SelectorType.Descendant
    ) {
    } else if (hasContext && !t.some(includesScopePseudo)) {
      t.unshift(DESCENDANT_TOKEN);
    } else {
      continue;
    }
    t.unshift(SCOPE_TOKEN);
  }
}
__name(absolutize, "absolutize");
function compileToken(token, options, context) {
  var _a3;
  token.forEach(sortByProcedure);
  context = (_a3 = options.context) !== null && _a3 !== void 0 ? _a3 : context;
  const isArrayContext = Array.isArray(context);
  const finalContext = context &&
    (Array.isArray(context) ? context : [context]);
  if (options.relativeSelector !== false) {
    absolutize(token, options, finalContext);
  } else if (token.some((t) => t.length > 0 && isTraversal2(t[0]))) {
    throw new Error(
      "Relative selectors are not allowed when the `relativeSelector` option is disabled",
    );
  }
  let shouldTestNextSiblings = false;
  const query2 = token.map((rules) => {
    if (rules.length >= 2) {
      const [first, second] = rules;
      if (first.type !== SelectorType.Pseudo || first.name !== "scope") {
      } else if (isArrayContext && second.type === SelectorType.Descendant) {
        rules[1] = FLEXIBLE_DESCENDANT_TOKEN;
      } else if (
        second.type === SelectorType.Adjacent ||
        second.type === SelectorType.Sibling
      ) {
        shouldTestNextSiblings = true;
      }
    }
    return compileRules(rules, options, finalContext);
  }).reduce(reduceRules, import_boolbase5.default.falseFunc);
  query2.shouldTestNextSiblings = shouldTestNextSiblings;
  return query2;
}
__name(compileToken, "compileToken");
function compileRules(rules, options, context) {
  var _a3;
  return rules.reduce(
    (previous, rule) =>
      previous === import_boolbase5.default.falseFunc
        ? import_boolbase5.default.falseFunc
        : compileGeneralSelector(
          previous,
          rule,
          options,
          context,
          compileToken,
        ),
    (_a3 = options.rootFunc) !== null && _a3 !== void 0
      ? _a3
      : import_boolbase5.default.trueFunc,
  );
}
__name(compileRules, "compileRules");
function reduceRules(a, b) {
  if (
    b === import_boolbase5.default.falseFunc ||
    a === import_boolbase5.default.trueFunc
  ) {
    return a;
  }
  if (
    a === import_boolbase5.default.falseFunc ||
    b === import_boolbase5.default.trueFunc
  ) {
    return b;
  }
  return /* @__PURE__ */ __name(function combine(elem) {
    return a(elem) || b(elem);
  }, "combine");
}
__name(reduceRules, "reduceRules");

// node_modules/css-select/lib/esm/index.js
var defaultEquals = /* @__PURE__ */ __name((a, b) => a === b, "defaultEquals");
var defaultOptions = {
  adapter: esm_exports2,
  equals: defaultEquals,
};
function convertOptionFormats(options) {
  var _a3, _b, _c, _d;
  const opts = options !== null && options !== void 0
    ? options
    : defaultOptions;
  (_a3 = opts.adapter) !== null && _a3 !== void 0
    ? _a3
    : opts.adapter = esm_exports2;
  (_b = opts.equals) !== null && _b !== void 0
    ? _b
    : opts.equals = (_d = (_c = opts.adapter) === null || _c === void 0
            ? void 0
            : _c.equals) !== null && _d !== void 0
      ? _d
      : defaultEquals;
  return opts;
}
__name(convertOptionFormats, "convertOptionFormats");
function wrapCompile(func) {
  return /* @__PURE__ */ __name(
    function addAdapter(selector, options, context) {
      const opts = convertOptionFormats(options);
      return func(selector, opts, context);
    },
    "addAdapter",
  );
}
__name(wrapCompile, "wrapCompile");
var compile3 = wrapCompile(compile2);
var _compileUnsafe = wrapCompile(compileUnsafe);
var _compileToken = wrapCompile(compileToken);
function getSelectorFunc(searchFunc) {
  return /* @__PURE__ */ __name(function select(query2, elements, options) {
    const opts = convertOptionFormats(options);
    if (typeof query2 !== "function") {
      query2 = compileUnsafe(query2, opts, elements);
    }
    const filteredElements = prepareContext(
      elements,
      opts.adapter,
      query2.shouldTestNextSiblings,
    );
    return searchFunc(query2, filteredElements, opts);
  }, "select");
}
__name(getSelectorFunc, "getSelectorFunc");
function prepareContext(elems, adapter2, shouldTestNextSiblings = false) {
  if (shouldTestNextSiblings) {
    elems = appendNextSiblings(elems, adapter2);
  }
  return Array.isArray(elems)
    ? adapter2.removeSubsets(elems)
    : adapter2.getChildren(elems);
}
__name(prepareContext, "prepareContext");
function appendNextSiblings(elem, adapter2) {
  const elems = Array.isArray(elem) ? elem.slice(0) : [elem];
  const elemsLength = elems.length;
  for (let i = 0; i < elemsLength; i++) {
    const nextSiblings = getNextSiblings(elems[i], adapter2);
    elems.push(...nextSiblings);
  }
  return elems;
}
__name(appendNextSiblings, "appendNextSiblings");
var selectAll = getSelectorFunc((query2, elems, options) =>
  query2 === import_boolbase6.default.falseFunc || !elems || elems.length === 0
    ? []
    : options.adapter.findAll(query2, elems)
);
var selectOne = getSelectorFunc((query2, elems, options) =>
  query2 === import_boolbase6.default.falseFunc || !elems || elems.length === 0
    ? null
    : options.adapter.findOne(query2, elems)
);
function is2(elem, query2, options) {
  const opts = convertOptionFormats(options);
  return (typeof query2 === "function" ? query2 : compile2(query2, opts))(elem);
}
__name(is2, "is");

// node_modules/linkedom/esm/shared/matches.js
var { isArray } = Array;
var isTag3 = /* @__PURE__ */ __name(
  ({ nodeType }) => nodeType === ELEMENT_NODE,
  "isTag",
);
var existsOne2 = /* @__PURE__ */ __name(
  (test, elements) =>
    elements.some((element) =>
      isTag3(element) &&
      (test(element) || existsOne2(test, getChildren2(element)))
    ),
  "existsOne",
);
var getAttributeValue2 = /* @__PURE__ */ __name(
  (element, name) =>
    name === "class" ? element.classList.value : element.getAttribute(name),
  "getAttributeValue",
);
var getChildren2 = /* @__PURE__ */ __name(
  ({ childNodes }) => childNodes,
  "getChildren",
);
var getName2 = /* @__PURE__ */ __name((element) => {
  const { localName } = element;
  return ignoreCase(element) ? localName.toLowerCase() : localName;
}, "getName");
var getParent2 = /* @__PURE__ */ __name(
  ({ parentNode }) => parentNode,
  "getParent",
);
var getSiblings2 = /* @__PURE__ */ __name((element) => {
  const { parentNode } = element;
  return parentNode ? getChildren2(parentNode) : element;
}, "getSiblings");
var getText2 = /* @__PURE__ */ __name((node) => {
  if (isArray(node)) {
    return node.map(getText2).join("");
  }
  if (isTag3(node)) {
    return getText2(getChildren2(node));
  }
  if (node.nodeType === TEXT_NODE) {
    return node.data;
  }
  return "";
}, "getText");
var hasAttrib2 = /* @__PURE__ */ __name(
  (element, name) => element.hasAttribute(name),
  "hasAttrib",
);
var removeSubsets2 = /* @__PURE__ */ __name((nodes) => {
  let { length } = nodes;
  while (length--) {
    const node = nodes[length];
    if (length && -1 < nodes.lastIndexOf(node, length - 1)) {
      nodes.splice(length, 1);
      continue;
    }
    for (
      let { parentNode } = node; parentNode; parentNode = parentNode.parentNode
    ) {
      if (nodes.includes(parentNode)) {
        nodes.splice(length, 1);
        break;
      }
    }
  }
  return nodes;
}, "removeSubsets");
var findAll2 = /* @__PURE__ */ __name((test, nodes) => {
  const matches2 = [];
  for (const node of nodes) {
    if (isTag3(node)) {
      if (test(node)) {
        matches2.push(node);
      }
      matches2.push(...findAll2(test, getChildren2(node)));
    }
  }
  return matches2;
}, "findAll");
var findOne2 = /* @__PURE__ */ __name((test, nodes) => {
  for (let node of nodes) {
    if (test(node) || (node = findOne2(test, getChildren2(node)))) {
      return node;
    }
  }
  return null;
}, "findOne");
var adapter = {
  isTag: isTag3,
  existsOne: existsOne2,
  getAttributeValue: getAttributeValue2,
  getChildren: getChildren2,
  getName: getName2,
  getParent: getParent2,
  getSiblings: getSiblings2,
  getText: getText2,
  hasAttrib: hasAttrib2,
  removeSubsets: removeSubsets2,
  findAll: findAll2,
  findOne: findOne2,
};
var prepareMatch = /* @__PURE__ */ __name(
  (element, selectors) =>
    compile3(selectors, {
      context: selectors.includes(":scope") ? element : void 0,
      xmlMode: !ignoreCase(element),
      adapter,
    }),
  "prepareMatch",
);
var matches = /* @__PURE__ */ __name(
  (element, selectors) =>
    is2(element, selectors, {
      strict: true,
      context: selectors.includes(":scope") ? element : void 0,
      xmlMode: !ignoreCase(element),
      adapter,
    }),
  "matches",
);

// node_modules/linkedom/esm/shared/text-escaper.js
var { replace } = "";
var ca = /[<>&\xA0]/g;
var esca = {
  "\xA0": "&nbsp;",
  "&": "&amp;",
  "<": "&lt;",
  ">": "&gt;",
};
var pe = /* @__PURE__ */ __name((m) => esca[m], "pe");
var escape2 = /* @__PURE__ */ __name(
  (es) => replace.call(es, ca, pe),
  "escape",
);

// node_modules/linkedom/esm/interface/text.js
var Text4 = class extends CharacterData {
  constructor(ownerDocument, data = "") {
    super(ownerDocument, "#text", TEXT_NODE, data);
  }
  get wholeText() {
    const text = [];
    let { previousSibling: previousSibling2, nextSibling: nextSibling2 } = this;
    while (previousSibling2) {
      if (previousSibling2.nodeType === TEXT_NODE) {
        text.unshift(previousSibling2[VALUE]);
      } else {
        break;
      }
      previousSibling2 = previousSibling2.previousSibling;
    }
    text.push(this[VALUE]);
    while (nextSibling2) {
      if (nextSibling2.nodeType === TEXT_NODE) {
        text.push(nextSibling2[VALUE]);
      } else {
        break;
      }
      nextSibling2 = nextSibling2.nextSibling;
    }
    return text.join("");
  }
  cloneNode() {
    const { ownerDocument, [VALUE]: data } = this;
    return new Text4(ownerDocument, data);
  }
  toString() {
    return escape2(this[VALUE]);
  }
};
__name(Text4, "Text");

// node_modules/linkedom/esm/mixin/parent-node.js
var isNode = /* @__PURE__ */ __name((node) => node instanceof Node2, "isNode");
var insert = /* @__PURE__ */ __name((parentNode, child, nodes) => {
  const { ownerDocument } = parentNode;
  for (const node of nodes) {
    parentNode.insertBefore(
      isNode(node) ? node : new Text4(ownerDocument, node),
      child,
    );
  }
}, "insert");
var ParentNode = class extends Node2 {
  constructor(ownerDocument, localName, nodeType) {
    super(ownerDocument, localName, nodeType);
    this[PRIVATE] = null;
    this[NEXT] = this[END] = {
      [NEXT]: null,
      [PREV]: this,
      [START]: this,
      nodeType: NODE_END,
      ownerDocument: this.ownerDocument,
      parentNode: null,
    };
  }
  get childNodes() {
    const childNodes = new NodeList();
    let { firstChild } = this;
    while (firstChild) {
      childNodes.push(firstChild);
      firstChild = nextSibling(firstChild);
    }
    return childNodes;
  }
  get children() {
    const children = new NodeList();
    let { firstElementChild } = this;
    while (firstElementChild) {
      children.push(firstElementChild);
      firstElementChild = nextElementSibling2(firstElementChild);
    }
    return children;
  }
  get firstChild() {
    let { [NEXT]: next, [END]: end } = this;
    while (next.nodeType === ATTRIBUTE_NODE) {
      next = next[NEXT];
    }
    return next === end ? null : next;
  }
  get firstElementChild() {
    let { firstChild } = this;
    while (firstChild) {
      if (firstChild.nodeType === ELEMENT_NODE) {
        return firstChild;
      }
      firstChild = nextSibling(firstChild);
    }
    return null;
  }
  get lastChild() {
    const prev = this[END][PREV];
    switch (prev.nodeType) {
      case NODE_END:
        return prev[START];
      case ATTRIBUTE_NODE:
        return null;
    }
    return prev === this ? null : prev;
  }
  get lastElementChild() {
    let { lastChild } = this;
    while (lastChild) {
      if (lastChild.nodeType === ELEMENT_NODE) {
        return lastChild;
      }
      lastChild = previousSibling(lastChild);
    }
    return null;
  }
  get childElementCount() {
    return this.children.length;
  }
  prepend(...nodes) {
    insert(this, this.firstChild, nodes);
  }
  append(...nodes) {
    insert(this, this[END], nodes);
  }
  replaceChildren(...nodes) {
    let { [NEXT]: next, [END]: end } = this;
    while (next !== end && next.nodeType === ATTRIBUTE_NODE) {
      next = next[NEXT];
    }
    while (next !== end) {
      const after2 = getEnd(next)[NEXT];
      next.remove();
      next = after2;
    }
    if (nodes.length) {
      insert(this, end, nodes);
    }
  }
  getElementsByClassName(className) {
    const elements = new NodeList();
    let { [NEXT]: next, [END]: end } = this;
    while (next !== end) {
      if (
        next.nodeType === ELEMENT_NODE && next.hasAttribute("class") &&
        next.classList.has(className)
      ) {
        elements.push(next);
      }
      next = next[NEXT];
    }
    return elements;
  }
  getElementsByTagName(tagName16) {
    const elements = new NodeList();
    let { [NEXT]: next, [END]: end } = this;
    while (next !== end) {
      if (
        next.nodeType === ELEMENT_NODE &&
        (next.localName === tagName16 || localCase(next) === tagName16)
      ) {
        elements.push(next);
      }
      next = next[NEXT];
    }
    return elements;
  }
  querySelector(selectors) {
    const matches2 = prepareMatch(this, selectors);
    let { [NEXT]: next, [END]: end } = this;
    while (next !== end) {
      if (next.nodeType === ELEMENT_NODE && matches2(next)) {
        return next;
      }
      next = next[NEXT];
    }
    return null;
  }
  querySelectorAll(selectors) {
    const matches2 = prepareMatch(this, selectors);
    const elements = new NodeList();
    let { [NEXT]: next, [END]: end } = this;
    while (next !== end) {
      if (next.nodeType === ELEMENT_NODE && matches2(next)) {
        elements.push(next);
      }
      next = next[NEXT];
    }
    return elements;
  }
  appendChild(node) {
    return this.insertBefore(node, this[END]);
  }
  contains(node) {
    let parentNode = node;
    while (parentNode && parentNode !== this) {
      parentNode = parentNode.parentNode;
    }
    return parentNode === this;
  }
  insertBefore(node, before2 = null) {
    if (node === before2) {
      return node;
    }
    if (node === this) {
      throw new Error("unable to append a node to itself");
    }
    const next = before2 || this[END];
    switch (node.nodeType) {
      case ELEMENT_NODE:
        node.remove();
        node.parentNode = this;
        knownBoundaries(next[PREV], node, next);
        moCallback(node, null);
        connectedCallback(node);
        break;
      case DOCUMENT_FRAGMENT_NODE: {
        let { [PRIVATE]: parentNode, firstChild, lastChild } = node;
        if (firstChild) {
          knownSegment(next[PREV], firstChild, lastChild, next);
          knownAdjacent(node, node[END]);
          if (parentNode) {
            parentNode.replaceChildren();
          }
          do {
            firstChild.parentNode = this;
            moCallback(firstChild, null);
            if (firstChild.nodeType === ELEMENT_NODE) {
              connectedCallback(firstChild);
            }
          } while (
            firstChild !== lastChild && (firstChild = nextSibling(firstChild))
          );
        }
        break;
      }
      case TEXT_NODE:
      case COMMENT_NODE:
        node.remove();
      default:
        node.parentNode = this;
        knownSiblings(next[PREV], node, next);
        moCallback(node, null);
        break;
    }
    return node;
  }
  normalize() {
    let { [NEXT]: next, [END]: end } = this;
    while (next !== end) {
      const { [NEXT]: $next, [PREV]: $prev, nodeType } = next;
      if (nodeType === TEXT_NODE) {
        if (!next[VALUE]) {
          next.remove();
        } else if ($prev && $prev.nodeType === TEXT_NODE) {
          $prev.textContent += next.textContent;
          next.remove();
        }
      }
      next = $next;
    }
  }
  removeChild(node) {
    if (node.parentNode !== this) {
      throw new Error("node is not a child");
    }
    node.remove();
    return node;
  }
  replaceChild(node, replaced) {
    const next = getEnd(replaced)[NEXT];
    replaced.remove();
    this.insertBefore(node, next);
    return replaced;
  }
};
__name(ParentNode, "ParentNode");

// node_modules/linkedom/esm/mixin/non-element-parent-node.js
var NonElementParentNode = class extends ParentNode {
  getElementById(id) {
    let { [NEXT]: next, [END]: end } = this;
    while (next !== end) {
      if (next.nodeType === ELEMENT_NODE && next.id === id) {
        return next;
      }
      next = next[NEXT];
    }
    return null;
  }
  cloneNode(deep) {
    const { ownerDocument, constructor } = this;
    const nonEPN = new constructor(ownerDocument);
    if (deep) {
      const { [END]: end } = nonEPN;
      for (const node of this.childNodes) {
        nonEPN.insertBefore(node.cloneNode(deep), end);
      }
    }
    return nonEPN;
  }
  toString() {
    const { childNodes, localName } = this;
    return `<${localName}>${childNodes.join("")}</${localName}>`;
  }
  toJSON() {
    const json = [];
    nonElementAsJSON(this, json);
    return json;
  }
};
__name(NonElementParentNode, "NonElementParentNode");

// node_modules/linkedom/esm/interface/document-fragment.js
var DocumentFragment = class extends NonElementParentNode {
  constructor(ownerDocument) {
    super(ownerDocument, "#document-fragment", DOCUMENT_FRAGMENT_NODE);
  }
};
__name(DocumentFragment, "DocumentFragment");

// node_modules/linkedom/esm/interface/document-type.js
var DocumentType = class extends Node2 {
  constructor(ownerDocument, name, publicId = "", systemId = "") {
    super(ownerDocument, "#document-type", DOCUMENT_TYPE_NODE);
    this.name = name;
    this.publicId = publicId;
    this.systemId = systemId;
  }
  cloneNode() {
    const { ownerDocument, name, publicId, systemId } = this;
    return new DocumentType(ownerDocument, name, publicId, systemId);
  }
  toString() {
    const { name, publicId, systemId } = this;
    const hasPublic = 0 < publicId.length;
    const str = [name];
    if (hasPublic) {
      str.push("PUBLIC", `"${publicId}"`);
    }
    if (systemId.length) {
      if (!hasPublic) {
        str.push("SYSTEM");
      }
      str.push(`"${systemId}"`);
    }
    return `<!DOCTYPE ${str.join(" ")}>`;
  }
  toJSON() {
    const json = [];
    documentTypeAsJSON(this, json);
    return json;
  }
};
__name(DocumentType, "DocumentType");

// node_modules/linkedom/esm/mixin/inner-html.js
var getInnerHtml = /* @__PURE__ */ __name(
  (node) => node.childNodes.join(""),
  "getInnerHtml",
);
var setInnerHtml = /* @__PURE__ */ __name((node, html) => {
  const { ownerDocument } = node;
  const { constructor } = ownerDocument;
  const document = new constructor();
  document[CUSTOM_ELEMENTS] = ownerDocument[CUSTOM_ELEMENTS];
  const { childNodes } = parseFromString(document, ignoreCase(node), html);
  node.replaceChildren(...childNodes);
}, "setInnerHtml");

// node_modules/uhyphen/esm/index.js
var esm_default2 = /* @__PURE__ */ __name(
  (camel) =>
    camel.replace(/(([A-Z0-9])([A-Z0-9][a-z]))|(([a-z])([A-Z]))/g, "$2$5-$3$6")
      .toLowerCase(),
  "default",
);

// node_modules/linkedom/esm/dom/string-map.js
var refs = /* @__PURE__ */ new WeakMap();
var key = /* @__PURE__ */ __name((name) => `data-${esm_default2(name)}`, "key");
var prop = /* @__PURE__ */ __name(
  (name) => name.slice(5).replace(/-([a-z])/g, (_, $1) => $1.toUpperCase()),
  "prop",
);
var handler = {
  get(dataset, name) {
    if (name in dataset) {
      return refs.get(dataset).getAttribute(key(name));
    }
  },
  set(dataset, name, value) {
    dataset[name] = value;
    refs.get(dataset).setAttribute(key(name), value);
    return true;
  },
  deleteProperty(dataset, name) {
    if (name in dataset) {
      refs.get(dataset).removeAttribute(key(name));
    }
    return delete dataset[name];
  },
};
var DOMStringMap = class {
  constructor(ref) {
    for (const { name, value } of ref.attributes) {
      if (/^data-/.test(name)) {
        this[prop(name)] = value;
      }
    }
    refs.set(this, ref);
    return new Proxy(this, handler);
  }
};
__name(DOMStringMap, "DOMStringMap");
setPrototypeOf(DOMStringMap.prototype, null);

// node_modules/linkedom/esm/dom/token-list.js
var { add } = Set.prototype;
var addTokens = /* @__PURE__ */ __name((self, tokens) => {
  for (const token of tokens) {
    if (token) {
      add.call(self, token);
    }
  }
}, "addTokens");
var update = /* @__PURE__ */ __name(
  ({ [OWNER_ELEMENT]: ownerElement, value }) => {
    const attribute2 = ownerElement.getAttributeNode("class");
    if (attribute2) {
      attribute2.value = value;
    } else {
      setAttribute(
        ownerElement,
        new Attr(ownerElement.ownerDocument, "class", value),
      );
    }
  },
  "update",
);
var DOMTokenList = class extends Set {
  constructor(ownerElement) {
    super();
    this[OWNER_ELEMENT] = ownerElement;
    const attribute2 = ownerElement.getAttributeNode("class");
    if (attribute2) {
      addTokens(this, attribute2.value.split(/\s+/));
    }
  }
  get length() {
    return this.size;
  }
  get value() {
    return [...this].join(" ");
  }
  add(...tokens) {
    addTokens(this, tokens);
    update(this);
  }
  contains(token) {
    return this.has(token);
  }
  remove(...tokens) {
    for (const token of tokens) {
      this.delete(token);
    }
    update(this);
  }
  toggle(token, force) {
    if (this.has(token)) {
      if (force) {
        return true;
      }
      this.delete(token);
      update(this);
    } else if (force || arguments.length === 1) {
      super.add(token);
      update(this);
      return true;
    }
    return false;
  }
  replace(token, newToken) {
    if (this.has(token)) {
      this.delete(token);
      super.add(newToken);
      update(this);
      return true;
    }
    return false;
  }
  supports() {
    return true;
  }
};
__name(DOMTokenList, "DOMTokenList");

// node_modules/linkedom/esm/interface/css-style-declaration.js
var refs2 = /* @__PURE__ */ new WeakMap();
var getKeys = /* @__PURE__ */ __name(
  (style) => [...style.keys()].filter((key2) => key2 !== PRIVATE),
  "getKeys",
);
var updateKeys = /* @__PURE__ */ __name((style) => {
  const attr = refs2.get(style).getAttributeNode("style");
  if (!attr || attr[CHANGED] || style.get(PRIVATE) !== attr) {
    style.clear();
    if (attr) {
      style.set(PRIVATE, attr);
      for (const rule of attr[VALUE].split(/\s*;\s*/)) {
        let [key2, ...rest] = rule.split(":");
        if (rest.length > 0) {
          key2 = key2.trim();
          const value = rest.join(":").trim();
          if (key2 && value) {
            style.set(key2, value);
          }
        }
      }
    }
  }
  return attr;
}, "updateKeys");
var handler2 = {
  get(style, name) {
    if (name in prototype) {
      return style[name];
    }
    updateKeys(style);
    if (name === "length") {
      return getKeys(style).length;
    }
    if (/^\d+$/.test(name)) {
      return getKeys(style)[name];
    }
    return style.get(esm_default2(name));
  },
  set(style, name, value) {
    if (name === "cssText") {
      style[name] = value;
    } else {
      let attr = updateKeys(style);
      if (value == null) {
        style.delete(esm_default2(name));
      } else {
        style.set(esm_default2(name), value);
      }
      if (!attr) {
        const element = refs2.get(style);
        attr = element.ownerDocument.createAttribute("style");
        element.setAttributeNode(attr);
        style.set(PRIVATE, attr);
      }
      attr[CHANGED] = false;
      attr[VALUE] = style.toString();
    }
    return true;
  },
};
var CSSStyleDeclaration = class extends Map {
  constructor(element) {
    super();
    refs2.set(this, element);
    return new Proxy(this, handler2);
  }
  get cssText() {
    return this.toString();
  }
  set cssText(value) {
    refs2.get(this).setAttribute("style", value);
  }
  getPropertyValue(name) {
    const self = this[PRIVATE];
    return handler2.get(self, name);
  }
  setProperty(name, value) {
    const self = this[PRIVATE];
    handler2.set(self, name, value);
  }
  removeProperty(name) {
    const self = this[PRIVATE];
    handler2.set(self, name, null);
  }
  [Symbol.iterator]() {
    const keys2 = getKeys(this[PRIVATE]);
    const { length } = keys2;
    let i = 0;
    return {
      next() {
        const done = i === length;
        return { done, value: done ? null : keys2[i++] };
      },
    };
  }
  get [PRIVATE]() {
    return this;
  }
  toString() {
    const self = this[PRIVATE];
    updateKeys(self);
    const cssText = [];
    self.forEach(push, cssText);
    return cssText.join(";");
  }
};
__name(CSSStyleDeclaration, "CSSStyleDeclaration");
var { prototype } = CSSStyleDeclaration;
function push(value, key2) {
  if (key2 !== PRIVATE) {
    this.push(`${key2}:${value}`);
  }
}
__name(push, "push");

// node_modules/linkedom/esm/interface/event.js
var BUBBLING_PHASE = 3;
var AT_TARGET = 2;
var CAPTURING_PHASE = 1;
var NONE = 0;
var GlobalEvent = class {
  static get BUBBLING_PHASE() {
    return BUBBLING_PHASE;
  }
  static get AT_TARGET() {
    return AT_TARGET;
  }
  static get CAPTURING_PHASE() {
    return CAPTURING_PHASE;
  }
  static get NONE() {
    return NONE;
  }
  constructor(type, eventInitDict = {}) {
    this.type = type;
    this.bubbles = !!eventInitDict.bubbles;
    this.cancelBubble = false;
    this._stopImmediatePropagationFlag = false;
    this.cancelable = !!eventInitDict.cancelable;
    this.eventPhase = this.NONE;
    this.timeStamp = Date.now();
    this.defaultPrevented = false;
    this.originalTarget = null;
    this.returnValue = null;
    this.srcElement = null;
    this.target = null;
    this._path = [];
  }
  get BUBBLING_PHASE() {
    return BUBBLING_PHASE;
  }
  get AT_TARGET() {
    return AT_TARGET;
  }
  get CAPTURING_PHASE() {
    return CAPTURING_PHASE;
  }
  get NONE() {
    return NONE;
  }
  preventDefault() {
    this.defaultPrevented = true;
  }
  composedPath() {
    return this._path;
  }
  stopPropagation() {
    this.cancelBubble = true;
  }
  stopImmediatePropagation() {
    this.stopPropagation();
    this._stopImmediatePropagationFlag = true;
  }
};
__name(GlobalEvent, "GlobalEvent");

// node_modules/linkedom/esm/interface/named-node-map.js
var NamedNodeMap = class extends Array {
  constructor(ownerElement) {
    super();
    this.ownerElement = ownerElement;
  }
  getNamedItem(name) {
    return this.ownerElement.getAttributeNode(name);
  }
  setNamedItem(attr) {
    this.ownerElement.setAttributeNode(attr);
    this.unshift(attr);
  }
  removeNamedItem(name) {
    const item = this.getNamedItem(name);
    this.ownerElement.removeAttribute(name);
    this.splice(this.indexOf(item), 1);
  }
  item(index) {
    return index < this.length ? this[index] : null;
  }
  getNamedItemNS(_, name) {
    return this.getNamedItem(name);
  }
  setNamedItemNS(_, attr) {
    return this.setNamedItem(attr);
  }
  removeNamedItemNS(_, name) {
    return this.removeNamedItem(name);
  }
};
__name(NamedNodeMap, "NamedNodeMap");

// node_modules/linkedom/esm/interface/shadow-root.js
var ShadowRoot = class extends NonElementParentNode {
  constructor(host) {
    super(host.ownerDocument, "#shadow-root", DOCUMENT_FRAGMENT_NODE);
    this.host = host;
  }
  get innerHTML() {
    return getInnerHtml(this);
  }
  set innerHTML(html) {
    setInnerHtml(this, html);
  }
};
__name(ShadowRoot, "ShadowRoot");

// node_modules/linkedom/esm/interface/element.js
var attributesHandler = {
  get(target, key2) {
    return key2 in target
      ? target[key2]
      : target.find(({ name }) => name === key2);
  },
};
var create2 = /* @__PURE__ */ __name((ownerDocument, element, localName) => {
  if ("ownerSVGElement" in element) {
    const svg = ownerDocument.createElementNS(SVG_NAMESPACE, localName);
    svg.ownerSVGElement = element.ownerSVGElement;
    return svg;
  }
  return ownerDocument.createElement(localName);
}, "create");
var isVoid = /* @__PURE__ */ __name(({ localName, ownerDocument }) => {
  return ownerDocument[MIME].voidElements.test(localName);
}, "isVoid");
var Element3 = class extends ParentNode {
  constructor(ownerDocument, localName) {
    super(ownerDocument, localName, ELEMENT_NODE);
    this[CLASS_LIST] = null;
    this[DATASET] = null;
    this[STYLE] = null;
  }
  get isConnected() {
    return isConnected(this);
  }
  get parentElement() {
    return parentElement(this);
  }
  get previousSibling() {
    return previousSibling(this);
  }
  get nextSibling() {
    return nextSibling(this);
  }
  get previousElementSibling() {
    return previousElementSibling(this);
  }
  get nextElementSibling() {
    return nextElementSibling2(this);
  }
  before(...nodes) {
    before(this, nodes);
  }
  after(...nodes) {
    after(this, nodes);
  }
  replaceWith(...nodes) {
    replaceWith(this, nodes);
  }
  remove() {
    remove(this[PREV], this, this[END][NEXT]);
  }
  get id() {
    return stringAttribute.get(this, "id");
  }
  set id(value) {
    stringAttribute.set(this, "id", value);
  }
  get className() {
    return this.classList.value;
  }
  set className(value) {
    const { classList } = this;
    classList.clear();
    classList.add(...value.split(/\s+/));
  }
  get nodeName() {
    return localCase(this);
  }
  get tagName() {
    return localCase(this);
  }
  get classList() {
    return this[CLASS_LIST] || (this[CLASS_LIST] = new DOMTokenList(this));
  }
  get dataset() {
    return this[DATASET] || (this[DATASET] = new DOMStringMap(this));
  }
  get nonce() {
    return stringAttribute.get(this, "nonce");
  }
  set nonce(value) {
    stringAttribute.set(this, "nonce", value);
  }
  get style() {
    return this[STYLE] || (this[STYLE] = new CSSStyleDeclaration(this));
  }
  get tabIndex() {
    return numericAttribute.get(this, "tabindex") || -1;
  }
  set tabIndex(value) {
    numericAttribute.set(this, "tabindex", value);
  }
  get innerText() {
    const text = [];
    let { [NEXT]: next, [END]: end } = this;
    while (next !== end) {
      if (next.nodeType === TEXT_NODE) {
        text.push(next.textContent.replace(/\s+/g, " "));
      } else if (
        text.length && next[NEXT] != end && BLOCK_ELEMENTS.has(next.tagName)
      ) {
        text.push("\n");
      }
      next = next[NEXT];
    }
    return text.join("");
  }
  get textContent() {
    const text = [];
    let { [NEXT]: next, [END]: end } = this;
    while (next !== end) {
      if (next.nodeType === TEXT_NODE) {
        text.push(next.textContent);
      }
      next = next[NEXT];
    }
    return text.join("");
  }
  set textContent(text) {
    this.replaceChildren();
    if (text) {
      this.appendChild(new Text4(this.ownerDocument, text));
    }
  }
  get innerHTML() {
    return getInnerHtml(this);
  }
  set innerHTML(html) {
    setInnerHtml(this, html);
  }
  get outerHTML() {
    return this.toString();
  }
  set outerHTML(html) {
    const template = this.ownerDocument.createElement("");
    template.innerHTML = html;
    this.replaceWith(...template.childNodes);
  }
  get attributes() {
    const attributes2 = new NamedNodeMap(this);
    let next = this[NEXT];
    while (next.nodeType === ATTRIBUTE_NODE) {
      attributes2.push(next);
      next = next[NEXT];
    }
    return new Proxy(attributes2, attributesHandler);
  }
  focus() {
    this.dispatchEvent(new GlobalEvent("focus"));
  }
  getAttribute(name) {
    if (name === "class") {
      return this.className;
    }
    const attribute2 = this.getAttributeNode(name);
    return attribute2 && attribute2.value;
  }
  getAttributeNode(name) {
    let next = this[NEXT];
    while (next.nodeType === ATTRIBUTE_NODE) {
      if (next.name === name) {
        return next;
      }
      next = next[NEXT];
    }
    return null;
  }
  getAttributeNames() {
    const attributes2 = new NodeList();
    let next = this[NEXT];
    while (next.nodeType === ATTRIBUTE_NODE) {
      attributes2.push(next.name);
      next = next[NEXT];
    }
    return attributes2;
  }
  hasAttribute(name) {
    return !!this.getAttributeNode(name);
  }
  hasAttributes() {
    return this[NEXT].nodeType === ATTRIBUTE_NODE;
  }
  removeAttribute(name) {
    if (name === "class" && this[CLASS_LIST]) {
      this[CLASS_LIST].clear();
    }
    let next = this[NEXT];
    while (next.nodeType === ATTRIBUTE_NODE) {
      if (next.name === name) {
        removeAttribute(this, next);
        return;
      }
      next = next[NEXT];
    }
  }
  removeAttributeNode(attribute2) {
    let next = this[NEXT];
    while (next.nodeType === ATTRIBUTE_NODE) {
      if (next === attribute2) {
        removeAttribute(this, next);
        return;
      }
      next = next[NEXT];
    }
  }
  setAttribute(name, value) {
    if (name === "class") {
      this.className = value;
    } else {
      const attribute2 = this.getAttributeNode(name);
      if (attribute2) {
        attribute2.value = value;
      } else {
        setAttribute(this, new Attr(this.ownerDocument, name, value));
      }
    }
  }
  setAttributeNode(attribute2) {
    const { name } = attribute2;
    const previously = this.getAttributeNode(name);
    if (previously !== attribute2) {
      if (previously) {
        this.removeAttributeNode(previously);
      }
      const { ownerElement } = attribute2;
      if (ownerElement) {
        ownerElement.removeAttributeNode(attribute2);
      }
      setAttribute(this, attribute2);
    }
    return previously;
  }
  toggleAttribute(name, force) {
    if (this.hasAttribute(name)) {
      if (!force) {
        this.removeAttribute(name);
        return false;
      }
      return true;
    } else if (force || arguments.length === 1) {
      this.setAttribute(name, "");
      return true;
    }
    return false;
  }
  get shadowRoot() {
    if (shadowRoots.has(this)) {
      const { mode, shadowRoot } = shadowRoots.get(this);
      if (mode === "open") {
        return shadowRoot;
      }
    }
    return null;
  }
  attachShadow(init) {
    if (shadowRoots.has(this)) {
      throw new Error("operation not supported");
    }
    const shadowRoot = new ShadowRoot(this);
    shadowRoot.append(...this.childNodes);
    shadowRoots.set(this, {
      mode: init.mode,
      shadowRoot,
    });
    return shadowRoot;
  }
  matches(selectors) {
    return matches(this, selectors);
  }
  closest(selectors) {
    let parentElement2 = this;
    const matches2 = prepareMatch(parentElement2, selectors);
    while (parentElement2 && !matches2(parentElement2)) {
      parentElement2 = parentElement2.parentElement;
    }
    return parentElement2;
  }
  insertAdjacentElement(position, element) {
    const { parentElement: parentElement2 } = this;
    switch (position) {
      case "beforebegin":
        if (parentElement2) {
          parentElement2.insertBefore(element, this);
          break;
        }
        return null;
      case "afterbegin":
        this.insertBefore(element, this.firstChild);
        break;
      case "beforeend":
        this.insertBefore(element, null);
        break;
      case "afterend":
        if (parentElement2) {
          parentElement2.insertBefore(element, this.nextSibling);
          break;
        }
        return null;
    }
    return element;
  }
  insertAdjacentHTML(position, html) {
    const template = this.ownerDocument.createElement("template");
    template.innerHTML = html;
    this.insertAdjacentElement(position, template.content);
  }
  insertAdjacentText(position, text) {
    const node = this.ownerDocument.createTextNode(text);
    this.insertAdjacentElement(position, node);
  }
  cloneNode(deep = false) {
    const { ownerDocument, localName } = this;
    const addNext = /* @__PURE__ */ __name((next2) => {
      next2.parentNode = parentNode;
      knownAdjacent($next, next2);
      $next = next2;
    }, "addNext");
    const clone = create2(ownerDocument, this, localName);
    let parentNode = clone, $next = clone;
    let { [NEXT]: next, [END]: prev } = this;
    while (next !== prev && (deep || next.nodeType === ATTRIBUTE_NODE)) {
      switch (next.nodeType) {
        case NODE_END:
          knownAdjacent($next, parentNode[END]);
          $next = parentNode[END];
          parentNode = parentNode.parentNode;
          break;
        case ELEMENT_NODE: {
          const node = create2(ownerDocument, next, next.localName);
          addNext(node);
          parentNode = node;
          break;
        }
        case ATTRIBUTE_NODE:
        case TEXT_NODE:
        case COMMENT_NODE:
          addNext(next.cloneNode(deep));
          break;
      }
      next = next[NEXT];
    }
    knownAdjacent($next, clone[END]);
    return clone;
  }
  toString() {
    const out = [];
    const { [END]: end } = this;
    let next = { [NEXT]: this };
    let isOpened = false;
    do {
      next = next[NEXT];
      switch (next.nodeType) {
        case ATTRIBUTE_NODE: {
          const attr = " " + next;
          switch (attr) {
            case " id":
            case " class":
            case " style":
              break;
            default:
              out.push(attr);
          }
          break;
        }
        case NODE_END: {
          const start = next[START];
          if (isOpened) {
            if ("ownerSVGElement" in start) {
              out.push(" />");
            } else if (isVoid(start)) {
              out.push(ignoreCase(start) ? ">" : " />");
            } else {
              out.push(`></${start.localName}>`);
            }
            isOpened = false;
          } else {
            out.push(`</${start.localName}>`);
          }
          break;
        }
        case ELEMENT_NODE:
          if (isOpened) {
            out.push(">");
          }
          if (next.toString !== this.toString) {
            out.push(next.toString());
            next = next[END];
            isOpened = false;
          } else {
            out.push(`<${next.localName}`);
            isOpened = true;
          }
          break;
        case TEXT_NODE:
        case COMMENT_NODE:
          out.push((isOpened ? ">" : "") + next);
          isOpened = false;
          break;
      }
    } while (next !== end);
    return out.join("");
  }
  toJSON() {
    const json = [];
    elementAsJSON(this, json);
    return json;
  }
  getAttributeNS(_, name) {
    return this.getAttribute(name);
  }
  getElementsByTagNameNS(_, name) {
    return this.getElementsByTagName(name);
  }
  hasAttributeNS(_, name) {
    return this.hasAttribute(name);
  }
  removeAttributeNS(_, name) {
    this.removeAttribute(name);
  }
  setAttributeNS(_, name, value) {
    this.setAttribute(name, value);
  }
  setAttributeNodeNS(attr) {
    return this.setAttributeNode(attr);
  }
};
__name(Element3, "Element");

// node_modules/linkedom/esm/svg/element.js
var classNames = /* @__PURE__ */ new WeakMap();
var handler3 = {
  get(target, name) {
    return target[name];
  },
  set(target, name, value) {
    target[name] = value;
    return true;
  },
};
var SVGElement = class extends Element3 {
  constructor(ownerDocument, localName, ownerSVGElement = null) {
    super(ownerDocument, localName);
    this.ownerSVGElement = ownerSVGElement;
  }
  get className() {
    if (!classNames.has(this)) {
      classNames.set(this, new Proxy({ baseVal: "", animVal: "" }, handler3));
    }
    return classNames.get(this);
  }
  set className(value) {
    const { classList } = this;
    classList.clear();
    classList.add(...value.split(/\s+/));
  }
  getAttribute(name) {
    return name === "class"
      ? [...this.classList].join(" ")
      : super.getAttribute(name);
  }
  setAttribute(name, value) {
    if (name === "class") {
      this.className = value;
    } else if (name === "style") {
      const { className } = this;
      className.baseVal = className.animVal = value;
    }
    super.setAttribute(name, value);
  }
};
__name(SVGElement, "SVGElement");

// node_modules/linkedom/esm/shared/facades.js
var illegalConstructor = /* @__PURE__ */ __name(() => {
  throw new TypeError("Illegal constructor");
}, "illegalConstructor");
function Attr2() {
  illegalConstructor();
}
__name(Attr2, "Attr");
setPrototypeOf(Attr2, Attr);
Attr2.prototype = Attr.prototype;
function CharacterData2() {
  illegalConstructor();
}
__name(CharacterData2, "CharacterData");
setPrototypeOf(CharacterData2, CharacterData);
CharacterData2.prototype = CharacterData.prototype;
function Comment5() {
  illegalConstructor();
}
__name(Comment5, "Comment");
setPrototypeOf(Comment5, Comment4);
Comment5.prototype = Comment4.prototype;
function DocumentFragment2() {
  illegalConstructor();
}
__name(DocumentFragment2, "DocumentFragment");
setPrototypeOf(DocumentFragment2, DocumentFragment);
DocumentFragment2.prototype = DocumentFragment.prototype;
function DocumentType2() {
  illegalConstructor();
}
__name(DocumentType2, "DocumentType");
setPrototypeOf(DocumentType2, DocumentType);
DocumentType2.prototype = DocumentType.prototype;
function Element4() {
  illegalConstructor();
}
__name(Element4, "Element");
setPrototypeOf(Element4, Element3);
Element4.prototype = Element3.prototype;
function Node3() {
  illegalConstructor();
}
__name(Node3, "Node");
setPrototypeOf(Node3, Node2);
Node3.prototype = Node2.prototype;
function ShadowRoot2() {
  illegalConstructor();
}
__name(ShadowRoot2, "ShadowRoot");
setPrototypeOf(ShadowRoot2, ShadowRoot);
ShadowRoot2.prototype = ShadowRoot.prototype;
function Text5() {
  illegalConstructor();
}
__name(Text5, "Text");
setPrototypeOf(Text5, Text4);
Text5.prototype = Text4.prototype;
function SVGElement2() {
  illegalConstructor();
}
__name(SVGElement2, "SVGElement");
setPrototypeOf(SVGElement2, SVGElement);
SVGElement2.prototype = SVGElement.prototype;
var Facades = {
  Attr: Attr2,
  CharacterData: CharacterData2,
  Comment: Comment5,
  DocumentFragment: DocumentFragment2,
  DocumentType: DocumentType2,
  Element: Element4,
  Node: Node3,
  ShadowRoot: ShadowRoot2,
  Text: Text5,
  SVGElement: SVGElement2,
};

// node_modules/linkedom/esm/html/element.js
var Level0 = /* @__PURE__ */ new WeakMap();
var level0 = {
  get(element, name) {
    return Level0.has(element) && Level0.get(element)[name] || null;
  },
  set(element, name, value) {
    if (!Level0.has(element)) {
      Level0.set(element, {});
    }
    const handlers = Level0.get(element);
    const type = name.slice(2);
    if (handlers[name]) {
      element.removeEventListener(type, handlers[name], false);
    }
    if (handlers[name] = value) {
      element.addEventListener(type, value, false);
    }
  },
};
var HTMLElement = class extends Element3 {
  static get observedAttributes() {
    return [];
  }
  constructor(ownerDocument = null, localName = "") {
    super(ownerDocument, localName);
    const ownerLess = !ownerDocument;
    let options;
    if (ownerLess) {
      const { constructor: Class } = this;
      if (!Classes.has(Class)) {
        throw new Error("unable to initialize this Custom Element");
      }
      ({ ownerDocument, localName, options } = Classes.get(Class));
    }
    if (ownerDocument[UPGRADE]) {
      const { element, values } = ownerDocument[UPGRADE];
      ownerDocument[UPGRADE] = null;
      for (const [key2, value] of values) {
        element[key2] = value;
      }
      return element;
    }
    if (ownerLess) {
      this.ownerDocument = this[END].ownerDocument = ownerDocument;
      this.localName = localName;
      customElements.set(this, { connected: false });
      if (options.is) {
        this.setAttribute("is", options.is);
      }
    }
  }
  blur() {
    this.dispatchEvent(new GlobalEvent("blur"));
  }
  click() {
    this.dispatchEvent(new GlobalEvent("click"));
  }
  get accessKeyLabel() {
    const { accessKey } = this;
    return accessKey && `Alt+Shift+${accessKey}`;
  }
  get isContentEditable() {
    return this.hasAttribute("contenteditable");
  }
  get contentEditable() {
    return booleanAttribute.get(this, "contenteditable");
  }
  set contentEditable(value) {
    booleanAttribute.set(this, "contenteditable", value);
  }
  get draggable() {
    return booleanAttribute.get(this, "draggable");
  }
  set draggable(value) {
    booleanAttribute.set(this, "draggable", value);
  }
  get hidden() {
    return booleanAttribute.get(this, "hidden");
  }
  set hidden(value) {
    booleanAttribute.set(this, "hidden", value);
  }
  get spellcheck() {
    return booleanAttribute.get(this, "spellcheck");
  }
  set spellcheck(value) {
    booleanAttribute.set(this, "spellcheck", value);
  }
  get accessKey() {
    return stringAttribute.get(this, "accesskey");
  }
  set accessKey(value) {
    stringAttribute.set(this, "accesskey", value);
  }
  get dir() {
    return stringAttribute.get(this, "dir");
  }
  set dir(value) {
    stringAttribute.set(this, "dir", value);
  }
  get lang() {
    return stringAttribute.get(this, "lang");
  }
  set lang(value) {
    stringAttribute.set(this, "lang", value);
  }
  get title() {
    return stringAttribute.get(this, "title");
  }
  set title(value) {
    stringAttribute.set(this, "title", value);
  }
  get onabort() {
    return level0.get(this, "onabort");
  }
  set onabort(value) {
    level0.set(this, "onabort", value);
  }
  get onblur() {
    return level0.get(this, "onblur");
  }
  set onblur(value) {
    level0.set(this, "onblur", value);
  }
  get oncancel() {
    return level0.get(this, "oncancel");
  }
  set oncancel(value) {
    level0.set(this, "oncancel", value);
  }
  get oncanplay() {
    return level0.get(this, "oncanplay");
  }
  set oncanplay(value) {
    level0.set(this, "oncanplay", value);
  }
  get oncanplaythrough() {
    return level0.get(this, "oncanplaythrough");
  }
  set oncanplaythrough(value) {
    level0.set(this, "oncanplaythrough", value);
  }
  get onchange() {
    return level0.get(this, "onchange");
  }
  set onchange(value) {
    level0.set(this, "onchange", value);
  }
  get onclick() {
    return level0.get(this, "onclick");
  }
  set onclick(value) {
    level0.set(this, "onclick", value);
  }
  get onclose() {
    return level0.get(this, "onclose");
  }
  set onclose(value) {
    level0.set(this, "onclose", value);
  }
  get oncontextmenu() {
    return level0.get(this, "oncontextmenu");
  }
  set oncontextmenu(value) {
    level0.set(this, "oncontextmenu", value);
  }
  get oncuechange() {
    return level0.get(this, "oncuechange");
  }
  set oncuechange(value) {
    level0.set(this, "oncuechange", value);
  }
  get ondblclick() {
    return level0.get(this, "ondblclick");
  }
  set ondblclick(value) {
    level0.set(this, "ondblclick", value);
  }
  get ondrag() {
    return level0.get(this, "ondrag");
  }
  set ondrag(value) {
    level0.set(this, "ondrag", value);
  }
  get ondragend() {
    return level0.get(this, "ondragend");
  }
  set ondragend(value) {
    level0.set(this, "ondragend", value);
  }
  get ondragenter() {
    return level0.get(this, "ondragenter");
  }
  set ondragenter(value) {
    level0.set(this, "ondragenter", value);
  }
  get ondragleave() {
    return level0.get(this, "ondragleave");
  }
  set ondragleave(value) {
    level0.set(this, "ondragleave", value);
  }
  get ondragover() {
    return level0.get(this, "ondragover");
  }
  set ondragover(value) {
    level0.set(this, "ondragover", value);
  }
  get ondragstart() {
    return level0.get(this, "ondragstart");
  }
  set ondragstart(value) {
    level0.set(this, "ondragstart", value);
  }
  get ondrop() {
    return level0.get(this, "ondrop");
  }
  set ondrop(value) {
    level0.set(this, "ondrop", value);
  }
  get ondurationchange() {
    return level0.get(this, "ondurationchange");
  }
  set ondurationchange(value) {
    level0.set(this, "ondurationchange", value);
  }
  get onemptied() {
    return level0.get(this, "onemptied");
  }
  set onemptied(value) {
    level0.set(this, "onemptied", value);
  }
  get onended() {
    return level0.get(this, "onended");
  }
  set onended(value) {
    level0.set(this, "onended", value);
  }
  get onerror() {
    return level0.get(this, "onerror");
  }
  set onerror(value) {
    level0.set(this, "onerror", value);
  }
  get onfocus() {
    return level0.get(this, "onfocus");
  }
  set onfocus(value) {
    level0.set(this, "onfocus", value);
  }
  get oninput() {
    return level0.get(this, "oninput");
  }
  set oninput(value) {
    level0.set(this, "oninput", value);
  }
  get oninvalid() {
    return level0.get(this, "oninvalid");
  }
  set oninvalid(value) {
    level0.set(this, "oninvalid", value);
  }
  get onkeydown() {
    return level0.get(this, "onkeydown");
  }
  set onkeydown(value) {
    level0.set(this, "onkeydown", value);
  }
  get onkeypress() {
    return level0.get(this, "onkeypress");
  }
  set onkeypress(value) {
    level0.set(this, "onkeypress", value);
  }
  get onkeyup() {
    return level0.get(this, "onkeyup");
  }
  set onkeyup(value) {
    level0.set(this, "onkeyup", value);
  }
  get onload() {
    return level0.get(this, "onload");
  }
  set onload(value) {
    level0.set(this, "onload", value);
  }
  get onloadeddata() {
    return level0.get(this, "onloadeddata");
  }
  set onloadeddata(value) {
    level0.set(this, "onloadeddata", value);
  }
  get onloadedmetadata() {
    return level0.get(this, "onloadedmetadata");
  }
  set onloadedmetadata(value) {
    level0.set(this, "onloadedmetadata", value);
  }
  get onloadstart() {
    return level0.get(this, "onloadstart");
  }
  set onloadstart(value) {
    level0.set(this, "onloadstart", value);
  }
  get onmousedown() {
    return level0.get(this, "onmousedown");
  }
  set onmousedown(value) {
    level0.set(this, "onmousedown", value);
  }
  get onmouseenter() {
    return level0.get(this, "onmouseenter");
  }
  set onmouseenter(value) {
    level0.set(this, "onmouseenter", value);
  }
  get onmouseleave() {
    return level0.get(this, "onmouseleave");
  }
  set onmouseleave(value) {
    level0.set(this, "onmouseleave", value);
  }
  get onmousemove() {
    return level0.get(this, "onmousemove");
  }
  set onmousemove(value) {
    level0.set(this, "onmousemove", value);
  }
  get onmouseout() {
    return level0.get(this, "onmouseout");
  }
  set onmouseout(value) {
    level0.set(this, "onmouseout", value);
  }
  get onmouseover() {
    return level0.get(this, "onmouseover");
  }
  set onmouseover(value) {
    level0.set(this, "onmouseover", value);
  }
  get onmouseup() {
    return level0.get(this, "onmouseup");
  }
  set onmouseup(value) {
    level0.set(this, "onmouseup", value);
  }
  get onmousewheel() {
    return level0.get(this, "onmousewheel");
  }
  set onmousewheel(value) {
    level0.set(this, "onmousewheel", value);
  }
  get onpause() {
    return level0.get(this, "onpause");
  }
  set onpause(value) {
    level0.set(this, "onpause", value);
  }
  get onplay() {
    return level0.get(this, "onplay");
  }
  set onplay(value) {
    level0.set(this, "onplay", value);
  }
  get onplaying() {
    return level0.get(this, "onplaying");
  }
  set onplaying(value) {
    level0.set(this, "onplaying", value);
  }
  get onprogress() {
    return level0.get(this, "onprogress");
  }
  set onprogress(value) {
    level0.set(this, "onprogress", value);
  }
  get onratechange() {
    return level0.get(this, "onratechange");
  }
  set onratechange(value) {
    level0.set(this, "onratechange", value);
  }
  get onreset() {
    return level0.get(this, "onreset");
  }
  set onreset(value) {
    level0.set(this, "onreset", value);
  }
  get onresize() {
    return level0.get(this, "onresize");
  }
  set onresize(value) {
    level0.set(this, "onresize", value);
  }
  get onscroll() {
    return level0.get(this, "onscroll");
  }
  set onscroll(value) {
    level0.set(this, "onscroll", value);
  }
  get onseeked() {
    return level0.get(this, "onseeked");
  }
  set onseeked(value) {
    level0.set(this, "onseeked", value);
  }
  get onseeking() {
    return level0.get(this, "onseeking");
  }
  set onseeking(value) {
    level0.set(this, "onseeking", value);
  }
  get onselect() {
    return level0.get(this, "onselect");
  }
  set onselect(value) {
    level0.set(this, "onselect", value);
  }
  get onshow() {
    return level0.get(this, "onshow");
  }
  set onshow(value) {
    level0.set(this, "onshow", value);
  }
  get onstalled() {
    return level0.get(this, "onstalled");
  }
  set onstalled(value) {
    level0.set(this, "onstalled", value);
  }
  get onsubmit() {
    return level0.get(this, "onsubmit");
  }
  set onsubmit(value) {
    level0.set(this, "onsubmit", value);
  }
  get onsuspend() {
    return level0.get(this, "onsuspend");
  }
  set onsuspend(value) {
    level0.set(this, "onsuspend", value);
  }
  get ontimeupdate() {
    return level0.get(this, "ontimeupdate");
  }
  set ontimeupdate(value) {
    level0.set(this, "ontimeupdate", value);
  }
  get ontoggle() {
    return level0.get(this, "ontoggle");
  }
  set ontoggle(value) {
    level0.set(this, "ontoggle", value);
  }
  get onvolumechange() {
    return level0.get(this, "onvolumechange");
  }
  set onvolumechange(value) {
    level0.set(this, "onvolumechange", value);
  }
  get onwaiting() {
    return level0.get(this, "onwaiting");
  }
  set onwaiting(value) {
    level0.set(this, "onwaiting", value);
  }
  get onauxclick() {
    return level0.get(this, "onauxclick");
  }
  set onauxclick(value) {
    level0.set(this, "onauxclick", value);
  }
  get ongotpointercapture() {
    return level0.get(this, "ongotpointercapture");
  }
  set ongotpointercapture(value) {
    level0.set(this, "ongotpointercapture", value);
  }
  get onlostpointercapture() {
    return level0.get(this, "onlostpointercapture");
  }
  set onlostpointercapture(value) {
    level0.set(this, "onlostpointercapture", value);
  }
  get onpointercancel() {
    return level0.get(this, "onpointercancel");
  }
  set onpointercancel(value) {
    level0.set(this, "onpointercancel", value);
  }
  get onpointerdown() {
    return level0.get(this, "onpointerdown");
  }
  set onpointerdown(value) {
    level0.set(this, "onpointerdown", value);
  }
  get onpointerenter() {
    return level0.get(this, "onpointerenter");
  }
  set onpointerenter(value) {
    level0.set(this, "onpointerenter", value);
  }
  get onpointerleave() {
    return level0.get(this, "onpointerleave");
  }
  set onpointerleave(value) {
    level0.set(this, "onpointerleave", value);
  }
  get onpointermove() {
    return level0.get(this, "onpointermove");
  }
  set onpointermove(value) {
    level0.set(this, "onpointermove", value);
  }
  get onpointerout() {
    return level0.get(this, "onpointerout");
  }
  set onpointerout(value) {
    level0.set(this, "onpointerout", value);
  }
  get onpointerover() {
    return level0.get(this, "onpointerover");
  }
  set onpointerover(value) {
    level0.set(this, "onpointerover", value);
  }
  get onpointerup() {
    return level0.get(this, "onpointerup");
  }
  set onpointerup(value) {
    level0.set(this, "onpointerup", value);
  }
};
__name(HTMLElement, "HTMLElement");

// node_modules/linkedom/esm/html/template-element.js
var tagName = "template";
var HTMLTemplateElement = class extends HTMLElement {
  constructor(ownerDocument) {
    super(ownerDocument, tagName);
    const content = this.ownerDocument.createDocumentFragment();
    (this[CONTENT] = content)[PRIVATE] = this;
  }
  get content() {
    if (this.hasChildNodes() && !this[CONTENT].hasChildNodes()) {
      for (const node of this.childNodes) {
        this[CONTENT].appendChild(node.cloneNode(true));
      }
    }
    return this[CONTENT];
  }
};
__name(HTMLTemplateElement, "HTMLTemplateElement");
registerHTMLClass(tagName, HTMLTemplateElement);

// node_modules/linkedom/esm/html/html-element.js
var HTMLHtmlElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "html") {
    super(ownerDocument, localName);
  }
};
__name(HTMLHtmlElement, "HTMLHtmlElement");

// node_modules/linkedom/esm/html/text-element.js
var { toString } = HTMLElement.prototype;
var TextElement = class extends HTMLElement {
  get innerHTML() {
    return this.textContent;
  }
  set innerHTML(html) {
    this.textContent = html;
  }
  toString() {
    const outerHTML = toString.call(this.cloneNode());
    return outerHTML.replace(/></, `>${this.textContent}<`);
  }
};
__name(TextElement, "TextElement");

// node_modules/linkedom/esm/html/script-element.js
var tagName2 = "script";
var HTMLScriptElement = class extends TextElement {
  constructor(ownerDocument, localName = tagName2) {
    super(ownerDocument, localName);
  }
  get type() {
    return stringAttribute.get(this, "type");
  }
  set type(value) {
    stringAttribute.set(this, "type", value);
  }
  get src() {
    return stringAttribute.get(this, "src");
  }
  set src(value) {
    stringAttribute.set(this, "src", value);
  }
  get defer() {
    return booleanAttribute.get(this, "defer");
  }
  set defer(value) {
    booleanAttribute.set(this, "defer", value);
  }
  get crossOrigin() {
    return stringAttribute.get(this, "crossorigin");
  }
  set crossOrigin(value) {
    stringAttribute.set(this, "crossorigin", value);
  }
  get nomodule() {
    return booleanAttribute.get(this, "nomodule");
  }
  set nomodule(value) {
    booleanAttribute.set(this, "nomodule", value);
  }
  get referrerPolicy() {
    return stringAttribute.get(this, "referrerpolicy");
  }
  set referrerPolicy(value) {
    stringAttribute.set(this, "referrerpolicy", value);
  }
  get nonce() {
    return stringAttribute.get(this, "nonce");
  }
  set nonce(value) {
    stringAttribute.set(this, "nonce", value);
  }
  get async() {
    return booleanAttribute.get(this, "async");
  }
  set async(value) {
    booleanAttribute.set(this, "async", value);
  }
};
__name(HTMLScriptElement, "HTMLScriptElement");
registerHTMLClass(tagName2, HTMLScriptElement);

// node_modules/linkedom/esm/html/frame-element.js
var HTMLFrameElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "frame") {
    super(ownerDocument, localName);
  }
};
__name(HTMLFrameElement, "HTMLFrameElement");

// node_modules/linkedom/esm/html/i-frame-element.js
var tagName3 = "iframe";
var HTMLIFrameElement = class extends HTMLElement {
  constructor(ownerDocument, localName = tagName3) {
    super(ownerDocument, localName);
  }
  get src() {
    return stringAttribute.get(this, "src");
  }
  set src(value) {
    stringAttribute.set(this, "src", value);
  }
};
__name(HTMLIFrameElement, "HTMLIFrameElement");
registerHTMLClass(tagName3, HTMLIFrameElement);

// node_modules/linkedom/esm/html/object-element.js
var HTMLObjectElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "object") {
    super(ownerDocument, localName);
  }
};
__name(HTMLObjectElement, "HTMLObjectElement");

// node_modules/linkedom/esm/html/head-element.js
var HTMLHeadElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "head") {
    super(ownerDocument, localName);
  }
};
__name(HTMLHeadElement, "HTMLHeadElement");

// node_modules/linkedom/esm/html/body-element.js
var HTMLBodyElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "body") {
    super(ownerDocument, localName);
  }
};
__name(HTMLBodyElement, "HTMLBodyElement");

// node_modules/linkedom/esm/html/style-element.js
var import_cssom = __toESM(require_lib(), 1);
var tagName4 = "style";
var HTMLStyleElement = class extends TextElement {
  constructor(ownerDocument, localName = tagName4) {
    super(ownerDocument, localName);
    this[SHEET] = null;
  }
  get sheet() {
    const sheet = this[SHEET];
    if (sheet !== null) {
      return sheet;
    }
    return this[SHEET] = (0, import_cssom.parse)(this.textContent);
  }
  get innerHTML() {
    return super.innerHTML || "";
  }
  set innerHTML(value) {
    super.textContent = value;
    this[SHEET] = null;
  }
  get innerText() {
    return super.innerText || "";
  }
  set innerText(value) {
    super.textContent = value;
    this[SHEET] = null;
  }
  get textContent() {
    return super.textContent || "";
  }
  set textContent(value) {
    super.textContent = value;
    this[SHEET] = null;
  }
};
__name(HTMLStyleElement, "HTMLStyleElement");
registerHTMLClass(tagName4, HTMLStyleElement);

// node_modules/linkedom/esm/html/time-element.js
var HTMLTimeElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "time") {
    super(ownerDocument, localName);
  }
};
__name(HTMLTimeElement, "HTMLTimeElement");

// node_modules/linkedom/esm/html/field-set-element.js
var HTMLFieldSetElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "fieldset") {
    super(ownerDocument, localName);
  }
};
__name(HTMLFieldSetElement, "HTMLFieldSetElement");

// node_modules/linkedom/esm/html/embed-element.js
var HTMLEmbedElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "embed") {
    super(ownerDocument, localName);
  }
};
__name(HTMLEmbedElement, "HTMLEmbedElement");

// node_modules/linkedom/esm/html/hr-element.js
var HTMLHRElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "hr") {
    super(ownerDocument, localName);
  }
};
__name(HTMLHRElement, "HTMLHRElement");

// node_modules/linkedom/esm/html/progress-element.js
var HTMLProgressElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "progress") {
    super(ownerDocument, localName);
  }
};
__name(HTMLProgressElement, "HTMLProgressElement");

// node_modules/linkedom/esm/html/paragraph-element.js
var HTMLParagraphElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "p") {
    super(ownerDocument, localName);
  }
};
__name(HTMLParagraphElement, "HTMLParagraphElement");

// node_modules/linkedom/esm/html/table-element.js
var HTMLTableElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "table") {
    super(ownerDocument, localName);
  }
};
__name(HTMLTableElement, "HTMLTableElement");

// node_modules/linkedom/esm/html/frame-set-element.js
var HTMLFrameSetElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "frameset") {
    super(ownerDocument, localName);
  }
};
__name(HTMLFrameSetElement, "HTMLFrameSetElement");

// node_modules/linkedom/esm/html/li-element.js
var HTMLLIElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "li") {
    super(ownerDocument, localName);
  }
};
__name(HTMLLIElement, "HTMLLIElement");

// node_modules/linkedom/esm/html/base-element.js
var HTMLBaseElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "base") {
    super(ownerDocument, localName);
  }
};
__name(HTMLBaseElement, "HTMLBaseElement");

// node_modules/linkedom/esm/html/data-list-element.js
var HTMLDataListElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "datalist") {
    super(ownerDocument, localName);
  }
};
__name(HTMLDataListElement, "HTMLDataListElement");

// node_modules/linkedom/esm/html/input-element.js
var tagName5 = "input";
var HTMLInputElement = class extends HTMLElement {
  constructor(ownerDocument, localName = tagName5) {
    super(ownerDocument, localName);
  }
  get autofocus() {
    return booleanAttribute.get(this, "autofocus") || -1;
  }
  set autofocus(value) {
    booleanAttribute.set(this, "autofocus", value);
  }
  get disabled() {
    return booleanAttribute.get(this, "disabled");
  }
  set disabled(value) {
    booleanAttribute.set(this, "disabled", value);
  }
  get name() {
    return this.getAttribute("name");
  }
  set name(value) {
    this.setAttribute("name", value);
  }
  get placeholder() {
    return this.getAttribute("placeholder");
  }
  set placeholder(value) {
    this.setAttribute("placeholder", value);
  }
  get type() {
    return this.getAttribute("type");
  }
  set type(value) {
    this.setAttribute("type", value);
  }
};
__name(HTMLInputElement, "HTMLInputElement");
registerHTMLClass(tagName5, HTMLInputElement);

// node_modules/linkedom/esm/html/param-element.js
var HTMLParamElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "param") {
    super(ownerDocument, localName);
  }
};
__name(HTMLParamElement, "HTMLParamElement");

// node_modules/linkedom/esm/html/media-element.js
var HTMLMediaElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "media") {
    super(ownerDocument, localName);
  }
};
__name(HTMLMediaElement, "HTMLMediaElement");

// node_modules/linkedom/esm/html/audio-element.js
var HTMLAudioElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "audio") {
    super(ownerDocument, localName);
  }
};
__name(HTMLAudioElement, "HTMLAudioElement");

// node_modules/linkedom/esm/html/heading-element.js
var tagName6 = "h1";
var HTMLHeadingElement = class extends HTMLElement {
  constructor(ownerDocument, localName = tagName6) {
    super(ownerDocument, localName);
  }
};
__name(HTMLHeadingElement, "HTMLHeadingElement");
registerHTMLClass([tagName6, "h2", "h3", "h4", "h5", "h6"], HTMLHeadingElement);

// node_modules/linkedom/esm/html/directory-element.js
var HTMLDirectoryElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "dir") {
    super(ownerDocument, localName);
  }
};
__name(HTMLDirectoryElement, "HTMLDirectoryElement");

// node_modules/linkedom/esm/html/quote-element.js
var HTMLQuoteElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "quote") {
    super(ownerDocument, localName);
  }
};
__name(HTMLQuoteElement, "HTMLQuoteElement");

// node_modules/linkedom/esm/html/canvas-element.js
var import_canvas = __toESM(require_canvas(), 1);
var { createCanvas } = import_canvas.default;
var tagName7 = "canvas";
var HTMLCanvasElement = class extends HTMLElement {
  constructor(ownerDocument, localName = tagName7) {
    super(ownerDocument, localName);
    this[IMAGE] = createCanvas(300, 150);
  }
  get width() {
    return this[IMAGE].width;
  }
  set width(value) {
    numericAttribute.set(this, "width", value);
    this[IMAGE].width = value;
  }
  get height() {
    return this[IMAGE].height;
  }
  set height(value) {
    numericAttribute.set(this, "height", value);
    this[IMAGE].height = value;
  }
  getContext(type) {
    return this[IMAGE].getContext(type);
  }
  toDataURL(...args) {
    return this[IMAGE].toDataURL(...args);
  }
};
__name(HTMLCanvasElement, "HTMLCanvasElement");
registerHTMLClass(tagName7, HTMLCanvasElement);

// node_modules/linkedom/esm/html/legend-element.js
var HTMLLegendElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "legend") {
    super(ownerDocument, localName);
  }
};
__name(HTMLLegendElement, "HTMLLegendElement");

// node_modules/linkedom/esm/html/option-element.js
var HTMLOptionElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "option") {
    super(ownerDocument, localName);
  }
};
__name(HTMLOptionElement, "HTMLOptionElement");

// node_modules/linkedom/esm/html/span-element.js
var HTMLSpanElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "span") {
    super(ownerDocument, localName);
  }
};
__name(HTMLSpanElement, "HTMLSpanElement");

// node_modules/linkedom/esm/html/meter-element.js
var HTMLMeterElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "meter") {
    super(ownerDocument, localName);
  }
};
__name(HTMLMeterElement, "HTMLMeterElement");

// node_modules/linkedom/esm/html/video-element.js
var HTMLVideoElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "video") {
    super(ownerDocument, localName);
  }
};
__name(HTMLVideoElement, "HTMLVideoElement");

// node_modules/linkedom/esm/html/table-cell-element.js
var HTMLTableCellElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "td") {
    super(ownerDocument, localName);
  }
};
__name(HTMLTableCellElement, "HTMLTableCellElement");

// node_modules/linkedom/esm/html/title-element.js
var tagName8 = "title";
var HTMLTitleElement = class extends TextElement {
  constructor(ownerDocument, localName = tagName8) {
    super(ownerDocument, localName);
  }
};
__name(HTMLTitleElement, "HTMLTitleElement");
registerHTMLClass(tagName8, HTMLTitleElement);

// node_modules/linkedom/esm/html/output-element.js
var HTMLOutputElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "output") {
    super(ownerDocument, localName);
  }
};
__name(HTMLOutputElement, "HTMLOutputElement");

// node_modules/linkedom/esm/html/table-row-element.js
var HTMLTableRowElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "tr") {
    super(ownerDocument, localName);
  }
};
__name(HTMLTableRowElement, "HTMLTableRowElement");

// node_modules/linkedom/esm/html/data-element.js
var HTMLDataElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "data") {
    super(ownerDocument, localName);
  }
};
__name(HTMLDataElement, "HTMLDataElement");

// node_modules/linkedom/esm/html/menu-element.js
var HTMLMenuElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "menu") {
    super(ownerDocument, localName);
  }
};
__name(HTMLMenuElement, "HTMLMenuElement");

// node_modules/linkedom/esm/html/select-element.js
var tagName9 = "select";
var HTMLSelectElement = class extends HTMLElement {
  constructor(ownerDocument, localName = tagName9) {
    super(ownerDocument, localName);
  }
  get options() {
    let children = new NodeList();
    let { firstElementChild } = this;
    while (firstElementChild) {
      if (firstElementChild.tagName === "OPTGROUP") {
        children.push(...firstElementChild.children);
      } else {
        children.push(firstElementChild);
      }
      firstElementChild = firstElementChild.nextElementSibling;
    }
    return children;
  }
  get disabled() {
    return booleanAttribute.get(this, "disabled");
  }
  set disabled(value) {
    booleanAttribute.set(this, "disabled", value);
  }
  get name() {
    return this.getAttribute("name");
  }
  set name(value) {
    this.setAttribute("name", value);
  }
};
__name(HTMLSelectElement, "HTMLSelectElement");
registerHTMLClass(tagName9, HTMLSelectElement);

// node_modules/linkedom/esm/html/br-element.js
var HTMLBRElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "br") {
    super(ownerDocument, localName);
  }
};
__name(HTMLBRElement, "HTMLBRElement");

// node_modules/linkedom/esm/html/button-element.js
var tagName10 = "button";
var HTMLButtonElement = class extends HTMLElement {
  constructor(ownerDocument, localName = tagName10) {
    super(ownerDocument, localName);
  }
  get disabled() {
    return booleanAttribute.get(this, "disabled");
  }
  set disabled(value) {
    booleanAttribute.set(this, "disabled", value);
  }
  get name() {
    return this.getAttribute("name");
  }
  set name(value) {
    this.setAttribute("name", value);
  }
  get type() {
    return this.getAttribute("type");
  }
  set type(value) {
    this.setAttribute("type", value);
  }
};
__name(HTMLButtonElement, "HTMLButtonElement");
registerHTMLClass(tagName10, HTMLButtonElement);

// node_modules/linkedom/esm/html/map-element.js
var HTMLMapElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "map") {
    super(ownerDocument, localName);
  }
};
__name(HTMLMapElement, "HTMLMapElement");

// node_modules/linkedom/esm/html/opt-group-element.js
var HTMLOptGroupElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "optgroup") {
    super(ownerDocument, localName);
  }
};
__name(HTMLOptGroupElement, "HTMLOptGroupElement");

// node_modules/linkedom/esm/html/d-list-element.js
var HTMLDListElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "dl") {
    super(ownerDocument, localName);
  }
};
__name(HTMLDListElement, "HTMLDListElement");

// node_modules/linkedom/esm/html/text-area-element.js
var tagName11 = "textarea";
var HTMLTextAreaElement = class extends TextElement {
  constructor(ownerDocument, localName = tagName11) {
    super(ownerDocument, localName);
  }
  get disabled() {
    return booleanAttribute.get(this, "disabled");
  }
  set disabled(value) {
    booleanAttribute.set(this, "disabled", value);
  }
  get name() {
    return this.getAttribute("name");
  }
  set name(value) {
    this.setAttribute("name", value);
  }
  get placeholder() {
    return this.getAttribute("placeholder");
  }
  set placeholder(value) {
    this.setAttribute("placeholder", value);
  }
  get type() {
    return this.getAttribute("type");
  }
  set type(value) {
    this.setAttribute("type", value);
  }
  get value() {
    return this.textContent;
  }
  set value(content) {
    this.textContent = content;
  }
};
__name(HTMLTextAreaElement, "HTMLTextAreaElement");
registerHTMLClass(tagName11, HTMLTextAreaElement);

// node_modules/linkedom/esm/html/font-element.js
var HTMLFontElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "font") {
    super(ownerDocument, localName);
  }
};
__name(HTMLFontElement, "HTMLFontElement");

// node_modules/linkedom/esm/html/div-element.js
var HTMLDivElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "div") {
    super(ownerDocument, localName);
  }
};
__name(HTMLDivElement, "HTMLDivElement");

// node_modules/linkedom/esm/html/link-element.js
var tagName12 = "link";
var HTMLLinkElement = class extends HTMLElement {
  constructor(ownerDocument, localName = tagName12) {
    super(ownerDocument, localName);
  }
  get disabled() {
    return booleanAttribute.get(this, "disabled");
  }
  set disabled(value) {
    booleanAttribute.set(this, "disabled", value);
  }
  get href() {
    return stringAttribute.get(this, "href");
  }
  set href(value) {
    stringAttribute.set(this, "href", value);
  }
  get hreflang() {
    return stringAttribute.get(this, "hreflang");
  }
  set hreflang(value) {
    stringAttribute.set(this, "hreflang", value);
  }
  get media() {
    return stringAttribute.get(this, "media");
  }
  set media(value) {
    stringAttribute.set(this, "media", value);
  }
  get rel() {
    return stringAttribute.get(this, "rel");
  }
  set rel(value) {
    stringAttribute.set(this, "rel", value);
  }
  get type() {
    return stringAttribute.get(this, "type");
  }
  set type(value) {
    stringAttribute.set(this, "type", value);
  }
};
__name(HTMLLinkElement, "HTMLLinkElement");
registerHTMLClass(tagName12, HTMLLinkElement);

// node_modules/linkedom/esm/html/slot-element.js
var HTMLSlotElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "slot") {
    super(ownerDocument, localName);
  }
};
__name(HTMLSlotElement, "HTMLSlotElement");

// node_modules/linkedom/esm/html/form-element.js
var HTMLFormElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "form") {
    super(ownerDocument, localName);
  }
};
__name(HTMLFormElement, "HTMLFormElement");

// node_modules/linkedom/esm/html/image-element.js
var tagName13 = "img";
var HTMLImageElement = class extends HTMLElement {
  constructor(ownerDocument, localName = tagName13) {
    super(ownerDocument, localName);
  }
  get alt() {
    return stringAttribute.get(this, "alt");
  }
  set alt(value) {
    stringAttribute.set(this, "alt", value);
  }
  get sizes() {
    return stringAttribute.get(this, "sizes");
  }
  set sizes(value) {
    stringAttribute.set(this, "sizes", value);
  }
  get src() {
    return stringAttribute.get(this, "src");
  }
  set src(value) {
    stringAttribute.set(this, "src", value);
  }
  get srcset() {
    return stringAttribute.get(this, "srcset");
  }
  set srcset(value) {
    stringAttribute.set(this, "srcset", value);
  }
  get title() {
    return stringAttribute.get(this, "title");
  }
  set title(value) {
    stringAttribute.set(this, "title", value);
  }
  get width() {
    return numericAttribute.get(this, "width");
  }
  set width(value) {
    numericAttribute.set(this, "width", value);
  }
  get height() {
    return numericAttribute.get(this, "height");
  }
  set height(value) {
    numericAttribute.set(this, "height", value);
  }
};
__name(HTMLImageElement, "HTMLImageElement");
registerHTMLClass(tagName13, HTMLImageElement);

// node_modules/linkedom/esm/html/pre-element.js
var HTMLPreElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "pre") {
    super(ownerDocument, localName);
  }
};
__name(HTMLPreElement, "HTMLPreElement");

// node_modules/linkedom/esm/html/u-list-element.js
var HTMLUListElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "ul") {
    super(ownerDocument, localName);
  }
};
__name(HTMLUListElement, "HTMLUListElement");

// node_modules/linkedom/esm/html/meta-element.js
var HTMLMetaElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "meta") {
    super(ownerDocument, localName);
  }
};
__name(HTMLMetaElement, "HTMLMetaElement");

// node_modules/linkedom/esm/html/picture-element.js
var HTMLPictureElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "picture") {
    super(ownerDocument, localName);
  }
};
__name(HTMLPictureElement, "HTMLPictureElement");

// node_modules/linkedom/esm/html/area-element.js
var HTMLAreaElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "area") {
    super(ownerDocument, localName);
  }
};
__name(HTMLAreaElement, "HTMLAreaElement");

// node_modules/linkedom/esm/html/o-list-element.js
var HTMLOListElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "ol") {
    super(ownerDocument, localName);
  }
};
__name(HTMLOListElement, "HTMLOListElement");

// node_modules/linkedom/esm/html/table-caption-element.js
var HTMLTableCaptionElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "caption") {
    super(ownerDocument, localName);
  }
};
__name(HTMLTableCaptionElement, "HTMLTableCaptionElement");

// node_modules/linkedom/esm/html/anchor-element.js
var tagName14 = "a";
var HTMLAnchorElement = class extends HTMLElement {
  constructor(ownerDocument, localName = tagName14) {
    super(ownerDocument, localName);
  }
  get href() {
    return encodeURI(stringAttribute.get(this, "href"));
  }
  set href(value) {
    stringAttribute.set(this, "href", decodeURI(value));
  }
  get download() {
    return encodeURI(stringAttribute.get(this, "download"));
  }
  set download(value) {
    stringAttribute.set(this, "download", decodeURI(value));
  }
  get target() {
    return stringAttribute.get(this, "target");
  }
  set target(value) {
    stringAttribute.set(this, "target", value);
  }
  get type() {
    return stringAttribute.get(this, "type");
  }
  set type(value) {
    stringAttribute.set(this, "type", value);
  }
};
__name(HTMLAnchorElement, "HTMLAnchorElement");
registerHTMLClass(tagName14, HTMLAnchorElement);

// node_modules/linkedom/esm/html/label-element.js
var HTMLLabelElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "label") {
    super(ownerDocument, localName);
  }
};
__name(HTMLLabelElement, "HTMLLabelElement");

// node_modules/linkedom/esm/html/unknown-element.js
var HTMLUnknownElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "unknown") {
    super(ownerDocument, localName);
  }
};
__name(HTMLUnknownElement, "HTMLUnknownElement");

// node_modules/linkedom/esm/html/mod-element.js
var HTMLModElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "mod") {
    super(ownerDocument, localName);
  }
};
__name(HTMLModElement, "HTMLModElement");

// node_modules/linkedom/esm/html/details-element.js
var HTMLDetailsElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "details") {
    super(ownerDocument, localName);
  }
};
__name(HTMLDetailsElement, "HTMLDetailsElement");

// node_modules/linkedom/esm/html/source-element.js
var tagName15 = "source";
var HTMLSourceElement = class extends HTMLElement {
  constructor(ownerDocument, localName = tagName15) {
    super(ownerDocument, localName);
  }
  get src() {
    return stringAttribute.get(this, "src");
  }
  set src(value) {
    stringAttribute.set(this, "src", value);
  }
  get srcset() {
    return stringAttribute.get(this, "srcset");
  }
  set srcset(value) {
    stringAttribute.set(this, "srcset", value);
  }
  get sizes() {
    return stringAttribute.get(this, "sizes");
  }
  set sizes(value) {
    stringAttribute.set(this, "sizes", value);
  }
  get type() {
    return stringAttribute.get(this, "type");
  }
  set type(value) {
    stringAttribute.set(this, "type", value);
  }
};
__name(HTMLSourceElement, "HTMLSourceElement");
registerHTMLClass(tagName15, HTMLSourceElement);

// node_modules/linkedom/esm/html/track-element.js
var HTMLTrackElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "track") {
    super(ownerDocument, localName);
  }
};
__name(HTMLTrackElement, "HTMLTrackElement");

// node_modules/linkedom/esm/html/marquee-element.js
var HTMLMarqueeElement = class extends HTMLElement {
  constructor(ownerDocument, localName = "marquee") {
    super(ownerDocument, localName);
  }
};
__name(HTMLMarqueeElement, "HTMLMarqueeElement");

// node_modules/linkedom/esm/shared/html-classes.js
var HTMLClasses = {
  HTMLElement,
  HTMLTemplateElement,
  HTMLHtmlElement,
  HTMLScriptElement,
  HTMLFrameElement,
  HTMLIFrameElement,
  HTMLObjectElement,
  HTMLHeadElement,
  HTMLBodyElement,
  HTMLStyleElement,
  HTMLTimeElement,
  HTMLFieldSetElement,
  HTMLEmbedElement,
  HTMLHRElement,
  HTMLProgressElement,
  HTMLParagraphElement,
  HTMLTableElement,
  HTMLFrameSetElement,
  HTMLLIElement,
  HTMLBaseElement,
  HTMLDataListElement,
  HTMLInputElement,
  HTMLParamElement,
  HTMLMediaElement,
  HTMLAudioElement,
  HTMLHeadingElement,
  HTMLDirectoryElement,
  HTMLQuoteElement,
  HTMLCanvasElement,
  HTMLLegendElement,
  HTMLOptionElement,
  HTMLSpanElement,
  HTMLMeterElement,
  HTMLVideoElement,
  HTMLTableCellElement,
  HTMLTitleElement,
  HTMLOutputElement,
  HTMLTableRowElement,
  HTMLDataElement,
  HTMLMenuElement,
  HTMLSelectElement,
  HTMLBRElement,
  HTMLButtonElement,
  HTMLMapElement,
  HTMLOptGroupElement,
  HTMLDListElement,
  HTMLTextAreaElement,
  HTMLFontElement,
  HTMLDivElement,
  HTMLLinkElement,
  HTMLSlotElement,
  HTMLFormElement,
  HTMLImageElement,
  HTMLPreElement,
  HTMLUListElement,
  HTMLMetaElement,
  HTMLPictureElement,
  HTMLAreaElement,
  HTMLOListElement,
  HTMLTableCaptionElement,
  HTMLAnchorElement,
  HTMLLabelElement,
  HTMLUnknownElement,
  HTMLModElement,
  HTMLDetailsElement,
  HTMLSourceElement,
  HTMLTrackElement,
  HTMLMarqueeElement,
};

// node_modules/linkedom/esm/shared/mime.js
var voidElements2 = { test: () => true };
var Mime = {
  "text/html": {
    docType: "<!DOCTYPE html>",
    ignoreCase: true,
    voidElements:
      /^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,
  },
  "image/svg+xml": {
    docType: '<?xml version="1.0" encoding="utf-8"?>',
    ignoreCase: false,
    voidElements: voidElements2,
  },
  "text/xml": {
    docType: '<?xml version="1.0" encoding="utf-8"?>',
    ignoreCase: false,
    voidElements: voidElements2,
  },
  "application/xml": {
    docType: '<?xml version="1.0" encoding="utf-8"?>',
    ignoreCase: false,
    voidElements: voidElements2,
  },
  "application/xhtml+xml": {
    docType: '<?xml version="1.0" encoding="utf-8"?>',
    ignoreCase: false,
    voidElements: voidElements2,
  },
};

// node_modules/linkedom/esm/interface/custom-event.js
var GlobalCustomEvent = typeof CustomEvent === "function"
  ? CustomEvent
  : /* @__PURE__ */ __name(
    class CustomEvent2 extends GlobalEvent {
      constructor(type, eventInitDict = {}) {
        super(type, eventInitDict);
        this.detail = eventInitDict.detail;
      }
    },
    "CustomEvent",
  );

// node_modules/linkedom/esm/interface/input-event.js
var InputEvent = class extends GlobalEvent {
  constructor(type, inputEventInit = {}) {
    super(type, inputEventInit);
    this.inputType = inputEventInit.inputType;
    this.data = inputEventInit.data;
    this.dataTransfer = inputEventInit.dataTransfer;
    this.isComposing = inputEventInit.isComposing || false;
    this.ranges = inputEventInit.ranges;
  }
};
__name(InputEvent, "InputEvent");

// node_modules/linkedom/esm/interface/image.js
var ImageClass = /* @__PURE__ */ __name(
  (ownerDocument) =>
    /* @__PURE__ */ __name(
      class Image extends HTMLImageElement {
        constructor(width, height) {
          super(ownerDocument);
          switch (arguments.length) {
            case 1:
              this.height = width;
              this.width = width;
              break;
            case 2:
              this.height = height;
              this.width = width;
              break;
          }
        }
      },
      "Image",
    ),
  "ImageClass",
);

// node_modules/linkedom/esm/interface/range.js
var deleteContents = /* @__PURE__ */ __name(
  ({ [START]: start, [END]: end }, fragment = null) => {
    setAdjacent(start[PREV], end[NEXT]);
    do {
      const after2 = getEnd(start);
      const next = after2 === end ? after2 : after2[NEXT];
      if (fragment) {
        fragment.insertBefore(start, fragment[END]);
      } else {
        start.remove();
      }
      start = next;
    } while (start !== end);
  },
  "deleteContents",
);
var Range = class {
  constructor() {
    this[START] = null;
    this[END] = null;
    this.commonAncestorContainer = null;
  }
  insertNode(newNode) {
    this[END].parentNode.insertBefore(newNode, this[START]);
  }
  selectNode(node) {
    this[START] = node;
    this[END] = getEnd(node);
  }
  surroundContents(parentNode) {
    parentNode.replaceChildren(this.extractContents());
  }
  setStartBefore(node) {
    this[START] = node;
  }
  setStartAfter(node) {
    this[START] = node.nextSibling;
  }
  setEndBefore(node) {
    this[END] = getEnd(node.previousSibling);
  }
  setEndAfter(node) {
    this[END] = getEnd(node);
  }
  cloneContents() {
    let { [START]: start, [END]: end } = this;
    const fragment = start.ownerDocument.createDocumentFragment();
    while (start !== end) {
      fragment.insertBefore(start.cloneNode(true), fragment[END]);
      start = getEnd(start);
      if (start !== end) {
        start = start[NEXT];
      }
    }
    return fragment;
  }
  deleteContents() {
    deleteContents(this);
  }
  extractContents() {
    const fragment = this[START].ownerDocument.createDocumentFragment();
    deleteContents(this, fragment);
    return fragment;
  }
  createContextualFragment(html) {
    const template = this.commonAncestorContainer.createElement("template");
    template.innerHTML = html;
    this.selectNode(template.content);
    return template.content;
  }
  cloneRange() {
    const range = new Range();
    range[START] = this[START];
    range[END] = this[END];
    return range;
  }
};
__name(Range, "Range");

// node_modules/linkedom/esm/interface/tree-walker.js
var isOK = /* @__PURE__ */ __name(({ nodeType }, mask) => {
  switch (nodeType) {
    case ELEMENT_NODE:
      return mask & SHOW_ELEMENT;
    case TEXT_NODE:
      return mask & SHOW_TEXT;
    case COMMENT_NODE:
      return mask & SHOW_COMMENT;
  }
  return 0;
}, "isOK");
var TreeWalker = class {
  constructor(root, whatToShow = SHOW_ALL) {
    this.root = root;
    this.currentNode = root;
    this.whatToShow = whatToShow;
    let { [NEXT]: next, [END]: end } = root;
    if (root.nodeType === DOCUMENT_NODE) {
      const { documentElement } = root;
      next = documentElement;
      end = documentElement[END];
    }
    const nodes = [];
    while (next !== end) {
      if (isOK(next, whatToShow)) {
        nodes.push(next);
      }
      next = next[NEXT];
    }
    this[PRIVATE] = { i: 0, nodes };
  }
  nextNode() {
    const $ = this[PRIVATE];
    this.currentNode = $.i < $.nodes.length ? $.nodes[$.i++] : null;
    return this.currentNode;
  }
};
__name(TreeWalker, "TreeWalker");

// node_modules/linkedom/esm/interface/document.js
var query = /* @__PURE__ */ __name((method, ownerDocument, selectors) => {
  let { [NEXT]: next, [END]: end } = ownerDocument;
  return method.call({ ownerDocument, [NEXT]: next, [END]: end }, selectors);
}, "query");
var globalExports = assign({}, Facades, HTMLClasses, {
  CustomEvent: GlobalCustomEvent,
  Event: GlobalEvent,
  EventTarget: DOMEventTarget,
  InputEvent,
  NamedNodeMap,
  NodeList,
});
var window2 = /* @__PURE__ */ new WeakMap();
var Document2 = class extends NonElementParentNode {
  constructor(type) {
    super(null, "#document", DOCUMENT_NODE);
    this[CUSTOM_ELEMENTS] = { active: false, registry: null };
    this[MUTATION_OBSERVER] = { active: false, class: null };
    this[MIME] = Mime[type];
    this[DOCTYPE] = null;
    this[DOM_PARSER] = null;
    this[GLOBALS] = null;
    this[IMAGE] = null;
    this[UPGRADE] = null;
  }
  get defaultView() {
    if (!window2.has(this)) {
      window2.set(
        this,
        new Proxy(globalThis, {
          set: (target, name, value) => {
            switch (name) {
              case "addEventListener":
              case "removeEventListener":
              case "dispatchEvent":
                this[EVENT_TARGET][name] = value;
                break;
              default:
                target[name] = value;
                break;
            }
            return true;
          },
          get: (globalThis2, name) => {
            switch (name) {
              case "addEventListener":
              case "removeEventListener":
              case "dispatchEvent":
                if (!this[EVENT_TARGET]) {
                  const et = this[EVENT_TARGET] = new DOMEventTarget();
                  et.dispatchEvent = et.dispatchEvent.bind(et);
                  et.addEventListener = et.addEventListener.bind(et);
                  et.removeEventListener = et.removeEventListener.bind(et);
                }
                return this[EVENT_TARGET][name];
              case "document":
                return this;
              case "navigator":
                return {
                  userAgent:
                    "Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.150 Safari/537.36",
                };
              case "window":
                return window2.get(this);
              case "customElements":
                if (!this[CUSTOM_ELEMENTS].registry) {
                  this[CUSTOM_ELEMENTS] = new CustomElementRegistry(this);
                }
                return this[CUSTOM_ELEMENTS];
              case "performance":
                return import_perf_hooks.performance;
              case "DOMParser":
                return this[DOM_PARSER];
              case "Image":
                if (!this[IMAGE]) {
                  this[IMAGE] = ImageClass(this);
                }
                return this[IMAGE];
              case "MutationObserver":
                if (!this[MUTATION_OBSERVER].class) {
                  this[MUTATION_OBSERVER] = new MutationObserverClass(this);
                }
                return this[MUTATION_OBSERVER].class;
            }
            return this[GLOBALS] && this[GLOBALS][name] ||
              globalExports[name] || globalThis2[name];
          },
        }),
      );
    }
    return window2.get(this);
  }
  get doctype() {
    const docType = this[DOCTYPE];
    if (docType) {
      return docType;
    }
    const { firstChild } = this;
    if (firstChild && firstChild.nodeType === DOCUMENT_TYPE_NODE) {
      return this[DOCTYPE] = firstChild;
    }
    return null;
  }
  set doctype(value) {
    if (
      /^([a-z:]+)(\s+system|\s+public(\s+"([^"]+)")?)?(\s+"([^"]+)")?/i.test(
        value,
      )
    ) {
      const { $1: name, $4: publicId, $6: systemId } = RegExp;
      this[DOCTYPE] = new DocumentType(this, name, publicId, systemId);
      knownSiblings(this, this[DOCTYPE], this[NEXT]);
    }
  }
  get documentElement() {
    return this.firstElementChild;
  }
  get isConnected() {
    return true;
  }
  _getParent() {
    return this[EVENT_TARGET];
  }
  createAttribute(name) {
    return new Attr(this, name);
  }
  createComment(textContent2) {
    return new Comment4(this, textContent2);
  }
  createDocumentFragment() {
    return new DocumentFragment(this);
  }
  createDocumentType(name, publicId, systemId) {
    return new DocumentType(this, name, publicId, systemId);
  }
  createElement(localName) {
    return new Element3(this, localName);
  }
  createRange() {
    const range = new Range();
    range.commonAncestorContainer = this;
    return range;
  }
  createTextNode(textContent2) {
    return new Text4(this, textContent2);
  }
  createTreeWalker(root, whatToShow = -1) {
    return new TreeWalker(root, whatToShow);
  }
  createNodeIterator(root, whatToShow = -1) {
    return this.createTreeWalker(root, whatToShow);
  }
  createEvent(name) {
    const event = create(
      name === "Event" ? new GlobalEvent("") : new GlobalCustomEvent(""),
    );
    event.initEvent = event.initCustomEvent = (
      type,
      canBubble = false,
      cancelable = false,
      detail,
    ) => {
      defineProperties(event, {
        type: { value: type },
        canBubble: { value: canBubble },
        cancelable: { value: cancelable },
        detail: { value: detail },
      });
    };
    return event;
  }
  cloneNode(deep = false) {
    const {
      constructor,
      [CUSTOM_ELEMENTS]: customElements2,
      [DOCTYPE]: doctype,
    } = this;
    const document = new constructor();
    document[CUSTOM_ELEMENTS] = customElements2;
    if (deep) {
      const end = document[END];
      const { childNodes } = this;
      for (let { length } = childNodes, i = 0; i < length; i++) {
        document.insertBefore(childNodes[i].cloneNode(true), end);
      }
      if (doctype) {
        document[DOCTYPE] = childNodes[0];
      }
    }
    return document;
  }
  importNode(externalNode) {
    const deep = 1 < arguments.length && !!arguments[1];
    const node = externalNode.cloneNode(deep);
    const { [CUSTOM_ELEMENTS]: customElements2 } = this;
    const { active } = customElements2;
    const upgrade = /* @__PURE__ */ __name((element) => {
      const { ownerDocument, nodeType } = element;
      element.ownerDocument = this;
      if (active && ownerDocument !== this && nodeType === ELEMENT_NODE) {
        customElements2.upgrade(element);
      }
    }, "upgrade");
    upgrade(node);
    if (deep) {
      switch (node.nodeType) {
        case ELEMENT_NODE:
        case DOCUMENT_FRAGMENT_NODE: {
          let { [NEXT]: next, [END]: end } = node;
          while (next !== end) {
            if (next.nodeType === ELEMENT_NODE) {
              upgrade(next);
            }
            next = next[NEXT];
          }
          break;
        }
      }
    }
    return node;
  }
  toString() {
    return this.childNodes.join("");
  }
  querySelector(selectors) {
    return query(super.querySelector, this, selectors);
  }
  querySelectorAll(selectors) {
    return query(super.querySelectorAll, this, selectors);
  }
  getElementsByTagNameNS(_, name) {
    return this.getElementsByTagName(name);
  }
  createAttributeNS(_, name) {
    return this.createAttribute(name);
  }
  createElementNS(nsp, localName, options) {
    return nsp === SVG_NAMESPACE
      ? new SVGElement(this, localName, null)
      : this.createElement(localName, options);
  }
};
__name(Document2, "Document");
setPrototypeOf(
  globalExports.Document = /* @__PURE__ */ __name(function Document3() {
    illegalConstructor();
  }, "Document"),
  Document2,
).prototype = Document2.prototype;

// node_modules/linkedom/esm/html/document.js
var createHTMLElement = /* @__PURE__ */ __name(
  (ownerDocument, builtin, localName, options) => {
    if (!builtin && htmlClasses.has(localName)) {
      const Class = htmlClasses.get(localName);
      return new Class(ownerDocument, localName);
    }
    const { [CUSTOM_ELEMENTS]: { active, registry } } = ownerDocument;
    if (active) {
      const ce = builtin ? options.is : localName;
      if (registry.has(ce)) {
        const { Class } = registry.get(ce);
        const element = new Class(ownerDocument, localName);
        customElements.set(element, { connected: false });
        return element;
      }
    }
    return new HTMLElement(ownerDocument, localName);
  },
  "createHTMLElement",
);
var HTMLDocument = class extends Document2 {
  constructor() {
    super("text/html");
  }
  get all() {
    const nodeList = new NodeList();
    let { [NEXT]: next, [END]: end } = this;
    while (next !== end) {
      switch (next.nodeType) {
        case ELEMENT_NODE:
          nodeList.push(next);
          break;
      }
      next = next[NEXT];
    }
    return nodeList;
  }
  get head() {
    const { documentElement } = this;
    let { firstElementChild } = documentElement;
    if (!firstElementChild || firstElementChild.tagName !== "HEAD") {
      firstElementChild = this.createElement("head");
      documentElement.prepend(firstElementChild);
    }
    return firstElementChild;
  }
  get body() {
    const { head } = this;
    let { nextElementSibling: nextElementSibling3 } = head;
    if (!nextElementSibling3 || nextElementSibling3.tagName !== "BODY") {
      nextElementSibling3 = this.createElement("body");
      head.after(nextElementSibling3);
    }
    return nextElementSibling3;
  }
  get title() {
    const { head } = this;
    let title = head.getElementsByTagName("title").shift();
    return title ? title.textContent : "";
  }
  set title(textContent2) {
    const { head } = this;
    let title = head.getElementsByTagName("title").shift();
    if (title) {
      title.textContent = textContent2;
    } else {
      head.insertBefore(this.createElement("title"), head.firstChild)
        .textContent = textContent2;
    }
  }
  createElement(localName, options) {
    const builtin = !!(options && options.is);
    const element = createHTMLElement(this, builtin, localName, options);
    if (builtin) {
      element.setAttribute("is", options.is);
    }
    return element;
  }
};
__name(HTMLDocument, "HTMLDocument");

// node_modules/linkedom/esm/svg/document.js
var SVGDocument = class extends Document2 {
  constructor() {
    super("image/svg+xml");
  }
  toString() {
    return this[MIME].docType + super.toString();
  }
};
__name(SVGDocument, "SVGDocument");

// node_modules/linkedom/esm/xml/document.js
var XMLDocument = class extends Document2 {
  constructor() {
    super("text/xml");
  }
  toString() {
    return this[MIME].docType + super.toString();
  }
};
__name(XMLDocument, "XMLDocument");

// node_modules/linkedom/esm/dom/parser.js
var DOMParser = class {
  parseFromString(markupLanguage, mimeType, globals = null) {
    let isHTML = false, document;
    if (mimeType === "text/html") {
      isHTML = true;
      document = new HTMLDocument();
    } else if (mimeType === "image/svg+xml") {
      document = new SVGDocument();
    } else {
      document = new XMLDocument();
    }
    document[DOM_PARSER] = DOMParser;
    if (globals) {
      document[GLOBALS] = globals;
    }
    return markupLanguage
      ? parseFromString(document, isHTML, markupLanguage)
      : document;
  }
};
__name(DOMParser, "DOMParser");

// node_modules/linkedom/esm/shared/parse-json.js
var { parse: parse4 } = JSON;

// node_modules/linkedom/esm/index.js
function Document4() {
  illegalConstructor();
}
__name(Document4, "Document");
setPrototypeOf(Document4, Document2).prototype = Document2.prototype;

// dist/src/parser/youtube/VideoInfo.js
var __awaiter19 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldSet20 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet22 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var __asyncValues = function (o) {
  if (!Symbol.asyncIterator) {
    throw new TypeError("Symbol.asyncIterator is not defined.");
  }
  var m = o[Symbol.asyncIterator], i;
  return m
    ? m.call(o)
    : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](),
      i = {},
      verb("next"),
      verb("throw"),
      verb("return"),
      i[Symbol.asyncIterator] = function () {
        return this;
      },
      i);
  function verb(n) {
    i[n] = o[n] && function (v) {
      return new Promise(function (resolve, reject) {
        v = o[n](v), settle(resolve, reject, v.done, v.value);
      });
    };
  }
  __name(verb, "verb");
  function settle(resolve, reject, d, v) {
    Promise.resolve(v).then(function (v2) {
      resolve({ value: v2, done: d });
    }, reject);
  }
  __name(settle, "settle");
};
var _VideoInfo_instances;
var _VideoInfo_page;
var _VideoInfo_actions;
var _VideoInfo_player;
var _VideoInfo_cpn;
var _VideoInfo_watch_next_continuation;
var _VideoInfo_el;
var _VideoInfo_generateAdaptationSet;
var _VideoInfo_generateRepresentationVideo;
var _VideoInfo_generateRepresentationAudio;
var VideoInfo = class {
  constructor(data, actions, player, cpn) {
    var _a3,
      _b,
      _c,
      _d,
      _e,
      _f,
      _g,
      _h,
      _j,
      _k,
      _l,
      _m,
      _o,
      _p,
      _q,
      _r,
      _s,
      _t,
      _u,
      _v,
      _w,
      _x,
      _y,
      _z,
      _0,
      _1,
      _2,
      _3,
      _4;
    _VideoInfo_instances.add(this);
    _VideoInfo_page.set(this, void 0);
    _VideoInfo_actions.set(this, void 0);
    _VideoInfo_player.set(this, void 0);
    _VideoInfo_cpn.set(this, void 0);
    _VideoInfo_watch_next_continuation.set(this, void 0);
    __classPrivateFieldSet20(this, _VideoInfo_actions, actions, "f");
    __classPrivateFieldSet20(this, _VideoInfo_player, player, "f");
    __classPrivateFieldSet20(this, _VideoInfo_cpn, cpn, "f");
    const info = Parser.parseResponse(data[0].data);
    const next =
      ((_a3 = data === null || data === void 0 ? void 0 : data[1]) === null ||
            _a3 === void 0
          ? void 0
          : _a3.data)
        ? Parser.parseResponse(data[1].data)
        : void 0;
    __classPrivateFieldSet20(this, _VideoInfo_page, [info, next], "f");
    if (
      ((_b = info.playability_status) === null || _b === void 0
        ? void 0
        : _b.status) === "ERROR"
    ) {
      throw new InnertubeError(
        "This video is unavailable",
        info.playability_status,
      );
    }
    this.basic_info = Object.assign(Object.assign({}, info.video_details), {
      like_count: void 0,
      is_liked: void 0,
      is_disliked: void 0,
    });
    this.streaming_data = info.streaming_data;
    this.playability_status = info.playability_status;
    this.annotations = info.annotations;
    this.storyboards = info.storyboards;
    this.endscreen = info.endscreen;
    this.captions = info.captions;
    this.cards = info.cards;
    const two_col = next === null || next === void 0
      ? void 0
      : next.contents.item().as(TwoColumnWatchNextResults_default);
    const results = two_col === null || two_col === void 0
      ? void 0
      : two_col.results;
    const secondary_results = two_col === null || two_col === void 0
      ? void 0
      : two_col.secondary_results;
    if (results && secondary_results) {
      this.primary_info =
        (_c = results.get({ type: "VideoPrimaryInfo" })) === null ||
          _c === void 0
          ? void 0
          : _c.as(VideoPrimaryInfo_default);
      this.secondary_info =
        (_d = results.get({ type: "VideoSecondaryInfo" })) === null ||
          _d === void 0
          ? void 0
          : _d.as(VideoSecondaryInfo_default);
      this.merchandise =
        (_e = results.get({ type: "MerchandiseShelf" })) === null ||
          _e === void 0
          ? void 0
          : _e.as(MerchandiseShelf_default);
      this.related_chip_cloud =
        (_g =
              (_f = secondary_results.get({ type: "RelatedChipCloud" })) ===
                  null || _f === void 0
                ? void 0
                : _f.as(RelatedChipCloud_default)) === null || _g === void 0
          ? void 0
          : _g.content.item().as(ChipCloud_default);
      this.watch_next_feed =
        (_j =
              (_h = secondary_results.get({ type: "ItemSection" })) === null ||
                _h === void 0
                ? void 0
                : _h.as(ItemSection_default)) === null || _j === void 0
          ? void 0
          : _j.contents;
      if (this.watch_next_feed && Array.isArray(this.watch_next_feed)) {
        __classPrivateFieldSet20(
          this,
          _VideoInfo_watch_next_continuation,
          (_k = this.watch_next_feed.pop()) === null || _k === void 0
            ? void 0
            : _k.as(ContinuationItem_default),
          "f",
        );
      }
      this.player_overlays = next === null || next === void 0
        ? void 0
        : next.player_overlays.item().as(PlayerOverlay_default);
      this.basic_info.like_count =
        (_q =
              (_p =
                    (_o =
                          (_m =
                                (_l = this.primary_info) === null ||
                                  _l === void 0
                                  ? void 0
                                  : _l.menu) === null || _m === void 0
                            ? void 0
                            : _m.top_level_buttons) === null || _o === void 0
                      ? void 0
                      : _o.get({ icon_type: "LIKE" })) === null || _p === void 0
                ? void 0
                : _p.as(ToggleButton_default)) === null || _q === void 0
          ? void 0
          : _q.like_count;
      this.basic_info.is_liked =
        (_v =
              (_u =
                    (_t =
                          (_s =
                                (_r = this.primary_info) === null ||
                                  _r === void 0
                                  ? void 0
                                  : _r.menu) === null || _s === void 0
                            ? void 0
                            : _s.top_level_buttons) === null || _t === void 0
                      ? void 0
                      : _t.get({ icon_type: "LIKE" })) === null || _u === void 0
                ? void 0
                : _u.as(ToggleButton_default)) === null || _v === void 0
          ? void 0
          : _v.is_toggled;
      this.basic_info.is_disliked =
        (_0 =
              (_z =
                    (_y =
                          (_x =
                                (_w = this.primary_info) === null ||
                                  _w === void 0
                                  ? void 0
                                  : _w.menu) === null || _x === void 0
                            ? void 0
                            : _x.top_level_buttons) === null || _y === void 0
                      ? void 0
                      : _y.get({ icon_type: "DISLIKE" })) === null ||
                _z === void 0
                ? void 0
                : _z.as(ToggleButton_default)) === null || _0 === void 0
          ? void 0
          : _0.is_toggled;
      const comments_entry_point =
        (_1 = results.get({ target_id: "comments-entry-point" })) === null ||
          _1 === void 0
          ? void 0
          : _1.as(ItemSection_default);
      this.comments_entry_point_header =
        (_3 =
              (_2 =
                    comments_entry_point === null ||
                      comments_entry_point === void 0
                      ? void 0
                      : comments_entry_point.contents) === null || _2 === void 0
                ? void 0
                : _2.get({ type: "CommentsEntryPointHeader" })) === null ||
          _3 === void 0
          ? void 0
          : _3.as(CommentsEntryPointHeader_default);
      this.livechat = (_4 = next === null || next === void 0
              ? void 0
              : next.contents_memo.getType(LiveChat_default)) === null ||
          _4 === void 0
        ? void 0
        : _4[0];
    }
  }
  selectFilter(name) {
    var _a3, _b, _c, _d;
    return __awaiter19(this, void 0, void 0, function* () {
      if (!this.filters.includes(name)) {
        throw new InnertubeError("Invalid filter", {
          available_filters: this.filters,
        });
      }
      const filter2 =
        (_b = (_a3 = this.related_chip_cloud) === null || _a3 === void 0
              ? void 0
              : _a3.chips) === null || _b === void 0
          ? void 0
          : _b.get({ text: name });
      if (
        filter2 === null || filter2 === void 0
          ? void 0
          : filter2.is_selected
      ) {
        return this;
      }
      const response = yield (_c = filter2 === null || filter2 === void 0
              ? void 0
              : filter2.endpoint) === null || _c === void 0
        ? void 0
        : _c.call(
          __classPrivateFieldGet22(this, _VideoInfo_actions, "f"),
          void 0,
          true,
        );
      const data = (_d = response === null || response === void 0
              ? void 0
              : response.on_response_received_endpoints) === null ||
          _d === void 0
        ? void 0
        : _d.get({ target_id: "watch-next-feed" });
      this.watch_next_feed = data === null || data === void 0
        ? void 0
        : data.contents;
      return this;
    });
  }
  getWatchNextContinuation() {
    var _a3, _b, _c, _d;
    return __awaiter19(this, void 0, void 0, function* () {
      const response =
        yield (_a3 = __classPrivateFieldGet22(
                this,
                _VideoInfo_watch_next_continuation,
                "f",
              )) === null || _a3 === void 0
          ? void 0
          : _a3.endpoint.call(
            __classPrivateFieldGet22(this, _VideoInfo_actions, "f"),
            void 0,
            true,
          );
      const data = (_b = response === null || response === void 0
              ? void 0
              : response.on_response_received_endpoints) === null ||
          _b === void 0
        ? void 0
        : _b.get({ type: "appendContinuationItemsAction" });
      if (!data) {
        throw new InnertubeError("Continuation not found");
      }
      this.watch_next_feed = data === null || data === void 0
        ? void 0
        : data.contents;
      __classPrivateFieldSet20(
        this,
        _VideoInfo_watch_next_continuation,
        (_d = (_c = this.watch_next_feed) === null || _c === void 0
              ? void 0
              : _c.pop()) === null || _d === void 0
          ? void 0
          : _d.as(ContinuationItem_default),
        "f",
      );
      return this;
    });
  }
  like() {
    var _a3, _b, _c, _d;
    return __awaiter19(this, void 0, void 0, function* () {
      const button =
        (_d = (_c = (_b = (_a3 = this.primary_info) === null || _a3 === void 0
                          ? void 0
                          : _a3.menu) === null || _b === void 0
                    ? void 0
                    : _b.top_level_buttons) === null || _c === void 0
              ? void 0
              : _c.get({ button_id: "TOGGLE_BUTTON_ID_TYPE_LIKE" })) === null ||
          _d === void 0
          ? void 0
          : _d.as(ToggleButton_default);
      if (!button) {
        throw new InnertubeError("Like button not found", {
          video_id: this.basic_info.id,
        });
      }
      if (button.is_toggled) {
        throw new InnertubeError("This video is already liked", {
          video_id: this.basic_info.id,
        });
      }
      const response = yield button.endpoint.call(
        __classPrivateFieldGet22(this, _VideoInfo_actions, "f"),
      );
      return response;
    });
  }
  dislike() {
    var _a3, _b, _c, _d;
    return __awaiter19(this, void 0, void 0, function* () {
      const button =
        (_d = (_c = (_b = (_a3 = this.primary_info) === null || _a3 === void 0
                          ? void 0
                          : _a3.menu) === null || _b === void 0
                    ? void 0
                    : _b.top_level_buttons) === null || _c === void 0
              ? void 0
              : _c.get({ button_id: "TOGGLE_BUTTON_ID_TYPE_DISLIKE" })) ===
            null || _d === void 0
          ? void 0
          : _d.as(ToggleButton_default);
      if (!button) {
        throw new InnertubeError("Dislike button not found", {
          video_id: this.basic_info.id,
        });
      }
      if (button.is_toggled) {
        throw new InnertubeError("This video is already disliked", {
          video_id: this.basic_info.id,
        });
      }
      const response = yield button.endpoint.call(
        __classPrivateFieldGet22(this, _VideoInfo_actions, "f"),
      );
      return response;
    });
  }
  removeLike() {
    var _a3, _b, _c, _d;
    return __awaiter19(this, void 0, void 0, function* () {
      const button =
        (_d = (_c = (_b = (_a3 = this.primary_info) === null || _a3 === void 0
                          ? void 0
                          : _a3.menu) === null || _b === void 0
                    ? void 0
                    : _b.top_level_buttons) === null || _c === void 0
              ? void 0
              : _c.get({ is_toggled: true })) === null || _d === void 0
          ? void 0
          : _d.as(ToggleButton_default);
      if (!button) {
        throw new InnertubeError("This video is not liked/disliked", {
          video_id: this.basic_info.id,
        });
      }
      const response = yield button.toggled_endpoint.call(
        __classPrivateFieldGet22(this, _VideoInfo_actions, "f"),
      );
      return response;
    });
  }
  getLiveChat() {
    if (!this.livechat) {
      throw new InnertubeError("Live Chat is not available", {
        video_id: this.basic_info.id,
      });
    }
    return new LiveChat_default2(this);
  }
  get filters() {
    var _a3, _b;
    return ((_b = (_a3 = this.related_chip_cloud) === null || _a3 === void 0
            ? void 0
            : _a3.chips) === null || _b === void 0
      ? void 0
      : _b.map((chip) => chip.text.toString())) || [];
  }
  get actions() {
    return __classPrivateFieldGet22(this, _VideoInfo_actions, "f");
  }
  get page() {
    return __classPrivateFieldGet22(this, _VideoInfo_page, "f");
  }
  get music_tracks() {
    return [];
  }
  chooseFormat(options) {
    if (!this.streaming_data) {
      throw new InnertubeError("Streaming data not available", {
        video_id: this.basic_info.id,
      });
    }
    const formats = [
      ...this.streaming_data.formats || [],
      ...this.streaming_data.adaptive_formats || [],
    ];
    const requires_audio = options.type ? options.type.includes("audio") : true;
    const requires_video = options.type ? options.type.includes("video") : true;
    const quality = options.quality || "360p";
    let best_width = -1;
    const is_best = ["best", "bestefficiency"].includes(quality);
    const use_most_efficient = quality !== "best";
    let candidates = formats.filter((format) => {
      if (requires_audio && !format.has_audio) {
        return false;
      }
      if (requires_video && !format.has_video) {
        return false;
      }
      if (
        options.format !== "any" &&
        !format.mime_type.includes(options.format || "mp4")
      ) {
        return false;
      }
      if (!is_best && format.quality_label !== quality) {
        return false;
      }
      if (best_width < format.width) {
        best_width = format.width;
      }
      return true;
    });
    if (!candidates.length) {
      throw new InnertubeError("No matching formats found", {
        options,
      });
    }
    if (is_best && requires_video) {
      candidates = candidates.filter((format) => format.width === best_width);
    }
    if (requires_audio && !requires_video) {
      const audio_only = candidates.filter((format) => !format.has_video);
      if (audio_only.length > 0) {
        candidates = audio_only;
      }
    }
    if (use_most_efficient) {
      candidates.sort((a, b) => a.bitrate - b.bitrate);
    } else {
      candidates.sort((a, b) => b.bitrate - a.bitrate);
    }
    return candidates[0];
  }
  toDash(url_transformer = (url) => url) {
    if (!this.streaming_data) {
      throw new InnertubeError("Streaming data not available", {
        video_id: this.basic_info.id,
      });
    }
    const { adaptive_formats } = this.streaming_data;
    const length = adaptive_formats[0].approx_duration_ms / 1e3;
    const document = new DOMParser().parseFromString("", "text/xml");
    const period = document.createElement("Period");
    document.appendChild(
      __classPrivateFieldGet22(this, _VideoInfo_instances, "m", _VideoInfo_el)
        .call(this, document, "MPD", {
          xmlns: "urn:mpeg:dash:schema:mpd:2011",
          minBufferTime: "PT1.500S",
          profiles: "urn:mpeg:dash:profile:isoff-main:2011",
          type: "static",
          mediaPresentationDuration: `PT${length}S`,
          "xmlns:xsi": "http://www.w3.org/2001/XMLSchema-instance",
          "xsi:schemaLocation":
            "urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd",
        }, [
          period,
        ]),
    );
    __classPrivateFieldGet22(
      this,
      _VideoInfo_instances,
      "m",
      _VideoInfo_generateAdaptationSet,
    ).call(this, document, period, adaptive_formats, url_transformer);
    return `${document}`;
  }
  download(options = {}) {
    var _a3, _b;
    return __awaiter19(this, void 0, void 0, function* () {
      if (
        ((_a3 = this.playability_status) === null || _a3 === void 0
          ? void 0
          : _a3.status) === "UNPLAYABLE"
      ) {
        throw new InnertubeError("Video is unplayable", {
          video: this,
          error_type: "UNPLAYABLE",
        });
      }
      if (
        ((_b = this.playability_status) === null || _b === void 0
          ? void 0
          : _b.status) === "LOGIN_REQUIRED"
      ) {
        throw new InnertubeError("Video is login required", {
          video: this,
          error_type: "LOGIN_REQUIRED",
        });
      }
      if (!this.streaming_data) {
        throw new InnertubeError("Streaming data not available.", {
          video: this,
          error_type: "NO_STREAMING_DATA",
        });
      }
      const opts = Object.assign({
        quality: "360p",
        type: "video+audio",
        format: "mp4",
        range: void 0,
      }, options);
      const format = this.chooseFormat(opts);
      const format_url = format.decipher();
      if (opts.type === "video+audio" && !options.range) {
        const response = yield __classPrivateFieldGet22(
          this,
          _VideoInfo_actions,
          "f",
        ).session.http.fetch_function(
          `${format_url}&cpn=${
            __classPrivateFieldGet22(this, _VideoInfo_cpn, "f")
          }`,
          {
            method: "GET",
            headers: Constants_default.STREAM_HEADERS,
            redirect: "follow",
          },
        );
        if (!response.ok) {
          throw new InnertubeError(
            "The server responded with a non 2xx status code",
            { video: this, error_type: "FETCH_FAILED", response },
          );
        }
        const body = response.body;
        if (!body) {
          throw new InnertubeError(
            "Could not get ReadableStream from fetch Response.",
            { video: this, error_type: "FETCH_FAILED", response },
          );
        }
        return body;
      }
      const chunk_size = 1048576 * 10;
      let chunk_start = options.range ? options.range.start : 0;
      let chunk_end = options.range ? options.range.end : chunk_size;
      let must_end = false;
      let cancel;
      const readable_stream = new ReadableStream({
        start() {
        },
        pull: (controller) =>
          __awaiter19(this, void 0, void 0, function* () {
            if (must_end) {
              controller.close();
              return;
            }
            if (chunk_end >= format.content_length || options.range) {
              must_end = true;
            }
            return new Promise((resolve, reject) =>
              __awaiter19(this, void 0, void 0, function* () {
                var e_1, _c;
                try {
                  cancel = new AbortController();
                  const response = yield __classPrivateFieldGet22(
                    this,
                    _VideoInfo_actions,
                    "f",
                  ).session.http.fetch_function(
                    `${format_url}&cpn=${
                      __classPrivateFieldGet22(this, _VideoInfo_cpn, "f")
                    }&range=${chunk_start}-${chunk_end || ""}`,
                    {
                      method: "GET",
                      headers: Object.assign(
                        {},
                        Constants_default.STREAM_HEADERS,
                      ),
                      signal: cancel.signal,
                    },
                  );
                  const body = response.body;
                  if (!body) {
                    throw new InnertubeError(
                      "Could not get ReadableStream from fetch Response.",
                      { video: this, error_type: "FETCH_FAILED", response },
                    );
                  }
                  try {
                    for (
                      var _d = __asyncValues(streamToIterable(body)), _e;
                      _e = yield _d.next(), !_e.done;
                    ) {
                      const chunk = _e.value;
                      controller.enqueue(chunk);
                    }
                  } catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                  } finally {
                    try {
                      if (_e && !_e.done && (_c = _d.return)) {
                        yield _c.call(_d);
                      }
                    } finally {
                      if (e_1) {
                        throw e_1.error;
                      }
                    }
                  }
                  chunk_start = chunk_end + 1;
                  chunk_end += chunk_size;
                  resolve();
                  return;
                } catch (e) {
                  reject(e);
                }
              })
            );
          }),
        cancel(reason) {
          return __awaiter19(this, void 0, void 0, function* () {
            cancel.abort(reason);
          });
        },
      }, {
        highWaterMark: 1,
        size(chunk) {
          return chunk.byteLength;
        },
      });
      return readable_stream;
    });
  }
};
__name(VideoInfo, "VideoInfo");
_VideoInfo_page = /* @__PURE__ */ new WeakMap(),
  _VideoInfo_actions = /* @__PURE__ */ new WeakMap(),
  _VideoInfo_player = /* @__PURE__ */ new WeakMap(),
  _VideoInfo_cpn = /* @__PURE__ */ new WeakMap(),
  _VideoInfo_watch_next_continuation = /* @__PURE__ */ new WeakMap(),
  _VideoInfo_instances = /* @__PURE__ */ new WeakSet(),
  _VideoInfo_el = /* @__PURE__ */ __name(
    function _VideoInfo_el2(document, tag, attrs, children = []) {
      const el = document.createElement(tag);
      for (const [key2, value] of Object.entries(attrs)) {
        el.setAttribute(key2, value);
      }
      for (const child of children) {
        if (typeof child === "undefined") {
          continue;
        }
        el.appendChild(child);
      }
      return el;
    },
    "_VideoInfo_el",
  ),
  _VideoInfo_generateAdaptationSet = /* @__PURE__ */ __name(
    function _VideoInfo_generateAdaptationSet2(
      document,
      period,
      formats,
      url_transformer,
    ) {
      const mimeTypes = [];
      const mimeObjects = [[]];
      formats.forEach((videoFormat) => {
        if (!videoFormat.index_range || !videoFormat.init_range) {
          return;
        }
        const mimeType = videoFormat.mime_type;
        const mimeTypeIndex = mimeTypes.indexOf(mimeType);
        if (mimeTypeIndex > -1) {
          mimeObjects[mimeTypeIndex].push(videoFormat);
        } else {
          mimeTypes.push(mimeType);
          mimeObjects.push([]);
          mimeObjects[mimeTypes.length - 1].push(videoFormat);
        }
      });
      for (let i = 0; i < mimeTypes.length; i++) {
        const set = __classPrivateFieldGet22(
          this,
          _VideoInfo_instances,
          "m",
          _VideoInfo_el,
        ).call(this, document, "AdaptationSet", {
          id: `${i}`,
          mimeType: mimeTypes[i].split(";")[0],
          startWithSAP: "1",
          subsegmentAlignment: "true",
        });
        period.appendChild(set);
        mimeObjects[i].forEach((format) => {
          if (format.has_video) {
            __classPrivateFieldGet22(
              this,
              _VideoInfo_instances,
              "m",
              _VideoInfo_generateRepresentationVideo,
            ).call(this, document, set, format, url_transformer);
          } else {
            __classPrivateFieldGet22(
              this,
              _VideoInfo_instances,
              "m",
              _VideoInfo_generateRepresentationAudio,
            ).call(this, document, set, format, url_transformer);
          }
        });
      }
    },
    "_VideoInfo_generateAdaptationSet",
  ),
  _VideoInfo_generateRepresentationVideo = /* @__PURE__ */ __name(
    function _VideoInfo_generateRepresentationVideo2(
      document,
      set,
      format,
      url_transformer,
    ) {
      const codecs = getStringBetweenStrings(format.mime_type, 'codecs="', '"');
      if (!format.index_range || !format.init_range) {
        throw new InnertubeError("Index and init ranges not available", {
          format,
        });
      }
      const url = new URL(format.decipher());
      url.searchParams.set(
        "cpn",
        __classPrivateFieldGet22(this, _VideoInfo_cpn, "f"),
      );
      set.appendChild(
        __classPrivateFieldGet22(this, _VideoInfo_instances, "m", _VideoInfo_el)
          .call(this, document, "Representation", {
            id: format.itag,
            codecs,
            bandwidth: format.bitrate,
            width: format.width,
            height: format.height,
            maxPlayoutRate: "1",
            frameRate: format.fps,
          }, [
            __classPrivateFieldGet22(
              this,
              _VideoInfo_instances,
              "m",
              _VideoInfo_el,
            ).call(this, document, "BaseURL", {}, [
              document.createTextNode(url_transformer(url).toString()),
            ]),
            __classPrivateFieldGet22(
              this,
              _VideoInfo_instances,
              "m",
              _VideoInfo_el,
            ).call(this, document, "SegmentBase", {
              indexRange:
                `${format.index_range.start}-${format.index_range.end}`,
            }, [
              __classPrivateFieldGet22(
                this,
                _VideoInfo_instances,
                "m",
                _VideoInfo_el,
              ).call(this, document, "Initialization", {
                range: `${format.init_range.start}-${format.init_range.end}`,
              }),
            ]),
          ]),
      );
    },
    "_VideoInfo_generateRepresentationVideo",
  ),
  _VideoInfo_generateRepresentationAudio = /* @__PURE__ */ __name(
    function _VideoInfo_generateRepresentationAudio2(
      document,
      set,
      format,
      url_transformer,
    ) {
      const codecs = getStringBetweenStrings(format.mime_type, 'codecs="', '"');
      if (!format.index_range || !format.init_range) {
        throw new InnertubeError("Index and init ranges not available", {
          format,
        });
      }
      const url = new URL(format.decipher());
      url.searchParams.set(
        "cpn",
        __classPrivateFieldGet22(this, _VideoInfo_cpn, "f"),
      );
      set.appendChild(
        __classPrivateFieldGet22(this, _VideoInfo_instances, "m", _VideoInfo_el)
          .call(this, document, "Representation", {
            id: format.itag,
            codecs,
            bandwidth: format.bitrate,
          }, [
            __classPrivateFieldGet22(
              this,
              _VideoInfo_instances,
              "m",
              _VideoInfo_el,
            ).call(this, document, "AudioChannelConfiguration", {
              schemeIdUri:
                "urn:mpeg:dash:23003:3:audio_channel_configuration:2011",
              value: format.audio_channels || "2",
            }),
            __classPrivateFieldGet22(
              this,
              _VideoInfo_instances,
              "m",
              _VideoInfo_el,
            ).call(this, document, "BaseURL", {}, [
              document.createTextNode(url_transformer(url).toString()),
            ]),
            __classPrivateFieldGet22(
              this,
              _VideoInfo_instances,
              "m",
              _VideoInfo_el,
            ).call(this, document, "SegmentBase", {
              indexRange:
                `${format.index_range.start}-${format.index_range.end}`,
            }, [
              __classPrivateFieldGet22(
                this,
                _VideoInfo_instances,
                "m",
                _VideoInfo_el,
              ).call(this, document, "Initialization", {
                range: `${format.init_range.start}-${format.init_range.end}`,
              }),
            ]),
          ]),
      );
    },
    "_VideoInfo_generateRepresentationAudio",
  );
var VideoInfo_default = VideoInfo;

// dist/src/parser/ytmusic/TrackInfo.js
var __classPrivateFieldSet21 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet23 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _TrackInfo_page;
var _TrackInfo_actions;
var TrackInfo = class {
  constructor(data, actions) {
    var _a3, _b, _c, _d, _e, _f, _g, _h;
    _TrackInfo_page.set(this, void 0);
    _TrackInfo_actions.set(this, void 0);
    __classPrivateFieldSet21(this, _TrackInfo_actions, actions, "f");
    const info = Parser.parseResponse(data[0].data);
    const next =
      ((_a3 = data === null || data === void 0 ? void 0 : data[1]) === null ||
            _a3 === void 0
          ? void 0
          : _a3.data)
        ? Parser.parseResponse(data[1].data)
        : void 0;
    __classPrivateFieldSet21(this, _TrackInfo_page, [info, next], "f");
    if (
      ((_b = info.playability_status) === null || _b === void 0
        ? void 0
        : _b.status) === "ERROR"
    ) {
      throw new InnertubeError(
        "This video is unavailable",
        info.playability_status,
      );
    }
    if (
      !((_c = info.microformat) === null || _c === void 0
        ? void 0
        : _c.is(MicroformatData_default))
    ) {
      throw new InnertubeError("Invalid microformat", info.microformat);
    }
    this.basic_info = Object.assign(Object.assign({}, info.video_details), {
      description: (_d = info.microformat) === null || _d === void 0
        ? void 0
        : _d.description,
      is_unlisted: (_e = info.microformat) === null || _e === void 0
        ? void 0
        : _e.is_unlisted,
      is_family_safe: (_f = info.microformat) === null || _f === void 0
        ? void 0
        : _f.is_family_safe,
      url_canonical: (_g = info.microformat) === null || _g === void 0
        ? void 0
        : _g.url_canonical,
      tags: (_h = info.microformat) === null || _h === void 0
        ? void 0
        : _h.tags,
    });
    this.streaming_data = info.streaming_data;
    this.playability_status = info.playability_status;
    this.storyboards = info.storyboards;
    this.endscreen = info.endscreen;
    if (next) {
      const single_col = next.contents.item().as(
        SingleColumnMusicWatchNextResults_default,
      );
      const tabbed_results = single_col.contents.item().as(Tabbed_default)
        .contents.item().as(WatchNextTabbedResults_default);
      this.tabs = tabbed_results.tabs.array().as(Tab_default);
      this.current_video_endpoint = next.current_video_endpoint;
      this.player_overlays = next.player_overlays.item().as(
        PlayerOverlay_default,
      );
    }
  }
  get page() {
    return __classPrivateFieldGet23(this, _TrackInfo_page, "f");
  }
};
__name(TrackInfo, "TrackInfo");
_TrackInfo_page = /* @__PURE__ */ new WeakMap(),
  _TrackInfo_actions = /* @__PURE__ */ new WeakMap();
var TrackInfo_default = TrackInfo;

// dist/src/parser/ytmusic/Search.js
var __awaiter20 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldSet22 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet24 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _Search_page;
var _Search_actions;
var _Search_continuation;
var Search2 = class {
  constructor(response, actions, args = {}) {
    var _a3, _b, _c, _d, _e, _f, _g;
    _Search_page.set(this, void 0);
    _Search_actions.set(this, void 0);
    _Search_continuation.set(this, void 0);
    __classPrivateFieldSet22(this, _Search_actions, actions, "f");
    __classPrivateFieldSet22(
      this,
      _Search_page,
      args.is_continuation ? response : Parser.parseResponse(response.data),
      "f",
    );
    const tab = __classPrivateFieldGet24(this, _Search_page, "f").contents
      .item().as(TabbedSearchResults_default).tabs.get({ selected: true });
    if (!tab) {
      throw new InnertubeError("Could not find target tab.");
    }
    const tab_content = (_a3 = tab.content) === null || _a3 === void 0
      ? void 0
      : _a3.as(SectionList_default);
    if (!tab_content) {
      throw new InnertubeError("Target tab did not have any content.");
    }
    this.header = tab_content.hasKey("header")
      ? (_b = tab_content.header) === null || _b === void 0
        ? void 0
        : _b.item().as(ChipCloud_default)
      : null;
    const shelves = tab_content.contents.array().as(
      MusicShelf_default,
      ItemSection_default,
    );
    const item_section = shelves.firstOfType(ItemSection_default);
    this.did_you_mean =
      ((_c = item_section === null || item_section === void 0
              ? void 0
              : item_section.contents) === null || _c === void 0
        ? void 0
        : _c.firstOfType(DidYouMean_default)) || null;
    this.showing_results_for =
      ((_d = item_section === null || item_section === void 0
              ? void 0
              : item_section.contents) === null || _d === void 0
        ? void 0
        : _d.firstOfType(ShowingResultsFor_default)) || null;
    this.message =
      ((_e = item_section === null || item_section === void 0
              ? void 0
              : item_section.contents) === null || _e === void 0
        ? void 0
        : _e.firstOfType(Message_default)) || null;
    if (args.is_continuation || args.is_filtered) {
      this.results =
        (_f = shelves.firstOfType(MusicShelf_default)) === null || _f === void 0
          ? void 0
          : _f.contents;
      __classPrivateFieldSet22(
        this,
        _Search_continuation,
        (_g = shelves.firstOfType(MusicShelf_default)) === null || _g === void 0
          ? void 0
          : _g.continuation,
        "f",
      );
    } else {
      this.sections = shelves.filterType(MusicShelf_default);
    }
  }
  getMore(shelf) {
    return __awaiter20(this, void 0, void 0, function* () {
      if (!shelf || !shelf.endpoint) {
        throw new InnertubeError(
          "Cannot retrieve more items for this shelf because it does not have an endpoint.",
        );
      }
      const response = yield shelf.endpoint.call(
        __classPrivateFieldGet24(this, _Search_actions, "f"),
        "YTMUSIC",
        true,
      );
      if (!response) {
        throw new InnertubeError("Endpoint did not return any data");
      }
      return new Search2(
        response,
        __classPrivateFieldGet24(this, _Search_actions, "f"),
        { is_continuation: true },
      );
    });
  }
  getContinuation() {
    var _a3, _b, _c;
    return __awaiter20(this, void 0, void 0, function* () {
      if (!__classPrivateFieldGet24(this, _Search_continuation, "f")) {
        throw new InnertubeError("Continuation not found.");
      }
      const response = yield __classPrivateFieldGet24(
        this,
        _Search_actions,
        "f",
      ).search({
        ctoken: __classPrivateFieldGet24(this, _Search_continuation, "f"),
        client: "YTMUSIC",
      });
      const data = response.data.continuationContents.musicShelfContinuation;
      this.results = Parser.parse(data.contents).array().as(
        MusicResponsiveListItem_default,
      );
      __classPrivateFieldSet22(
        this,
        _Search_continuation,
        (_c = (_b = (_a3 = data === null || data === void 0
                          ? void 0
                          : data.continuations) === null || _a3 === void 0
                    ? void 0
                    : _a3[0]) === null || _b === void 0
              ? void 0
              : _b.nextContinuationData) === null || _c === void 0
          ? void 0
          : _c.continuation,
        "f",
      );
      return this;
    });
  }
  selectFilter(name) {
    var _a3, _b, _c, _d;
    return __awaiter20(this, void 0, void 0, function* () {
      if (
        !((_a3 = this.filters) === null || _a3 === void 0
          ? void 0
          : _a3.includes(name))
      ) {
        throw new InnertubeError("Invalid filter", {
          available_filters: this.filters,
        });
      }
      const filter2 = (_c = (_b = this.header) === null || _b === void 0
              ? void 0
              : _b.chips) === null || _c === void 0
        ? void 0
        : _c.as(ChipCloudChip_default).get({ text: name });
      if (
        filter2 === null || filter2 === void 0
          ? void 0
          : filter2.is_selected
      ) {
        return this;
      }
      const response = yield (_d = filter2 === null || filter2 === void 0
              ? void 0
              : filter2.endpoint) === null || _d === void 0
        ? void 0
        : _d.call(
          __classPrivateFieldGet24(this, _Search_actions, "f"),
          "YTMUSIC",
          true,
        );
      if (!response) {
        throw new InnertubeError("Endpoint did not return any data");
      }
      return new Search2(
        response,
        __classPrivateFieldGet24(this, _Search_actions, "f"),
        { is_continuation: true },
      );
    });
  }
  get has_continuation() {
    return !!__classPrivateFieldGet24(this, _Search_continuation, "f");
  }
  get filters() {
    var _a3, _b;
    return ((_b = (_a3 = this.header) === null || _a3 === void 0
            ? void 0
            : _a3.chips) === null || _b === void 0
      ? void 0
      : _b.as(ChipCloudChip_default).map((chip) => chip.text)) || null;
  }
  get songs() {
    var _a3;
    return (_a3 = this.sections) === null || _a3 === void 0
      ? void 0
      : _a3.find((section) => section.title.toString() === "Songs");
  }
  get videos() {
    var _a3;
    return (_a3 = this.sections) === null || _a3 === void 0
      ? void 0
      : _a3.find((section) => section.title.toString() === "Videos");
  }
  get albums() {
    var _a3;
    return (_a3 = this.sections) === null || _a3 === void 0
      ? void 0
      : _a3.find((section) => section.title.toString() === "Albums");
  }
  get artists() {
    var _a3;
    return (_a3 = this.sections) === null || _a3 === void 0
      ? void 0
      : _a3.find((section) => section.title.toString() === "Artists");
  }
  get playlists() {
    var _a3;
    return (_a3 = this.sections) === null || _a3 === void 0
      ? void 0
      : _a3.find((section) =>
        section.title.toString() === "Community playlists"
      );
  }
  get page() {
    return __classPrivateFieldGet24(this, _Search_page, "f");
  }
};
__name(Search2, "Search");
_Search_page = /* @__PURE__ */ new WeakMap(),
  _Search_actions = /* @__PURE__ */ new WeakMap(),
  _Search_continuation = /* @__PURE__ */ new WeakMap();
var Search_default2 = Search2;

// dist/src/parser/ytmusic/HomeFeed.js
var __awaiter21 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldSet23 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet25 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _HomeFeed_page;
var _HomeFeed_actions;
var _HomeFeed_continuation;
var HomeFeed = class {
  constructor(response, actions) {
    var _a3, _b, _c;
    _HomeFeed_page.set(this, void 0);
    _HomeFeed_actions.set(this, void 0);
    _HomeFeed_continuation.set(this, void 0);
    __classPrivateFieldSet23(this, _HomeFeed_actions, actions, "f");
    __classPrivateFieldSet23(
      this,
      _HomeFeed_page,
      Parser.parseResponse(response.data),
      "f",
    );
    const tab = __classPrivateFieldGet25(this, _HomeFeed_page, "f").contents
      .item().as(SingleColumnBrowseResults_default).tabs.get({
        selected: true,
      });
    if (!tab) {
      throw new InnertubeError("Could not get Home tab.");
    }
    if (tab.key("content").isNull()) {
      if (
        !__classPrivateFieldGet25(this, _HomeFeed_page, "f")
          .continuation_contents
      ) {
        throw new InnertubeError("Continuation did not have any content.");
      }
      __classPrivateFieldSet23(
        this,
        _HomeFeed_continuation,
        __classPrivateFieldGet25(this, _HomeFeed_page, "f")
          .continuation_contents.as(SectionListContinuation).continuation,
        "f",
      );
      this.sections =
        (_a3 =
              __classPrivateFieldGet25(this, _HomeFeed_page, "f")
                .continuation_contents.as(SectionListContinuation).contents) ===
            null || _a3 === void 0
          ? void 0
          : _a3.as(MusicCarouselShelf_default);
      return;
    }
    __classPrivateFieldSet23(
      this,
      _HomeFeed_continuation,
      (_b = tab.content) === null || _b === void 0
        ? void 0
        : _b.as(SectionList_default).continuation,
      "f",
    );
    this.sections = (_c = tab.content) === null || _c === void 0
      ? void 0
      : _c.as(SectionList_default).contents.array().as(
        MusicCarouselShelf_default,
      );
  }
  getContinuation() {
    return __awaiter21(this, void 0, void 0, function* () {
      if (!__classPrivateFieldGet25(this, _HomeFeed_continuation, "f")) {
        throw new InnertubeError("Continuation not found.");
      }
      const response = yield __classPrivateFieldGet25(
        this,
        _HomeFeed_actions,
        "f",
      ).browse(__classPrivateFieldGet25(this, _HomeFeed_continuation, "f"), {
        is_ctoken: true,
        client: "YTMUSIC",
      });
      return new HomeFeed(
        response,
        __classPrivateFieldGet25(this, _HomeFeed_actions, "f"),
      );
    });
  }
  get has_continuation() {
    return !!__classPrivateFieldGet25(this, _HomeFeed_continuation, "f");
  }
  get page() {
    return __classPrivateFieldGet25(this, _HomeFeed_page, "f");
  }
};
__name(HomeFeed, "HomeFeed");
_HomeFeed_page = /* @__PURE__ */ new WeakMap(),
  _HomeFeed_actions = /* @__PURE__ */ new WeakMap(),
  _HomeFeed_continuation = /* @__PURE__ */ new WeakMap();
var HomeFeed_default = HomeFeed;

// dist/src/parser/ytmusic/Explore.js
var __classPrivateFieldSet24 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet26 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _Explore_page;
var Explore = class {
  constructor(response) {
    var _a3, _b;
    _Explore_page.set(this, void 0);
    __classPrivateFieldSet24(
      this,
      _Explore_page,
      Parser.parseResponse(response.data),
      "f",
    );
    const tab = __classPrivateFieldGet26(this, _Explore_page, "f").contents
      .item().as(SingleColumnBrowseResults_default).tabs.get({
        selected: true,
      });
    if (!tab) {
      throw new InnertubeError("Could not find target tab.");
    }
    const section_list = (_a3 = tab.content) === null || _a3 === void 0
      ? void 0
      : _a3.as(SectionList_default);
    if (!section_list) {
      throw new InnertubeError("Target tab did not have any content.");
    }
    this.top_buttons =
      ((_b = section_list.contents.array().firstOfType(Grid_default)) ===
            null || _b === void 0
        ? void 0
        : _b.items.array().as(MusicNavigationButton_default)) || [];
    this.sections = section_list.contents.array().getAll({
      type: "MusicCarouselShelf",
    });
  }
  get page() {
    return __classPrivateFieldGet26(this, _Explore_page, "f");
  }
};
__name(Explore, "Explore");
_Explore_page = /* @__PURE__ */ new WeakMap();
var Explore_default = Explore;

// dist/src/parser/ytmusic/Library.js
var __classPrivateFieldSet25 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet27 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _Library_page2;
var Library2 = class {
  constructor(response) {
    _Library_page2.set(this, void 0);
    __classPrivateFieldSet25(
      this,
      _Library_page2,
      Parser.parseResponse(response.data),
      "f",
    );
  }
  get page() {
    return __classPrivateFieldGet27(this, _Library_page2, "f");
  }
};
__name(Library2, "Library");
_Library_page2 = /* @__PURE__ */ new WeakMap();
var Library_default2 = Library2;

// dist/src/parser/ytmusic/Artist.js
var __awaiter22 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldSet26 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet28 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _Artist_page;
var _Artist_actions;
var Artist = class {
  constructor(response, actions) {
    _Artist_page.set(this, void 0);
    _Artist_actions.set(this, void 0);
    __classPrivateFieldSet26(
      this,
      _Artist_page,
      Parser.parseResponse(response.data),
      "f",
    );
    __classPrivateFieldSet26(this, _Artist_actions, actions, "f");
    this.header = this.page.header.item().as(MusicImmersiveHeader_default);
    const music_shelf = __classPrivateFieldGet28(this, _Artist_page, "f")
      .contents_memo.get("MusicShelf");
    const music_carousel_shelf = __classPrivateFieldGet28(
      this,
      _Artist_page,
      "f",
    ).contents_memo.get("MusicCarouselShelf");
    this.sections = [...music_shelf, ...music_carousel_shelf];
  }
  getAllSongs() {
    var _a3, _b;
    return __awaiter22(this, void 0, void 0, function* () {
      const music_shelves = this.sections.filter((section) =>
        section.type === "MusicShelf"
      );
      if (!music_shelves.length) {
        throw new InnertubeError("Could not find any node of type MusicShelf.");
      }
      const shelf = music_shelves.find((shelf2) =>
        shelf2.title.toString() === "Songs"
      );
      if (!shelf) {
        throw new InnertubeError("Could not find target shelf (Songs).");
      }
      if (!shelf.endpoint) {
        throw new InnertubeError(
          "Target shelf (Songs) did not have an endpoint.",
        );
      }
      const page = yield shelf.endpoint.call(
        __classPrivateFieldGet28(this, _Artist_actions, "f"),
        "YTMUSIC",
        true,
      );
      const contents =
        ((_b =
                (_a3 = page.contents_memo.get("MusicPlaylistShelf")) === null ||
                  _a3 === void 0
                  ? void 0
                  : _a3[0]) === null || _b === void 0
          ? void 0
          : _b.as(MusicPlaylistShelf_default)) || null;
      return contents;
    });
  }
  get page() {
    return __classPrivateFieldGet28(this, _Artist_page, "f");
  }
};
__name(Artist, "Artist");
_Artist_page = /* @__PURE__ */ new WeakMap(),
  _Artist_actions = /* @__PURE__ */ new WeakMap();
var Artist_default = Artist;

// dist/src/parser/ytmusic/Album.js
var __classPrivateFieldSet27 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet29 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _Album_page;
var _Album_actions;
var Album = class {
  constructor(response, actions) {
    var _a3, _b;
    _Album_page.set(this, void 0);
    _Album_actions.set(this, void 0);
    __classPrivateFieldSet27(
      this,
      _Album_page,
      Parser.parseResponse(response.data),
      "f",
    );
    __classPrivateFieldSet27(this, _Album_actions, actions, "f");
    this.header = __classPrivateFieldGet29(this, _Album_page, "f").header.item()
      .as(MusicDetailHeader_default);
    this.url =
      ((_a3 = __classPrivateFieldGet29(this, _Album_page, "f").microformat) ===
            null || _a3 === void 0
        ? void 0
        : _a3.as(MicroformatData_default).url_canonical) || null;
    this.contents =
      (_b = __classPrivateFieldGet29(this, _Album_page, "f").contents_memo.get(
            "MusicShelf",
          )) === null || _b === void 0
        ? void 0
        : _b[0].as(MusicShelf_default).contents;
    this.sections =
      __classPrivateFieldGet29(this, _Album_page, "f").contents_memo.get(
        "MusicCarouselShelf",
      ) || [];
  }
  get page() {
    return __classPrivateFieldGet29(this, _Album_page, "f");
  }
};
__name(Album, "Album");
_Album_page = /* @__PURE__ */ new WeakMap(),
  _Album_actions = /* @__PURE__ */ new WeakMap();
var Album_default = Album;

// dist/src/parser/ytmusic/Playlist.js
var __awaiter23 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldSet28 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet30 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _Playlist_page;
var _Playlist_actions;
var _Playlist_continuation;
var Playlist3 = class {
  constructor(response, actions) {
    var _a3, _b, _c;
    _Playlist_page.set(this, void 0);
    _Playlist_actions.set(this, void 0);
    _Playlist_continuation.set(this, void 0);
    __classPrivateFieldSet28(this, _Playlist_actions, actions, "f");
    __classPrivateFieldSet28(
      this,
      _Playlist_page,
      Parser.parseResponse(response.data),
      "f",
    );
    __classPrivateFieldSet28(this, _Playlist_actions, actions, "f");
    if (
      __classPrivateFieldGet30(this, _Playlist_page, "f").continuation_contents
    ) {
      const data =
        (_a3 =
              __classPrivateFieldGet30(this, _Playlist_page, "f")
                .continuation_contents) === null || _a3 === void 0
          ? void 0
          : _a3.as(MusicPlaylistShelfContinuation);
      this.items = data.contents;
      __classPrivateFieldSet28(
        this,
        _Playlist_continuation,
        data.continuation,
        "f",
      );
    } else {
      this.header = __classPrivateFieldGet30(this, _Playlist_page, "f").header
        .item().as(MusicDetailHeader_default);
      this.items =
        (_b = __classPrivateFieldGet30(this, _Playlist_page, "f").contents_memo
              .get("MusicPlaylistShelf")) === null || _b === void 0
          ? void 0
          : _b[0].as(MusicPlaylistShelf_default).contents;
      __classPrivateFieldSet28(
        this,
        _Playlist_continuation,
        ((_c = __classPrivateFieldGet30(this, _Playlist_page, "f").contents_memo
                .get("MusicPlaylistShelf")) === null || _c === void 0
          ? void 0
          : _c[0].as(MusicPlaylistShelf_default).continuation) || null,
        "f",
      );
    }
  }
  get page() {
    return __classPrivateFieldGet30(this, _Playlist_page, "f");
  }
  get has_continuation() {
    return !!__classPrivateFieldGet30(this, _Playlist_continuation, "f");
  }
  getContinuation() {
    return __awaiter23(this, void 0, void 0, function* () {
      if (__classPrivateFieldGet30(this, _Playlist_continuation, "f")) {
        const response = yield __classPrivateFieldGet30(
          this,
          _Playlist_actions,
          "f",
        ).browse(__classPrivateFieldGet30(this, _Playlist_continuation, "f"), {
          is_ctoken: true,
          client: "YTMUSIC",
        });
        return new Playlist3(
          response,
          __classPrivateFieldGet30(this, _Playlist_actions, "f"),
        );
      }
      throw new InnertubeError("Continuation not found.");
    });
  }
  getRelated() {
    var _a3, _b, _c;
    return __awaiter23(this, void 0, void 0, function* () {
      let section_continuation =
        (_a3 = __classPrivateFieldGet30(this, _Playlist_page, "f").contents_memo
              .get("SectionList")) === null || _a3 === void 0
          ? void 0
          : _a3[0].as(SectionList_default).continuation;
      while (section_continuation) {
        const response = yield __classPrivateFieldGet30(
          this,
          _Playlist_actions,
          "f",
        ).browse(section_continuation, { is_ctoken: true, client: "YTMUSIC" });
        const data = Parser.parseResponse(response.data);
        const section_list =
          (_b = data.continuation_contents) === null || _b === void 0
            ? void 0
            : _b.as(SectionListContinuation);
        const sections = (_c = section_list === null || section_list === void 0
                ? void 0
                : section_list.contents) === null || _c === void 0
          ? void 0
          : _c.as(MusicCarouselShelf_default);
        const related = sections === null || sections === void 0
          ? void 0
          : sections.filter((section) => {
            var _a4;
            return ((_a4 = section.header) === null || _a4 === void 0
              ? void 0
              : _a4.title.toString()) === "Related playlists";
          })[0];
        if (related) {
          return related.contents || [];
        }
        section_continuation = section_list === null || section_list === void 0
          ? void 0
          : section_list.continuation;
      }
      return [];
    });
  }
};
__name(Playlist3, "Playlist");
_Playlist_page = /* @__PURE__ */ new WeakMap(),
  _Playlist_actions = /* @__PURE__ */ new WeakMap(),
  _Playlist_continuation = /* @__PURE__ */ new WeakMap();
var Playlist_default3 = Playlist3;

// dist/src/core/Music.js
var __awaiter24 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldSet29 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet31 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _Music_actions;
var Music = class {
  constructor(session) {
    _Music_actions.set(this, void 0);
    __classPrivateFieldSet29(this, _Music_actions, session.actions, "f");
  }
  getInfo(video_id) {
    return __awaiter24(this, void 0, void 0, function* () {
      const initial_info = __classPrivateFieldGet31(this, _Music_actions, "f")
        .execute("/player", { client: "YTMUSIC", videoId: video_id });
      const continuation = __classPrivateFieldGet31(this, _Music_actions, "f")
        .execute("/next", { client: "YTMUSIC", videoId: video_id });
      const response = yield Promise.all([initial_info, continuation]);
      return new TrackInfo_default(
        response,
        __classPrivateFieldGet31(this, _Music_actions, "f"),
      );
    });
  }
  search(query2, filters2 = {}) {
    return __awaiter24(this, void 0, void 0, function* () {
      throwIfMissing({ query: query2 });
      const response = yield __classPrivateFieldGet31(this, _Music_actions, "f")
        .search({ query: query2, filters: filters2, client: "YTMUSIC" });
      return new Search_default2(
        response,
        __classPrivateFieldGet31(this, _Music_actions, "f"),
        {
          is_filtered: Reflect.has(filters2, "type") && filters2.type !== "all",
        },
      );
    });
  }
  getHomeFeed() {
    return __awaiter24(this, void 0, void 0, function* () {
      const response = yield __classPrivateFieldGet31(this, _Music_actions, "f")
        .browse("FEmusic_home", { client: "YTMUSIC" });
      return new HomeFeed_default(
        response,
        __classPrivateFieldGet31(this, _Music_actions, "f"),
      );
    });
  }
  getExplore() {
    return __awaiter24(this, void 0, void 0, function* () {
      const response = yield __classPrivateFieldGet31(this, _Music_actions, "f")
        .browse("FEmusic_explore", { client: "YTMUSIC" });
      return new Explore_default(response);
    });
  }
  getLibrary() {
    return __awaiter24(this, void 0, void 0, function* () {
      const response = yield __classPrivateFieldGet31(this, _Music_actions, "f")
        .browse("FEmusic_liked_albums", { client: "YTMUSIC" });
      return new Library_default2(response);
    });
  }
  getArtist(artist_id) {
    return __awaiter24(this, void 0, void 0, function* () {
      throwIfMissing({ artist_id });
      if (!artist_id.startsWith("UC")) {
        throw new InnertubeError("Invalid artist id", artist_id);
      }
      const response = yield __classPrivateFieldGet31(this, _Music_actions, "f")
        .browse(artist_id, { client: "YTMUSIC" });
      return new Artist_default(
        response,
        __classPrivateFieldGet31(this, _Music_actions, "f"),
      );
    });
  }
  getAlbum(album_id) {
    return __awaiter24(this, void 0, void 0, function* () {
      throwIfMissing({ album_id });
      if (!album_id.startsWith("MPR")) {
        throw new InnertubeError("Invalid album id", album_id);
      }
      const response = yield __classPrivateFieldGet31(this, _Music_actions, "f")
        .browse(album_id, { client: "YTMUSIC" });
      return new Album_default(
        response,
        __classPrivateFieldGet31(this, _Music_actions, "f"),
      );
    });
  }
  getPlaylist(playlist_id) {
    return __awaiter24(this, void 0, void 0, function* () {
      throwIfMissing({ playlist_id });
      const response = yield __classPrivateFieldGet31(this, _Music_actions, "f")
        .browse(`VL${playlist_id.replace(/VL/g, "")}`, { client: "YTMUSIC" });
      return new Playlist_default3(
        response,
        __classPrivateFieldGet31(this, _Music_actions, "f"),
      );
    });
  }
  getLyrics(video_id) {
    return __awaiter24(this, void 0, void 0, function* () {
      throwIfMissing({ video_id });
      const response = yield __classPrivateFieldGet31(this, _Music_actions, "f")
        .next({ video_id, client: "YTMUSIC" });
      const data = Parser.parseResponse(response.data);
      const tabs = data.contents.item().as(
        SingleColumnMusicWatchNextResults_default,
      ).contents.item().as(Tabbed_default).contents.item().as(
        WatchNextTabbedResults_default,
      ).tabs.array().as(Tab_default);
      const tab = tabs.get({ title: "Lyrics" });
      if (!tab) {
        throw new InnertubeError("Could not find target tab.");
      }
      const page = yield tab.endpoint.call(
        __classPrivateFieldGet31(this, _Music_actions, "f"),
        "YTMUSIC",
        true,
      );
      if (!page) {
        throw new InnertubeError(
          "Could not retrieve tab contents, the given id may be invalid or is not a song.",
        );
      }
      if (page.contents.item().key("type").string() === "Message") {
        throw new InnertubeError(
          page.contents.item().as(Message_default).text,
          video_id,
        );
      }
      const section_list = page.contents.item().as(SectionList_default).contents
        .array();
      const description_shelf = section_list.firstOfType(
        MusicDescriptionShelf_default,
      );
      return {
        text: description_shelf === null || description_shelf === void 0
          ? void 0
          : description_shelf.description.toString(),
        footer: description_shelf === null || description_shelf === void 0
          ? void 0
          : description_shelf.footer,
      };
    });
  }
  getUpNext(video_id) {
    var _a3;
    return __awaiter24(this, void 0, void 0, function* () {
      throwIfMissing({ video_id });
      const response = yield __classPrivateFieldGet31(this, _Music_actions, "f")
        .next({ video_id, client: "YTMUSIC" });
      const data = Parser.parseResponse(response.data);
      const tabs = data.contents.item().as(
        SingleColumnMusicWatchNextResults_default,
      ).contents.item().as(Tabbed_default).contents.item().as(
        WatchNextTabbedResults_default,
      ).tabs.array().as(Tab_default);
      const tab = tabs.get({ title: "Up next" });
      if (!tab) {
        throw new InnertubeError("Could not find target tab.");
      }
      const music_queue = (_a3 = tab.content) === null || _a3 === void 0
        ? void 0
        : _a3.as(MusicQueue_default);
      if (!music_queue || !music_queue.content) {
        throw new InnertubeError(
          "Music queue was empty, the given id is probably invalid.",
          music_queue,
        );
      }
      const playlist_panel = music_queue.content.item().as(
        PlaylistPanel_default,
      );
      return playlist_panel;
    });
  }
  getRelated(video_id) {
    return __awaiter24(this, void 0, void 0, function* () {
      throwIfMissing({ video_id });
      const response = yield __classPrivateFieldGet31(this, _Music_actions, "f")
        .next({ video_id, client: "YTMUSIC" });
      const data = Parser.parseResponse(response.data);
      const tabs = data.contents.item().as(
        SingleColumnMusicWatchNextResults_default,
      ).contents.item().as(Tabbed_default).contents.item().as(
        WatchNextTabbedResults_default,
      ).tabs.array().as(Tab_default);
      const tab = tabs.get({ title: "Related" });
      if (!tab) {
        throw new InnertubeError("Could not find target tab.");
      }
      const page = yield tab.endpoint.call(
        __classPrivateFieldGet31(this, _Music_actions, "f"),
        "YTMUSIC",
        true,
      );
      if (!page) {
        throw new InnertubeError(
          "Could not retrieve tab contents, the given id may be invalid or is not a song.",
        );
      }
      const shelves = page.contents.item().as(SectionList_default).contents
        .array().as(MusicCarouselShelf_default, MusicDescriptionShelf_default);
      return shelves;
    });
  }
  getSearchSuggestions(query2) {
    var _a3;
    return __awaiter24(this, void 0, void 0, function* () {
      const response = yield __classPrivateFieldGet31(this, _Music_actions, "f")
        .execute("/music/get_search_suggestions", {
          parse: true,
          input: query2,
          client: "YTMUSIC",
        });
      const search_suggestions_section =
        (_a3 = response.contents_memo.getType(
              SearchSuggestionsSection_default,
            )) === null || _a3 === void 0
          ? void 0
          : _a3[0];
      if (!search_suggestions_section.contents.is_array) {
        return observe([]);
      }
      return search_suggestions_section === null ||
          search_suggestions_section === void 0
        ? void 0
        : search_suggestions_section.contents.array();
    });
  }
};
__name(Music, "Music");
_Music_actions = /* @__PURE__ */ new WeakMap();
var Music_default = Music;

// dist/src/utils/Cache.js
var __awaiter25 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldSet30 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet32 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _UniversalCache_instances;
var _UniversalCache_persistent_directory;
var _UniversalCache_persistent;
var _UniversalCache_createCache;
var _UniversalCache_getBrowserDB;
var UniversalCache = class {
  constructor(persistent = false, persistent_directory) {
    _UniversalCache_instances.add(this);
    _UniversalCache_persistent_directory.set(this, void 0);
    _UniversalCache_persistent.set(this, void 0);
    __classPrivateFieldSet30(
      this,
      _UniversalCache_persistent_directory,
      persistent_directory || UniversalCache.default_persistent_directory,
      "f",
    );
    __classPrivateFieldSet30(this, _UniversalCache_persistent, persistent, "f");
  }
  static get temp_directory() {
    switch (getRuntime()) {
      case "deno":
        const Deno = Reflect.get(globalThis, "Deno");
        return `${
          Deno.env.get("TMPDIR") || Deno.env.get("TMP") ||
          Deno.env.get("TEMP") || "/tmp"
        }/youtubei.js`;
      case "node":
        return `${Reflect.get(module, "require")("os").tmpdir()}/youtubei.js`;
      default:
        return "";
    }
  }
  static get default_persistent_directory() {
    switch (getRuntime()) {
      case "deno":
        const Deno = Reflect.get(globalThis, "Deno");
        return `${Deno.cwd()}/.cache/youtubei.js`;
      case "node":
        return Reflect.get(module, "require")("path").resolve(
          __dirname,
          "..",
          "..",
          ".cache",
          "youtubei.js",
        );
      default:
        return "";
    }
  }
  get cache_dir() {
    return __classPrivateFieldGet32(this, _UniversalCache_persistent, "f")
      ? __classPrivateFieldGet32(
        this,
        _UniversalCache_persistent_directory,
        "f",
      )
      : UniversalCache.temp_directory;
  }
  get(key2) {
    return __awaiter25(this, void 0, void 0, function* () {
      yield __classPrivateFieldGet32(
        this,
        _UniversalCache_instances,
        "m",
        _UniversalCache_createCache,
      ).call(this);
      switch (getRuntime()) {
        case "deno": {
          const file = `${this.cache_dir}/${key2}`;
          const Deno = Reflect.get(globalThis, "Deno");
          try {
            const stat = yield Deno.stat(file);
            if (stat.isFile) {
              const data = yield Deno.readFile(file);
              return data.buffer;
            }
            throw new Error(
              "An unexpected file was found in place of the cache key",
            );
          } catch (e) {
            if (e instanceof Deno.errors.NotFound) {
              return void 0;
            }
            throw e;
          }
        }
        case "node": {
          const fs = Reflect.get(module, "require")("fs/promises");
          const file = Reflect.get(module, "require")("path").resolve(
            this.cache_dir,
            key2,
          );
          try {
            const stat = yield fs.stat(file);
            if (stat.isFile()) {
              const data = yield fs.readFile(file);
              return data.buffer;
            }
            throw new Error(
              "An unexpected file was found in place of the cache key",
            );
          } catch (e) {
            if ((e === null || e === void 0 ? void 0 : e.code) === "ENOENT") {
              return void 0;
            }
            throw e;
          }
        }
        case "browser": {
          const db = yield __classPrivateFieldGet32(
            this,
            _UniversalCache_instances,
            "m",
            _UniversalCache_getBrowserDB,
          ).call(this);
          if (!db) {
            return;
          }
          return new Promise((resolve, reject) => {
            const request = db.transaction("kv-store", "readonly").objectStore(
              "kv-store",
            ).get(key2);
            request.onerror = reject;
            request.onsuccess = function () {
              var _a3;
              const result = (_a3 = this.result) === null || _a3 === void 0
                ? void 0
                : _a3.v;
              resolve(result ? result.buffer : void 0);
            };
          });
        }
      }
    });
  }
  set(key2, value) {
    return __awaiter25(this, void 0, void 0, function* () {
      yield __classPrivateFieldGet32(
        this,
        _UniversalCache_instances,
        "m",
        _UniversalCache_createCache,
      ).call(this);
      switch (getRuntime()) {
        case "deno":
          {
            const Deno = Reflect.get(globalThis, "Deno");
            const file = `${this.cache_dir}/${key2}`;
            yield Deno.writeFile(file, new Uint8Array(value));
          }
          break;
        case "node":
          {
            const fs = Reflect.get(module, "require")("fs/promises");
            const file = Reflect.get(module, "require")("path").resolve(
              this.cache_dir,
              key2,
            );
            yield fs.writeFile(file, new Uint8Array(value));
          }
          break;
        case "browser":
          {
            const db = yield __classPrivateFieldGet32(
              this,
              _UniversalCache_instances,
              "m",
              _UniversalCache_getBrowserDB,
            ).call(this);
            if (!db) {
              return;
            }
            return new Promise((resolve, reject) => {
              const request = db.transaction("kv-store", "readwrite")
                .objectStore("kv-store").put({ k: key2, v: value });
              request.onerror = reject;
              request.onsuccess = () => resolve();
            });
          }
          break;
      }
    });
  }
  remove(key2) {
    return __awaiter25(this, void 0, void 0, function* () {
      yield __classPrivateFieldGet32(
        this,
        _UniversalCache_instances,
        "m",
        _UniversalCache_createCache,
      ).call(this);
      switch (getRuntime()) {
        case "deno":
          {
            const file = `${this.cache_dir}/${key2}`;
            const Deno = Reflect.get(globalThis, "Deno");
            try {
              yield Deno.remove(file);
            } catch (e) {
              if (e instanceof Deno.errors.NotFound) {
                return void 0;
              }
              throw e;
            }
          }
          break;
        case "node":
          {
            const fs = Reflect.get(module, "require")("fs/promises");
            const file = Reflect.get(module, "require")("path").resolve(
              this.cache_dir,
              key2,
            );
            try {
              yield fs.unlink(file);
            } catch (e) {
              if ((e === null || e === void 0 ? void 0 : e.code) === "ENOENT") {
                return;
              }
              throw e;
            }
          }
          break;
        case "browser": {
          const db = yield __classPrivateFieldGet32(
            this,
            _UniversalCache_instances,
            "m",
            _UniversalCache_getBrowserDB,
          ).call(this);
          if (!db) {
            return;
          }
          return new Promise((resolve, reject) => {
            const request = db.transaction("kv-store", "readwrite").objectStore(
              "kv-store",
            ).delete(key2);
            request.onerror = reject;
            request.onsuccess = () => resolve();
          });
        }
      }
    });
  }
};
__name(UniversalCache, "UniversalCache");
_UniversalCache_persistent_directory = /* @__PURE__ */ new WeakMap(),
  _UniversalCache_persistent = /* @__PURE__ */ new WeakMap(),
  _UniversalCache_instances = /* @__PURE__ */ new WeakSet(),
  _UniversalCache_createCache = /* @__PURE__ */ __name(
    function _UniversalCache_createCache2() {
      return __awaiter25(this, void 0, void 0, function* () {
        const dir = this.cache_dir;
        switch (getRuntime()) {
          case "deno":
            const Deno = Reflect.get(globalThis, "Deno");
            try {
              const cwd = yield Deno.stat(dir);
              if (!cwd.isDirectory) {
                throw new Error(
                  "An unexpected file was found in place of the cache directory",
                );
              }
            } catch (e) {
              if (e instanceof Deno.errors.NotFound) {
                yield Deno.mkdir(dir, { recursive: true });
              } else {
                throw e;
              }
            }
            break;
          case "node":
            const fs = Reflect.get(module, "require")("fs/promises");
            try {
              const cwd = yield fs.stat(dir);
              if (!cwd.isDirectory()) {
                throw new Error(
                  "An unexpected file was found in place of the cache directory",
                );
              }
            } catch (e) {
              if ((e === null || e === void 0 ? void 0 : e.code) === "ENOENT") {
                yield fs.mkdir(dir, { recursive: true });
              } else {
                throw e;
              }
            }
            break;
        }
      });
    },
    "_UniversalCache_createCache",
  ),
  _UniversalCache_getBrowserDB = /* @__PURE__ */ __name(
    function _UniversalCache_getBrowserDB2() {
      const indexedDB = Reflect.get(globalThis, "indexedDB") ||
        Reflect.get(globalThis, "webkitIndexedDB") ||
        Reflect.get(globalThis, "mozIndexedDB") ||
        Reflect.get(globalThis, "msIndexedDB");
      if (!indexedDB) {
        return console.log(
          "IndexedDB is not supported. No cache will be used.",
        );
      }
      return new Promise((resolve, reject) => {
        const request = indexedDB.open("youtubei.js", 1);
        request.onsuccess = function () {
          resolve(this.result);
        };
        request.onerror = function (event) {
          reject("indexedDB request error");
          console.error(event);
        };
        request.onupgradeneeded = function () {
          const store = this.result.createObjectStore("kv-store", {
            keyPath: "k",
          });
          store.transaction.oncomplete = function () {
            resolve(this.db);
          };
        };
      });
    },
    "_UniversalCache_getBrowserDB",
  );

// dist/src/core/Studio.js
var __awaiter26 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldSet31 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet33 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _Studio_instances;
var _Studio_session;
var _Studio_getInitialUploadData;
var _Studio_uploadVideo;
var _Studio_setVideoMetadata;
var Studio = class {
  constructor(session) {
    _Studio_instances.add(this);
    _Studio_session.set(this, void 0);
    __classPrivateFieldSet31(this, _Studio_session, session, "f");
  }
  setThumbnail(video_id, buffer) {
    return __awaiter26(this, void 0, void 0, function* () {
      if (!video_id || !buffer) {
        throw new MissingParamError("One or more parameters are missing.");
      }
      const payload = proto_default.encodeCustomThumbnailPayload(
        video_id,
        buffer,
      );
      const response = yield __classPrivateFieldGet33(
        this,
        _Studio_session,
        "f",
      ).actions.execute("/video_manager/metadata_update", {
        protobuf: true,
        serialized_data: payload,
      });
      return response;
    });
  }
  upload(file, metadata = {}) {
    return __awaiter26(this, void 0, void 0, function* () {
      const initial_data = yield __classPrivateFieldGet33(
        this,
        _Studio_instances,
        "m",
        _Studio_getInitialUploadData,
      ).call(this);
      const upload_result = yield __classPrivateFieldGet33(
        this,
        _Studio_instances,
        "m",
        _Studio_uploadVideo,
      ).call(this, initial_data.upload_url, file);
      if (upload_result.status !== "STATUS_SUCCESS") {
        throw new InnertubeError("Could not process video.");
      }
      const response = yield __classPrivateFieldGet33(
        this,
        _Studio_instances,
        "m",
        _Studio_setVideoMetadata,
      ).call(this, initial_data, upload_result, metadata);
      return response;
    });
  }
};
__name(Studio, "Studio");
_Studio_session = /* @__PURE__ */ new WeakMap(),
  _Studio_instances = /* @__PURE__ */ new WeakSet(),
  _Studio_getInitialUploadData = /* @__PURE__ */ __name(
    function _Studio_getInitialUploadData2() {
      return __awaiter26(this, void 0, void 0, function* () {
        const frontend_upload_id =
          `innertube_android:${uuidv4()}:0:v=3,api=1,cf=3`;
        const payload = {
          frontendUploadId: frontend_upload_id,
          deviceDisplayName: "Pixel 6 Pro",
          fileId:
            `goog-edited-video://generated?videoFileUri=content://media/external/video/media/${uuidv4()}`,
          mp4MoovAtomRelocationStatus: "UNSUPPORTED",
          transcodeResult: "DISABLED",
          connectionType: "WIFI",
        };
        const response = yield __classPrivateFieldGet33(
          this,
          _Studio_session,
          "f",
        ).http.fetch("/upload/youtubei", {
          baseURL: Constants_exports.URLS.YT_UPLOAD,
          method: "POST",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
            "x-goog-upload-command": "start",
            "x-goog-upload-protocol": "resumable",
          },
          body: JSON.stringify(payload),
        });
        if (!response.ok) {
          throw new InnertubeError("Could not get initial upload data");
        }
        return {
          frontend_upload_id,
          upload_id: response.headers.get("x-guploader-uploadid"),
          upload_url: response.headers.get("x-goog-upload-url"),
          scotty_resource_id: response.headers.get(
            "x-goog-upload-header-scotty-resource-id",
          ),
          chunk_granularity: response.headers.get(
            "x-goog-upload-chunk-granularity",
          ),
        };
      });
    },
    "_Studio_getInitialUploadData",
  ),
  _Studio_uploadVideo = /* @__PURE__ */ __name(
    function _Studio_uploadVideo2(upload_url, file) {
      return __awaiter26(this, void 0, void 0, function* () {
        const response = yield __classPrivateFieldGet33(
          this,
          _Studio_session,
          "f",
        ).http.fetch_function(upload_url, {
          method: "POST",
          headers: {
            "Content-Type": "application/x-www-form-urlencoded",
            "x-goog-upload-command": "upload, finalize",
            "x-goog-upload-file-name": `file-${Date.now()}`,
            "x-goog-upload-offset": "0",
          },
          body: file,
        });
        if (!response.ok) {
          throw new InnertubeError("Could not upload video");
        }
        const data = yield response.json();
        return data;
      });
    },
    "_Studio_uploadVideo",
  ),
  _Studio_setVideoMetadata = /* @__PURE__ */ __name(
    function _Studio_setVideoMetadata2(initial_data, upload_result, metadata) {
      return __awaiter26(this, void 0, void 0, function* () {
        const metadata_payload = {
          resourceId: {
            scottyResourceId: {
              id: upload_result.scottyResourceId,
            },
          },
          frontendUploadId: initial_data.frontend_upload_id,
          initialMetadata: {
            title: {
              newTitle: metadata.title || new Date().toDateString(),
            },
            description: {
              newDescription: metadata.description || "",
              shouldSegment: true,
            },
            privacy: {
              newPrivacy: metadata.privacy || "PRIVATE",
            },
            draftState: {
              isDraft: metadata.is_draft || false,
            },
          },
        };
        const response = yield __classPrivateFieldGet33(
          this,
          _Studio_session,
          "f",
        ).actions.execute(
          "/upload/createvideo",
          Object.assign({ client: "ANDROID" }, metadata_payload),
        );
        return response;
      });
    },
    "_Studio_setVideoMetadata",
  );
var Studio_default = Studio;

// dist/src/parser/youtube/Analytics.js
var __classPrivateFieldSet32 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet34 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _Analytics_page;
var Analytics = class {
  constructor(response) {
    var _a3, _b;
    _Analytics_page.set(this, void 0);
    __classPrivateFieldSet32(
      this,
      _Analytics_page,
      Parser.parseResponse(response.data),
      "f",
    );
    this.sections =
      (_b =
            (_a3 =
                  __classPrivateFieldGet34(this, _Analytics_page, "f")
                    .contents_memo) === null || _a3 === void 0
              ? void 0
              : _a3.get("Element")) === null || _b === void 0
        ? void 0
        : _b.map((el) => el.as(Element_default).model.item());
  }
  get page() {
    return __classPrivateFieldGet34(this, _Analytics_page, "f");
  }
};
__name(Analytics, "Analytics");
_Analytics_page = /* @__PURE__ */ new WeakMap();
var Analytics_default = Analytics;

// dist/src/core/AccountManager.js
var __awaiter27 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldSet33 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet35 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _AccountManager_instances;
var _AccountManager_actions;
var _AccountManager_setSetting;
var AccountManager = class {
  constructor(actions) {
    _AccountManager_instances.add(this);
    _AccountManager_actions.set(this, void 0);
    __classPrivateFieldSet33(this, _AccountManager_actions, actions, "f");
    this.channel = {
      editName: (new_name) =>
        __classPrivateFieldGet35(this, _AccountManager_actions, "f").channel(
          "channel/edit_name",
          { new_name },
        ),
      editDescription: (new_description) =>
        __classPrivateFieldGet35(this, _AccountManager_actions, "f").channel(
          "channel/edit_description",
          { new_description },
        ),
      getBasicAnalytics: () => this.getAnalytics(),
    };
    this.settings = {
      notifications: {
        setSubscriptions: (option) =>
          __classPrivateFieldGet35(
            this,
            _AccountManager_instances,
            "m",
            _AccountManager_setSetting,
          ).call(
            this,
            Constants_default.ACCOUNT_SETTINGS.SUBSCRIPTIONS,
            "SPaccount_notifications",
            option,
          ),
        setRecommendedVideos: (option) =>
          __classPrivateFieldGet35(
            this,
            _AccountManager_instances,
            "m",
            _AccountManager_setSetting,
          ).call(
            this,
            Constants_default.ACCOUNT_SETTINGS.RECOMMENDED_VIDEOS,
            "SPaccount_notifications",
            option,
          ),
        setChannelActivity: (option) =>
          __classPrivateFieldGet35(
            this,
            _AccountManager_instances,
            "m",
            _AccountManager_setSetting,
          ).call(
            this,
            Constants_default.ACCOUNT_SETTINGS.CHANNEL_ACTIVITY,
            "SPaccount_notifications",
            option,
          ),
        setCommentReplies: (option) =>
          __classPrivateFieldGet35(
            this,
            _AccountManager_instances,
            "m",
            _AccountManager_setSetting,
          ).call(
            this,
            Constants_default.ACCOUNT_SETTINGS.COMMENT_REPLIES,
            "SPaccount_notifications",
            option,
          ),
        setMentions: (option) =>
          __classPrivateFieldGet35(
            this,
            _AccountManager_instances,
            "m",
            _AccountManager_setSetting,
          ).call(
            this,
            Constants_default.ACCOUNT_SETTINGS.USER_MENTION,
            "SPaccount_notifications",
            option,
          ),
        setSharedContent: (option) =>
          __classPrivateFieldGet35(
            this,
            _AccountManager_instances,
            "m",
            _AccountManager_setSetting,
          ).call(
            this,
            Constants_default.ACCOUNT_SETTINGS.SHARED_CONTENT,
            "SPaccount_notifications",
            option,
          ),
      },
      privacy: {
        setSubscriptionsPrivate: (option) =>
          __classPrivateFieldGet35(
            this,
            _AccountManager_instances,
            "m",
            _AccountManager_setSetting,
          ).call(
            this,
            Constants_default.ACCOUNT_SETTINGS.SUBSCRIPTIONS_PRIVACY,
            "SPaccount_privacy",
            option,
          ),
        setSavedPlaylistsPrivate: (option) =>
          __classPrivateFieldGet35(
            this,
            _AccountManager_instances,
            "m",
            _AccountManager_setSetting,
          ).call(
            this,
            Constants_default.ACCOUNT_SETTINGS.PLAYLISTS_PRIVACY,
            "SPaccount_privacy",
            option,
          ),
      },
    };
  }
  getInfo() {
    return __awaiter27(this, void 0, void 0, function* () {
      const response = yield __classPrivateFieldGet35(
        this,
        _AccountManager_actions,
        "f",
      ).account("account/accounts_list", { client: "ANDROID" });
      const account_item_section_renderer = findNode(
        response.data,
        "contents",
        "accountItem",
        8,
        false,
      );
      const profile =
        account_item_section_renderer.accountItem.serviceEndpoint.signInEndpoint
          .directSigninUserProfile;
      const name = profile.accountName;
      const email = profile.email;
      const photo = profile.accountPhoto.thumbnails;
      const subscriber_count = account_item_section_renderer.accountItem
        .accountByline.runs.map((run) => run.text).join("");
      const channel_id =
        response.data.contents[0].accountSectionListRenderer.footers[0]
          .accountChannelRenderer.navigationEndpoint.browseEndpoint.browseId;
      return { name, email, channel_id, subscriber_count, photo };
    });
  }
  getTimeWatched() {
    return __awaiter27(this, void 0, void 0, function* () {
      const response = yield __classPrivateFieldGet35(
        this,
        _AccountManager_actions,
        "f",
      ).browse("SPtime_watched", { client: "ANDROID" });
      const rows = findNode(
        response.data,
        "contents",
        "statRowRenderer",
        11,
        false,
      );
      const stats = rows.map((row) => {
        const renderer = row.statRowRenderer;
        if (renderer) {
          return {
            title: renderer.title.runs.map((run) => run.text).join(""),
            time: renderer.contents.runs.map((run) => run.text).join(""),
          };
        }
      }).filter((stat) => stat);
      return stats;
    });
  }
  getAnalytics() {
    return __awaiter27(this, void 0, void 0, function* () {
      const info = yield this.getInfo();
      const params = proto_default.encodeChannelAnalyticsParams(
        info.channel_id,
      );
      const response = yield __classPrivateFieldGet35(
        this,
        _AccountManager_actions,
        "f",
      ).browse("FEanalytics_screen", { params, client: "ANDROID" });
      return new Analytics_default(response);
    });
  }
};
__name(AccountManager, "AccountManager");
_AccountManager_actions = /* @__PURE__ */ new WeakMap(),
  _AccountManager_instances = /* @__PURE__ */ new WeakSet(),
  _AccountManager_setSetting = /* @__PURE__ */ __name(
    function _AccountManager_setSetting2(setting_id, type, new_value) {
      return __awaiter27(this, void 0, void 0, function* () {
        throwIfMissing({ setting_id, type, new_value });
        const response = yield __classPrivateFieldGet35(
          this,
          _AccountManager_actions,
          "f",
        ).browse(type);
        const contents = (() => {
          switch (type.trim()) {
            case "SPaccount_notifications":
              return findNode(
                response.data,
                "contents",
                "Your preferences",
                13,
                false,
              ).options;
            case "SPaccount_privacy":
              return findNode(
                response.data,
                "contents",
                "settingsSwitchRenderer",
                13,
                false,
              ).options;
            default:
              throw new TypeError("undefined is not a function");
          }
        })();
        const option = contents.find((option2) =>
          option2.settingsSwitchRenderer.enableServiceEndpoint
            .setSettingEndpoint.settingItemIdForClient == setting_id
        );
        const setting_item_id =
          option.settingsSwitchRenderer.enableServiceEndpoint.setSettingEndpoint
            .settingItemId;
        const set_setting = yield __classPrivateFieldGet35(
          this,
          _AccountManager_actions,
          "f",
        ).account("account/set_setting", {
          new_value: type == "SPaccount_privacy" ? !new_value : new_value,
          setting_item_id,
        });
        return set_setting;
      });
    },
    "_AccountManager_setSetting",
  );
var AccountManager_default = AccountManager;

// dist/src/core/PlaylistManager.js
var __awaiter28 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldSet34 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet36 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _PlaylistManager_actions;
var PlaylistManager = class {
  constructor(actions) {
    _PlaylistManager_actions.set(this, void 0);
    __classPrivateFieldSet34(this, _PlaylistManager_actions, actions, "f");
  }
  create(title, video_ids) {
    return __awaiter28(this, void 0, void 0, function* () {
      throwIfMissing({ title, video_ids });
      const response = yield __classPrivateFieldGet36(
        this,
        _PlaylistManager_actions,
        "f",
      ).execute("/playlist/create", { title, ids: video_ids, parse: false });
      return {
        success: response.success,
        status_code: response.status_code,
        playlist_id: response.data.playlistId,
        data: response.data,
      };
    });
  }
  delete(playlist_id) {
    return __awaiter28(this, void 0, void 0, function* () {
      throwIfMissing({ playlist_id });
      const response = yield __classPrivateFieldGet36(
        this,
        _PlaylistManager_actions,
        "f",
      ).execute("playlist/delete", { playlistId: playlist_id });
      return {
        playlist_id,
        success: response.success,
        status_code: response.status_code,
        data: response.data,
      };
    });
  }
  addVideos(playlist_id, video_ids) {
    return __awaiter28(this, void 0, void 0, function* () {
      throwIfMissing({ playlist_id, video_ids });
      const response = yield __classPrivateFieldGet36(
        this,
        _PlaylistManager_actions,
        "f",
      ).execute("/browse/edit_playlist", {
        playlistId: playlist_id,
        actions: video_ids.map((id) => ({
          action: "ACTION_ADD_VIDEO",
          addedVideoId: id,
        })),
        parse: false,
      });
      return {
        playlist_id,
        action_result: response.data.actions,
      };
    });
  }
  removeVideos(playlist_id, video_ids) {
    return __awaiter28(this, void 0, void 0, function* () {
      throwIfMissing({ playlist_id, video_ids });
      const info = yield __classPrivateFieldGet36(
        this,
        _PlaylistManager_actions,
        "f",
      ).execute("/browse", { browseId: `VL${playlist_id}`, parse: true });
      const playlist = new Playlist_default2(
        __classPrivateFieldGet36(this, _PlaylistManager_actions, "f"),
        info,
        true,
      );
      if (!playlist.info.is_editable) {
        throw new InnertubeError(
          "This playlist cannot be edited.",
          playlist_id,
        );
      }
      const payload = {
        playlistId: playlist_id,
        actions: [],
      };
      const getSetVideoIds = /* @__PURE__ */ __name(
        (pl) =>
          __awaiter28(this, void 0, void 0, function* () {
            const videos = pl.videos.filter((video) =>
              video_ids.includes(video.key("id").string())
            );
            videos.forEach((video) =>
              payload.actions.push({
                action: "ACTION_REMOVE_VIDEO",
                setVideoId: video.key("set_video_id").string(),
              })
            );
            if (payload.actions.length < video_ids.length) {
              const next = yield pl.getContinuation();
              return getSetVideoIds(next);
            }
          }),
        "getSetVideoIds",
      );
      yield getSetVideoIds(playlist);
      if (!payload.actions.length) {
        throw new InnertubeError(
          "Given video ids were not found in this playlist.",
          video_ids,
        );
      }
      const response = yield __classPrivateFieldGet36(
        this,
        _PlaylistManager_actions,
        "f",
      ).execute(
        "/browse/edit_playlist",
        Object.assign(Object.assign({}, payload), { parse: false }),
      );
      return {
        playlist_id,
        action_result: response.data.actions,
      };
    });
  }
  moveVideo(playlist_id, moved_video_id, predecessor_video_id) {
    return __awaiter28(this, void 0, void 0, function* () {
      throwIfMissing({ playlist_id, moved_video_id, predecessor_video_id });
      const info = yield __classPrivateFieldGet36(
        this,
        _PlaylistManager_actions,
        "f",
      ).execute("/browse", { browseId: `VL${playlist_id}`, parse: true });
      const playlist = new Playlist_default2(
        __classPrivateFieldGet36(this, _PlaylistManager_actions, "f"),
        info,
        true,
      );
      if (!playlist.info.is_editable) {
        throw new InnertubeError(
          "This playlist cannot be edited.",
          playlist_id,
        );
      }
      const payload = {
        playlistId: playlist_id,
        actions: [],
      };
      let set_video_id_0, set_video_id_1;
      const getSetVideoIds = /* @__PURE__ */ __name(
        (pl) =>
          __awaiter28(this, void 0, void 0, function* () {
            const video_0 = pl.videos.find((video) =>
              moved_video_id === video.key("id").string()
            );
            const video_1 = pl.videos.find((video) =>
              predecessor_video_id === video.key("id").string()
            );
            set_video_id_0 = set_video_id_0 ||
              (video_0 === null || video_0 === void 0
                ? void 0
                : video_0.key("set_video_id").string());
            set_video_id_1 = set_video_id_1 ||
              (video_1 === null || video_1 === void 0
                ? void 0
                : video_1.key("set_video_id").string());
            if (!set_video_id_0 || !set_video_id_1) {
              const next = yield pl.getContinuation();
              return getSetVideoIds(next);
            }
          }),
        "getSetVideoIds",
      );
      yield getSetVideoIds(playlist);
      payload.actions.push({
        action: "ACTION_MOVE_VIDEO_AFTER",
        setVideoId: set_video_id_0,
        movedSetVideoIdPredecessor: set_video_id_1,
      });
      const response = yield __classPrivateFieldGet36(
        this,
        _PlaylistManager_actions,
        "f",
      ).execute(
        "/browse/edit_playlist",
        Object.assign(Object.assign({}, payload), { parse: false }),
      );
      return {
        playlist_id,
        action_result: response.data.actions,
      };
    });
  }
};
__name(PlaylistManager, "PlaylistManager");
_PlaylistManager_actions = /* @__PURE__ */ new WeakMap();
var PlaylistManager_default = PlaylistManager;

// dist/src/core/InteractionManager.js
var __awaiter29 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldSet35 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var __classPrivateFieldGet37 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var _InteractionManager_actions;
var InteractionManager = class {
  constructor(actions) {
    _InteractionManager_actions.set(this, void 0);
    __classPrivateFieldSet35(this, _InteractionManager_actions, actions, "f");
  }
  like(video_id) {
    return __awaiter29(this, void 0, void 0, function* () {
      throwIfMissing({ video_id });
      const action = yield __classPrivateFieldGet37(
        this,
        _InteractionManager_actions,
        "f",
      ).engage("like/like", { video_id });
      return action;
    });
  }
  dislike(video_id) {
    return __awaiter29(this, void 0, void 0, function* () {
      throwIfMissing({ video_id });
      const action = yield __classPrivateFieldGet37(
        this,
        _InteractionManager_actions,
        "f",
      ).engage("like/dislike", { video_id });
      return action;
    });
  }
  removeLike(video_id) {
    return __awaiter29(this, void 0, void 0, function* () {
      throwIfMissing({ video_id });
      const action = yield __classPrivateFieldGet37(
        this,
        _InteractionManager_actions,
        "f",
      ).engage("like/removelike", { video_id });
      return action;
    });
  }
  subscribe(channel_id) {
    return __awaiter29(this, void 0, void 0, function* () {
      throwIfMissing({ channel_id });
      const action = yield __classPrivateFieldGet37(
        this,
        _InteractionManager_actions,
        "f",
      ).engage("subscription/subscribe", { channel_id });
      return action;
    });
  }
  unsubscribe(channel_id) {
    return __awaiter29(this, void 0, void 0, function* () {
      throwIfMissing({ channel_id });
      const action = yield __classPrivateFieldGet37(
        this,
        _InteractionManager_actions,
        "f",
      ).engage("subscription/unsubscribe", { channel_id });
      return action;
    });
  }
  comment(video_id, text) {
    return __awaiter29(this, void 0, void 0, function* () {
      throwIfMissing({ video_id, text });
      const action = yield __classPrivateFieldGet37(
        this,
        _InteractionManager_actions,
        "f",
      ).engage("comment/create_comment", { video_id, text });
      return action;
    });
  }
  translate(text, target_language, args = {}) {
    return __awaiter29(this, void 0, void 0, function* () {
      throwIfMissing({ text, target_language });
      const response = yield yield __classPrivateFieldGet37(
        this,
        _InteractionManager_actions,
        "f",
      ).engage("comment/perform_comment_action", {
        video_id: args.video_id,
        comment_id: args.comment_id,
        target_language,
        comment_action: "translate",
        text,
      });
      const translated_content = findNode(
        response.data,
        "frameworkUpdates",
        "content",
        7,
        false,
      );
      return {
        success: response.success,
        status_code: response.status_code,
        translated_content: translated_content.content,
        data: response.data,
      };
    });
  }
  setNotificationPreferences(channel_id, type) {
    return __awaiter29(this, void 0, void 0, function* () {
      throwIfMissing({ channel_id, type });
      const action = yield __classPrivateFieldGet37(
        this,
        _InteractionManager_actions,
        "f",
      ).notifications("modify_channel_preference", {
        channel_id,
        pref: type || "NONE",
      });
      return action;
    });
  }
};
__name(InteractionManager, "InteractionManager");
_InteractionManager_actions = /* @__PURE__ */ new WeakMap();
var InteractionManager_default = InteractionManager;

// dist/src/core/FilterableFeed.js
var __awaiter30 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var __classPrivateFieldGet38 = function (receiver, state, kind, f) {
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a getter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot read private member from an object whose class did not declare it",
    );
  }
  return kind === "m"
    ? f
    : kind === "a"
    ? f.call(receiver)
    : f
    ? f.value
    : state.get(receiver);
};
var __classPrivateFieldSet36 = function (receiver, state, value, kind, f) {
  if (kind === "m") {
    throw new TypeError("Private method is not writable");
  }
  if (kind === "a" && !f) {
    throw new TypeError("Private accessor was defined without a setter");
  }
  if (
    typeof state === "function"
      ? receiver !== state || !f
      : !state.has(receiver)
  ) {
    throw new TypeError(
      "Cannot write private member to an object whose class did not declare it",
    );
  }
  return kind === "a"
    ? f.call(receiver, value)
    : f
    ? f.value = value
    : state.set(receiver, value),
    value;
};
var _FilterableFeed_chips;
var FilterableFeed = class extends Feed_default {
  constructor(actions, data, already_parsed = false) {
    super(actions, data, already_parsed);
    _FilterableFeed_chips.set(this, void 0);
  }
  get filter_chips() {
    var _a3, _b;
    if (__classPrivateFieldGet38(this, _FilterableFeed_chips, "f")) {
      return __classPrivateFieldGet38(this, _FilterableFeed_chips, "f") || [];
    }
    if (
      ((_a3 = this.memo.getType(FeedFilterChipBar_default)) === null ||
          _a3 === void 0
        ? void 0
        : _a3.length) > 1
    ) {
      throw new InnertubeError(
        "There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page",
      );
    }
    if (
      ((_b = this.memo.getType(FeedFilterChipBar_default)) === null ||
          _b === void 0
        ? void 0
        : _b.length) === 0
    ) {
      throw new InnertubeError("There are no feed filter chipbars");
    }
    __classPrivateFieldSet36(
      this,
      _FilterableFeed_chips,
      this.memo.getType(ChipCloudChip_default),
      "f",
    );
    return __classPrivateFieldGet38(this, _FilterableFeed_chips, "f") || [];
  }
  get filters() {
    return this.filter_chips.map((chip) => chip.text.toString()) || [];
  }
  getFilteredFeed(filter2) {
    var _a3;
    return __awaiter30(this, void 0, void 0, function* () {
      let target_filter;
      if (typeof filter2 === "string") {
        if (!this.filters.includes(filter2)) {
          throw new InnertubeError("Filter not found", {
            available_filters: this.filters,
          });
        }
        target_filter = this.filter_chips.find((chip) =>
          chip.text.toString() === filter2
        );
      } else if (filter2.type === "ChipCloudChip") {
        target_filter = filter2;
      } else {
        throw new InnertubeError("Invalid filter");
      }
      if (!target_filter) {
        throw new InnertubeError("Filter not found");
      }
      if (target_filter.is_selected) {
        return this;
      }
      const response =
        yield (_a3 = target_filter.endpoint) === null || _a3 === void 0
          ? void 0
          : _a3.call(this.actions, void 0, true);
      return new Feed_default(this.actions, response, true);
    });
  }
};
__name(FilterableFeed, "FilterableFeed");
_FilterableFeed_chips = /* @__PURE__ */ new WeakMap();
var FilterableFeed_default = FilterableFeed;

// dist/src/Innertube.js
var __awaiter31 = function (thisArg, _arguments, P, generator) {
  function adopt(value) {
    return value instanceof P ? value : new P(function (resolve) {
      resolve(value);
    });
  }
  __name(adopt, "adopt");
  return new (P || (P = Promise))(function (resolve, reject) {
    function fulfilled(value) {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    }
    __name(fulfilled, "fulfilled");
    function rejected(value) {
      try {
        step(generator["throw"](value));
      } catch (e) {
        reject(e);
      }
    }
    __name(rejected, "rejected");
    function step(result) {
      result.done
        ? resolve(result.value)
        : adopt(result.value).then(fulfilled, rejected);
    }
    __name(step, "step");
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
};
var Innertube = class {
  constructor(session) {
    this.session = session;
    this.account = new AccountManager_default(this.session.actions);
    this.playlist = new PlaylistManager_default(this.session.actions);
    this.interact = new InteractionManager_default(this.session.actions);
    this.music = new Music_default(this.session);
    this.studio = new Studio_default(this.session);
    this.actions = this.session.actions;
  }
  static create(config = {}) {
    return __awaiter31(this, void 0, void 0, function* () {
      return new Innertube(yield Session.create(config));
    });
  }
  getInfo(video_id) {
    return __awaiter31(this, void 0, void 0, function* () {
      throwIfMissing({ video_id });
      const cpn = generateRandomString(16);
      const initial_info = yield this.actions.execute("/player", {
        client: "ANDROID",
        videoId: video_id,
      });
      const continuation = this.actions.next({ video_id });
      const response = yield Promise.all([initial_info, continuation]);
      return new VideoInfo_default(
        response,
        this.actions,
        this.session.player,
        cpn,
      );
    });
  }
  getBasicInfo(video_id) {
    return __awaiter31(this, void 0, void 0, function* () {
      throwIfMissing({ video_id });
      const cpn = generateRandomString(16);
      const response = yield this.actions.execute("/player", {
        client: "ANDROID",
        videoId: video_id,
      });
      return new VideoInfo_default(
        [response],
        this.actions,
        this.session.player,
        cpn,
      );
    });
  }
  search(query2, filters2 = {}) {
    return __awaiter31(this, void 0, void 0, function* () {
      throwIfMissing({ query: query2 });
      const response = yield this.actions.search({
        query: query2,
        filters: filters2,
      });
      return new Search_default(this.actions, response.data);
    });
  }
  getSearchSuggestions(query2) {
    return __awaiter31(this, void 0, void 0, function* () {
      throwIfMissing({ query: query2 });
      const url = new URL(`${Constants_default.URLS.YT_SUGGESTIONS}search`);
      url.searchParams.set("q", query2);
      url.searchParams.set("hl", this.session.context.client.hl);
      url.searchParams.set("gl", this.session.context.client.gl);
      url.searchParams.set("ds", "yt");
      url.searchParams.set("client", "youtube");
      url.searchParams.set("xssi", "t");
      url.searchParams.set("oe", "UTF");
      const response = yield this.session.http.fetch(url);
      const response_data = yield response.text();
      const data = JSON.parse(response_data.replace(")]}'", ""));
      const suggestions = data[1].map((suggestion) => suggestion[0]);
      return suggestions;
    });
  }
  getComments(video_id, sort_by) {
    return __awaiter31(this, void 0, void 0, function* () {
      throwIfMissing({ video_id });
      const payload = proto_default.encodeCommentsSectionParams(video_id, {
        sort_by: sort_by || "TOP_COMMENTS",
      });
      const response = yield this.actions.next({ ctoken: payload });
      return new Comments_default(this.actions, response.data);
    });
  }
  getHomeFeed() {
    return __awaiter31(this, void 0, void 0, function* () {
      const response = yield this.actions.browse("FEwhat_to_watch");
      return new FilterableFeed_default(this.actions, response.data);
    });
  }
  getLibrary() {
    return __awaiter31(this, void 0, void 0, function* () {
      const response = yield this.actions.browse("FElibrary");
      return new Library_default(response.data, this.actions);
    });
  }
  getHistory() {
    return __awaiter31(this, void 0, void 0, function* () {
      const response = yield this.actions.browse("FEhistory");
      return new History_default(this.actions, response.data);
    });
  }
  getTrending() {
    return __awaiter31(this, void 0, void 0, function* () {
      const response = yield this.actions.browse("FEtrending");
      return new TabbedFeed_default(this.actions, response.data);
    });
  }
  getSubscriptionsFeed() {
    return __awaiter31(this, void 0, void 0, function* () {
      const response = yield this.actions.browse("FEsubscriptions");
      return new Feed_default(this.actions, response.data);
    });
  }
  getChannel(id) {
    return __awaiter31(this, void 0, void 0, function* () {
      throwIfMissing({ id });
      const response = yield this.actions.browse(id);
      return new Channel_default2(this.actions, response.data);
    });
  }
  getNotifications() {
    return __awaiter31(this, void 0, void 0, function* () {
      const response = yield this.actions.notifications(
        "get_notification_menu",
      );
      return new NotificationsMenu_default(this.actions, response);
    });
  }
  getUnseenNotificationsCount() {
    return __awaiter31(this, void 0, void 0, function* () {
      const response = yield this.actions.notifications("get_unseen_count");
      return response.data.unseenCount;
    });
  }
  getPlaylist(id) {
    return __awaiter31(this, void 0, void 0, function* () {
      throwIfMissing({ id });
      const response = yield this.actions.browse(`VL${id.replace(/VL/g, "")}`);
      return new Playlist_default2(this.actions, response.data);
    });
  }
  getStreamingData(video_id, options = {}) {
    return __awaiter31(this, void 0, void 0, function* () {
      const info = yield this.getBasicInfo(video_id);
      return info.chooseFormat(options);
    });
  }
  download(video_id, options) {
    return __awaiter31(this, void 0, void 0, function* () {
      throwIfMissing({ video_id });
      const info = yield this.getBasicInfo(video_id);
      return info.download(options);
    });
  }
};
__name(Innertube, "Innertube");
var Innertube_default = Innertube;

// dist/browser.js
var browser_default = Innertube_default;
export {
  browser_default as default,
  Constants_exports as Constants,
  EventEmitterLike as EventEmitter,
  HTTPClient,
  Innertube_default as Innertube,
  UniversalCache,
  Utils_exports as Utils,
};
//# sourceMappingURL=browser.js.map
